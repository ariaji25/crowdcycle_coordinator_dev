{"version":3,"sources":["constants/index.js","util/APIUtils.js","pages/users/auth/Login.js","pages/users/auth/Register.js","pages/users/auth/Forgot.js","pages/platformCoordinator/dashboardComponents/MonthlyReportDetail.js","util/Helper.js","pages/platformCoordinator/dashboardComponents/MonthlyReports.js","pages/platformCoordinator/dashboardComponents/PledgedPurchasedGradient.js","pages/platformCoordinator/dashboardComponents/ThisMonthDoughnuts.js","pages/platformCoordinator/dashboardComponents/businesses/TopPledgingBusinesses.js","pages/platformCoordinator/dashboardComponents/businesses/BusinessesTopAmountPledged.js","pages/platformCoordinator/dashboardComponents/businesses/PledgeVsSpendingBalances.js","components/RecentNotification.js","pages/platformCoordinator/dashboardComponents/businesses/RecentNotificationsByBusinesses.js","pages/platformCoordinator/dashboardComponents/organizations/OrganizationsTopPledgedReceived.js","pages/platformCoordinator/dashboardComponents/organizations/TopReceivingOrganizations.js","pages/platformCoordinator/dashboardComponents/organizations/GoalVsContributionBalances.js","pages/platformCoordinator/dashboardComponents/individuals/TopPurchasingIndividuals.js","pages/platformCoordinator/dashboardComponents/organizations/RecentNotificationsByOrganizations.js","pages/platformCoordinator/dashboardComponents/individuals/IndividualsTopAmountPurchased.js","pages/platformCoordinator/dashboardComponents/individuals/PurchasedVsSpentBalances.js","pages/platformCoordinator/dashboardComponents/NotificationGeneral.js","pages/platformCoordinator/dashboardComponents/individuals/RecentSocialMediaMentions.js","pages/platformCoordinator/StatsComponent.js","pages/platformCoordinator/StatsLists.js","pages/platformCoordinator/Dashboard.js","pages/business/dashboardComponents/MonthlyReportDetail.js","pages/business/dashboardComponents/MonthlyReports.js","pages/business/dashboardComponents/PledgedPurchasedGradient.js","pages/business/dashboardComponents/ThisMonthDoughnuts.js","pages/business/dashboardComponents/MyPledgesToOrganizations.js","pages/business/dashboardComponents/MyTopPurchasingIndividuals.js","pages/business/dashboardComponents/TopReceivingOrganizations.js","pages/business/StatsComponent.js","pages/business/dashboardComponents/notification/AllNotifications.js","pages/business/dashboardComponents/notification/MyNotification.js","pages/business/dashboardComponents/notification/RecentSocialMediaMentions.js","pages/business/StatsLists.js","pages/business/Dashboard.js","pages/organization/dashboardComponents/MonthlyReportDetail.js","pages/organization/dashboardComponents/MonthlyReports.js","pages/organization/dashboardComponents/PledgedPurchasedGradient.js","pages/organization/dashboardComponents/ThisMonthDoughnuts.js","pages/organization/dashboardComponents/TopReceivingOrganizations.js","pages/organization/dashboardComponents/TopSupportingIndividuals.js","pages/organization/dashboardComponents/PledgesReceivedfromBusinesses.js","pages/organization/StatsComponent.js","pages/organization/dashboardComponents/notification/AllNotifications.js","pages/organization/dashboardComponents/notification/MyNotification.js","pages/organization/dashboardComponents/notification/RecentSocialMediaMentions.js","pages/organization/StatsLists.js","pages/organization/Dashboard.js","pages/platformCoordinator/Settings.js","pages/platformCoordinator/SettingsEdit.js","pages/platformCoordinator/financeComponents/FinanceDetail.js","pages/platformCoordinator/financeComponents/FinanceOrganization.js","pages/platformCoordinator/financeComponents/FinancesByOrganization.js","pages/platformCoordinator/Finances.js","pages/platformCoordinator/Reports.js","pages/platformCoordinator/Confirmations.js","pages/platformCoordinator/Users.js","pages/business/Profile.js","pages/business/ProfileEdit.js","pages/business/PledgeComponent.js","pages/business/PledgeInfo.js","pages/business/Pledge.js","pages/organization/Profile.js","pages/organization/ProfileEdit.js","common/LoadingIndicator.js","common/NotFound.js","common/ServerError.js","context.js","util/useWindowDimensions.js","components/sidebar/sidebar-list/List.js","components/sidebar/sidebar-list/PlatformCoordinator.js","components/sidebar/sidebar-list/Organization.js","components/sidebar/sidebar-list/Business.js","components/sidebar/Sidebar.js","components/topnav/topnav-list/ProfileList.js","components/topnav/Topnav.js","components/footer/Footer.js","app/App.js","actions/index.js","actions/types.js","serviceWorker.js","reducers/index.js","index.js"],"names":["API_BASE_URL","request","options","headers","Headers","localStorage","getItem","url","includes","append","defaults","Object","assign","fetch","then","response","json","ok","Promise","reject","getCurrentUser","method","getUserSummary","start","end","getUserSummaryAll","getTransactionSummaryByUserId","user","getTransactionSummary","getTransactionSummaryAll","getUnverifiedBusiness","getPledgesByBusinesses","getPledgesByOrganization","getTopUpByIndividual","getUnverifiedOrganization","verifyAccount","verifyRequest","body","JSON","stringify","getSpentOnMe","limit","getWhoIPledged","getListPledges","updateAvatar","updateRequest","axios","post","Authorization","requestImage","a","get","res","data","unverifyAccount","requests","FormItem","Form","Item","Login","AntWrappedLoginForm","create","LoginForm","className","src","alt","style","height","bordered","width","onLogin","this","props","Component","state","loading","handleSubmit","bind","event","preventDefault","form","validateFields","err","values","setState","loginRequest","login","setItem","jwt","catch","error","console","log","statusCode","notification","message","description","messages","getFieldDecorator","onSubmit","rules","required","prefix","type","size","name","placeholder","Password","htmlType","to","Forgot","ForgotForm","email","success","MonthlyReportDetail","saveAsExcelBiz","wb","ExcelJS","Workbook","ws","addWorksheet","pageSetup","paperSize","orientation","datas","label","biz","dataFilter","filter","mbiz","topValues","sort","b","slice","margins","left","right","top","bottom","header","footer","map","item","key","push","amount","titleBiz","addRow","alignment","vertical","horizontal","mergeCells","font","bold","nameFile","xlsx","writeBuffer","buf","saveAs","Blob","saveAsExcelOrg","org","morg","titleOrg","saveAsExcelInd","ind","mind","titleInd","onClick","block","dataBiz","dataOrg","dataInd","formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","getDay","colorHex","monthArray","findPercent","first","last","toFixed","getFirstWord","str","spaceIndex","indexOf","substr","TabPane","Tabs","MonthlyReports","componentDidMount","keys","organization","organizationName","pledgeReceived","created_at","individual","toppedup","dataIndividual","business","businessName","pledged","saveAsExcel","dataB","dataI","dataO","row","labelBiz","labelIndividual","labelOrg","titleIndividual","dateString","m","active","total","dataTable","toLocaleString","undefined","minimumFractionDigits","value","href","tab","renderTableBiz","renderTableOrg","renderTableIndividual","defaultActiveKey","renderTabPane","PledgedPurchasedGradient","renderChart","fee","withdraw","topup","spent","pledge","transfer","datasets","platformLineChart","reverse","time","summary","i","k","fiatAmount","cekFee","cekWithdraw","cekTopup","cekSpent","cekTransfer","cekPledge","backgroundColor","labels","setGradientColor","canvas","color","gradient","getContext","createLinearGradient","addColorStop","getChartData","colors","forEach","set","borderColor","borderWidth","dates","newData","it","ky","dateNow","tanggal","displayChart","responsive","check","prevProps","prevState","_d","ThisMonthDoughnuts","exports","renderBar","TopPledgingBusinesses","renderTableData","PledgeVsSpendingBalances","pledgeFrom","spentTo","balance","token","RecentNotification","title","sender","createdAt","moment","startOf","fromNow","TopReceivingOrganizations","GoalVsContributionBalances","goal","parseInt","contribute","topupFrom","TopPurchasingIndividuals","PurchasedVsSpentBalances","NotificationGeneral","username","createdaAt","StatsComponent","renderComponent","percentage","paragraph","rows","percent","icon","all","StatsLists","allIndividual","allBusiness","allOrganization","allPledge","allTopup","allSpent","totalIndividual","totalBusiness","totalOrganization","totalPledge","totalTopup","totalSpent","percentTotalIndividual","percentTotalBusiness","percentTotalOrganization","percentTotalPledge","percentTotalTopup","percentTotalSpent","startLast","endLast","individualCount","businessCount","organizationCount","RangePicker","DatePicker","Dashboard","onChangeRange","onOkRange","role","id","background","padding","defaultValue","format","onChange","onOk","saveAsExcelPledge","saveAsExcelSpent","pledgedTotal","dataPledged","from","spentTotal","dataSpent","names","creates","dataP","dataS","renderTablePledged","renderTableSpent","MyPledgesToOrganizations","MyTopPurchasingIndividuals","Helmet","userInfo","TopSupportingIndividuals","FinanceDetail","FinanceOrganization","showModal","visible","handleOk","e","handleCancel","renderTable","totalToken","totalCash","dataFinance","transaction","cash","value1","colSpan","user_id","getFinance","tied","WithdrawForm","onCancel","currid","currname","renderItem","fiat","feePercent","fiatFee","initialValue","disabled","pledgeRequest","withdrawRequest","FinancesByOrganization","renderOrg","Finances","Reports","confirm","Modal","Users","getColumnSearchProps","dataIndex","filterDropdown","setSelectedKeys","selectedKeys","clearFilters","ref","node","searchInput","target","onPressEnter","handleSearch","marginBottom","display","marginRight","handleReset","filterIcon","filtered","onFilter","record","toString","toLowerCase","onFilterDropdownVisibleChange","setTimeout","select","render","text","searchedColumn","highlightStyle","searchWords","searchText","autoEscape","textToHighlight","confirmOrg","content","resolve","organization_id","Math","random","confirmBiz","business_id","unverifyBiz","unverifyOrg","unblockUser","blockUser","getAllBusinesses","dataConfirm","data_cache","blocked","confirmed","verified","columnsOrg","fixed","columnsBiz","columns","dataSource","scroll","x","Profile","AntWrappedProfileForm","ProfileForm","image","avatar","inputValue","tokenPercent","bizName","address","phone","website","formItemLayout","labelCol","xs","span","sm","wrapperCol","uploadButton","listType","showUploadList","action","whitespace","tipFormatter","beforeUpload","file","isJpgOrPng","isLt2M","ProfileEdit","handleUpload","fileList","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","getBase64","originFileObj","imageUrl","upload","refId","updateBiz","formData","FormData","tailFormItemLayout","offset","PledgeComponent","doing","detail","PledgeForm","fontSize","onShowPledgeInfo","pledgeOrg","PledgeInfo","frameBorder","border","allowFullScreen","Pledge","whatwedo","details","next","carousel","previous","prev","step","showPledgeInfo","React","createRef","autoplay","renderSlideData","orgName","bankName","bankAccountHolder","bankNumber","handleChange","info","updateOrg","LoadingIndicator","antIcon","spin","indicator","textAlign","marginTop","Context","createContext","sidebarType","onChangeSidebar","getWindowDimensions","window","innerWidth","innerHeight","act","List","useState","windowDimensions","setWindowDimensions","useEffect","handleResize","removeEventListener","useWindowDimensions","useContext","link","isActive","PlatformCoordinator","handleActive","loc","Organization","Business","Sidebar","renderProfile","titleRole","location","userStatus","nextProps","nextState","pathname","context","marginLeft","contextType","ProfileList","handleLogout","Topnav","setUsername","setAvatar","setRole","data-toggle","aria-expanded","notificationType","removeItem","reload","Footer","App","loadCurrentUser","isLoading","handleLogin","isAuthenticated","config","placement","duration","setUser","history","clearUser","Provider","exact","path","component","BusinessProfile","BusinessProfileEdit","BusinessPledge","PlatformDashboard","PlatformFinances","PlatformReports","PlatformUsers","OrganizationProfile","OrganizationProfileEdit","RootWithAuth","withRouter","connect","payload","currentUser","Boolean","hostname","match","initialUserState","rootReducer","combineReducers","store","createStore","composeWithDevTools","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.fab5793d.chunk.js","sourcesContent":["// export const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'https://crowdcycle-test.herokuapp.com';\r\nexport const API_BASE_URL = 'https://api.bali.crowdcycle.io';\r\nexport const ACCESS_TOKEN = 'accessToken';\r\n\r\nexport const NAME_MIN_LENGTH = 4;\r\nexport const NAME_MAX_LENGTH = 40;\r\n\r\nexport const USERNAME_MIN_LENGTH = 3;\r\nexport const USERNAME_MAX_LENGTH = 15;\r\n\r\nexport const EMAIL_MAX_LENGTH = 40;\r\n\r\nexport const PASSWORD_MIN_LENGTH = 6;\r\nexport const PASSWORD_MAX_LENGTH = 20;\r\n\r\n","import { API_BASE_URL, ACCESS_TOKEN } from '../constants';\r\nimport axios from 'axios'\r\n\r\nconst request = (options) => {\r\n    const headers = new Headers({\r\n        'Content-Type': 'application/json',\r\n    })\r\n    \r\n    if(localStorage.getItem(ACCESS_TOKEN) && !options.url.includes('/auth/local')) {\r\n        headers.append('Authorization', 'Bearer ' + localStorage.getItem(ACCESS_TOKEN))\r\n    }\r\n\r\n    const defaults = {headers: headers};\r\n    options = Object.assign({}, defaults, options);\r\n\r\n    return fetch(options.url, options)\r\n    .then(response => \r\n        response.json().then(json => {\r\n            if(!response.ok) {\r\n                return Promise.reject(json);\r\n            }\r\n            return json;\r\n        })\r\n    );\r\n};\r\n\r\nconst requestImage = (options) => {\r\n    const headers = new Headers()\r\n    \r\n    if(localStorage.getItem(ACCESS_TOKEN)) {\r\n        headers.append('Authorization', 'Bearer ' + localStorage.getItem(ACCESS_TOKEN))\r\n    }\r\n\r\n    return axios.post( API_BASE_URL + \"/upload\", options, {\r\n        headers: {\r\n            Authorization:\r\n              \"Bearer \" + localStorage.getItem(ACCESS_TOKEN)\r\n        },\r\n      })\r\n};\r\n\r\nexport function login(loginRequest) {\r\n    return request({\r\n        url: API_BASE_URL + \"/auth/local\",\r\n        method: 'POST',\r\n        body: JSON.stringify(loginRequest)\r\n    });\r\n}\r\n\r\nexport function getCurrentUser() {\r\n    if(!localStorage.getItem(ACCESS_TOKEN)) {\r\n        return Promise.reject(\"No access token set.\");\r\n    }\r\n    return request({\r\n        url: API_BASE_URL + \"/users/me\",\r\n        method: 'GET'\r\n    });\r\n}\r\n\r\nexport function getUserSummaryByUserId(start, end, user){\r\n    return request({\r\n        url: API_BASE_URL + \"/reportings/users/summary?_endSpan=\"+ end +\"&_startSpan=\"+ start+\"&user_id=\"+user,\r\n        method: 'GET',\r\n    })\r\n}\r\n\r\nexport function getUserSummary(start, end){\r\n    return request({\r\n        url: API_BASE_URL + \"/reportings/users/summary?_endSpan=\"+ end +\"&_startSpan=\"+ start,\r\n        method: 'GET',\r\n    })\r\n}\r\n\r\nexport function getUserSummaryAll(){\r\n    return request({\r\n        url: API_BASE_URL + \"/reportings/users/summary\",\r\n        method: 'GET',\r\n    })\r\n}\r\n\r\nexport function getTransactionSummaryByUserId(start, end, user){\r\n    return request({\r\n        url: API_BASE_URL + \"/reportings/transactions/timebyamount?_endSpan=\"+ end +\"&_startSpan=\"+ start+\"&timetype=UNIQDATEMONTHYEAR&user_id=\"+user,\r\n        method: 'GET'\r\n    })\r\n}\r\n\r\nexport function getTransactionSummary(start, end){\r\n    return request({\r\n        url: API_BASE_URL + \"/reportings/transactions/summary?_endSpan=\"+ end +\"&_startSpan=\"+ start,\r\n        method: 'GET'\r\n    })\r\n}\r\n\r\nexport function getTransactionSummaryAll(){\r\n    return request({\r\n        url: API_BASE_URL + \"/reportings/transactions/summary\",\r\n        method: 'GET'\r\n    })\r\n}\r\n\r\nexport function getUnverifiedBusiness(){\r\n    return request({\r\n        url: API_BASE_URL + \"/cordinators/unverifiedBusiness\",\r\n        method: 'GET',\r\n    })\r\n}\r\n\r\nexport function getPledgesByBusinesses(){\r\n    return request({\r\n        url: API_BASE_URL + \"/reportings/pledges/bybusiness\",\r\n        method: 'GET'\r\n    })\r\n}\r\n\r\nexport function getPledgesByOrganization(){\r\n    return request({\r\n        url: API_BASE_URL + \"/reportings/pledges/byorganization\",\r\n        method: 'GET'\r\n    })\r\n}\r\n\r\nexport function getTopUpByIndividual(){\r\n    return request({\r\n        url: API_BASE_URL + \"/reportings/topup/byindividual\",\r\n        method: 'GET'\r\n    })\r\n}\r\n\r\nexport function transactionBusiness(){\r\n    return request({\r\n        url: API_BASE_URL + \"/reportings/transactions/role/business\",\r\n        method: 'GET'\r\n    })\r\n}\r\n\r\nexport function transactionOrganization(){\r\n    return request({\r\n        url: API_BASE_URL + \"/reportings/transactions/role/organization\",\r\n        method: 'GET'\r\n    })\r\n}\r\n\r\nexport function transactionIndividual(){\r\n    return request({\r\n        url: API_BASE_URL + \"/reportings/transactions/role/individual\",\r\n        method: 'GET'\r\n    })\r\n}\r\n\r\nexport function getUnverifiedOrganization(){\r\n    return request({\r\n        url: API_BASE_URL + \"/cordinators/unverifiedOrganization\",\r\n        method: 'GET',\r\n    })\r\n}\r\n\r\nexport function verifyAccount(verifyRequest){\r\n    return request({\r\n        url: API_BASE_URL + \"/cordinators/verify\",\r\n        method: 'POST',\r\n        body: JSON.stringify(verifyRequest)\r\n    })\r\n}\r\n\r\nexport function platformLineChart(start, end){\r\n    return request({\r\n        url: API_BASE_URL + \"/reportings/transactions/timebyamount?_endSpan=\"+ end +\"&_startSpan=\"+ start +\"&timetype=UNIQDATEMONTHYEAR\",\r\n        method: 'GET',\r\n    })\r\n}\r\n\r\nexport function bizLineChart(start, end, id){\r\n    return request({\r\n        url: API_BASE_URL + \"/reportings/transactions/summary?_endSpan=\"+ end +\"&_startSpan=\"+ start +\"&user_id=\"+id,\r\n        method: 'GET',\r\n    })\r\n}\r\n\r\nexport function UserIDLineChart(start, end, id){\r\n    return request({\r\n        url: API_BASE_URL + \"/reportings/transactions/summary?_endSpan=\"+ end +\"&_startSpan=\"+ start +\"&user_id=\"+id,\r\n        method: 'GET',\r\n    })\r\n}\r\n\r\nexport function forgotPassword(email){\r\n    return request({\r\n        url: API_BASE_URL + \"/auth/forgot-password\",\r\n        method: 'POST',\r\n        body: JSON.stringify(email)\r\n    })\r\n}\r\n\r\nexport function getNotification(limit){\r\n    return request({\r\n        url: API_BASE_URL + \"/notifications?_limit=\"+limit+\"&_sort=created_at:DESC\",\r\n        method: 'GET',\r\n    })\r\n}\r\n\r\nexport function getSpentOnMe(limit){\r\n    if(limit === \"\"){\r\n        return request({\r\n            url: API_BASE_URL + \"/businesses/individualSpentOnMe\",\r\n            method: 'GET',\r\n        })\r\n    }else{\r\n        return request({\r\n            url: API_BASE_URL + \"/businesses/individualSpentOnMe?_limit=\"+limit+\"&_sort=spentTotal:DESC\",\r\n            method: 'GET',\r\n        })\r\n    }\r\n}\r\n\r\nexport function getWhoIPledged(limit){\r\n    if(limit === \"\"){\r\n        return request({\r\n            url: API_BASE_URL + \"/businesses/whoIPledged\",\r\n            method: 'GET',\r\n        })\r\n    }else{\r\n        return request({\r\n            url: API_BASE_URL + \"/businesses/whoIPledged?_limit=\"+limit+\"&_sort=pledgedTotal:DESC\",\r\n            method: 'GET',\r\n        })\r\n    }\r\n}\r\n\r\nexport function getListPledges(){\r\n    return request({\r\n        url: API_BASE_URL + \"/organizations\",\r\n        method: 'GET'\r\n    })\r\n}\r\n\r\nexport function pledgeOrg(pledgeRequest) {\r\n    return request({\r\n        url: API_BASE_URL + \"/organizations/pledge\",\r\n        method: 'POST',\r\n        body: JSON.stringify(pledgeRequest)\r\n    });\r\n}\r\n\r\nexport function getFinance(start, end, user_id){\r\n    return request({\r\n        url: API_BASE_URL + \"/reportings/transactions/byuser?_endSpan=\"+end+\"&_startSpan=\"+start+\"&user_id=\"+user_id,\r\n        method: 'GET'\r\n    })\r\n}\r\n\r\nexport function updateOrg(updateRequest) {\r\n    return request({\r\n        url: API_BASE_URL + \"/organizations/me\",\r\n        method: 'PUT',\r\n        body: JSON.stringify(updateRequest)\r\n    });\r\n}\r\n\r\nexport function updateBiz(updateRequest) {\r\n    return request({\r\n        url: API_BASE_URL + \"/businesses/me\",\r\n        method: 'PUT',\r\n        body: JSON.stringify(updateRequest)\r\n    });\r\n}\r\n\r\nexport function getFiat(user_id){\r\n    return request({\r\n        url: API_BASE_URL + \"/reportings/balances/byuser?id=\"+user_id,\r\n        method: 'GET'\r\n    })\r\n}\r\n\r\nexport function getServerCompatibility(){\r\n    return request({\r\n        url: API_BASE_URL + \"/serverinfos/compatibility\",\r\n        method: 'GET'\r\n    })\r\n}\r\n\r\nexport function recordWithdraw(withdrawRequest){\r\n    return request({\r\n        url: API_BASE_URL + \"/reportings/recordwithdraw\",\r\n        method: 'POST',\r\n        body: JSON.stringify(withdrawRequest)\r\n    });\r\n}\r\n\r\nexport function updateAvatar(updateRequest) {\r\n    return requestImage(updateRequest);\r\n}\r\n\r\nexport async function getAllBusinesses(){\r\n    let res = await axios.get(API_BASE_URL + \"/businesses?_limit=100\");\r\n    return res.data\r\n}   \r\n\r\nexport function getAllOrganizations(){\r\n    return request({\r\n        url: API_BASE_URL + \"/organizations?_limit=100\",\r\n        method: 'GET'\r\n    })\r\n}\r\n\r\nexport function unverifyAccount(requests){\r\n    return request({\r\n        url: API_BASE_URL + \"/cordinators/unverify\",\r\n        method: 'POST',\r\n        body: JSON.stringify(requests)\r\n    });\r\n}\r\n\r\nexport function unblockAccount(requests){\r\n    return request({\r\n        url: API_BASE_URL + \"/cordinators/unblock\",\r\n        method: 'POST',\r\n        body: JSON.stringify(requests)\r\n    });\r\n}\r\n\r\nexport function blockAccount(requests){\r\n    return request({\r\n        url: API_BASE_URL + \"/cordinators/block\",\r\n        method: 'POST',\r\n        body: JSON.stringify(requests)\r\n    });\r\n}\r\n","import React, { Component } from 'react'\r\nimport './Login.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { login } from '../../../util/APIUtils';\r\nimport { Form, Input, Icon, Button, Card, notification} from 'antd';\r\n// import { getCurrentUser } from '../../../util/APIUtils';\r\nimport { ACCESS_TOKEN } from '../../../constants';\r\n\r\nconst FormItem = Form.Item;\r\n\r\nclass Login extends Component {\r\n    render() {\r\n        const AntWrappedLoginForm = Form.create()(LoginForm)\r\n        return (\r\n            <div className=\"login-container\">\r\n                <div className=\"login-body\">\r\n                    <img src=\"Logo.png\" alt=\"Logo\" style={{  height: '128px' }} />\r\n                    <h3>Login to Platform</h3>\r\n                    <Card bordered={false} style={{ width: 300 }}>\r\n                        <div className=\"login-content\">\r\n                            <AntWrappedLoginForm onLogin={this.props.onLogin} />\r\n                        </div>\r\n                    </Card>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass LoginForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {loading:false}\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                this.setState({ loading: true })\r\n                // do login\r\n                const loginRequest = Object.assign({}, values);\r\n                login(loginRequest)\r\n                    .then(response => {\r\n                        localStorage.setItem(ACCESS_TOKEN, response.jwt);\r\n                        this.props.onLogin(response);\r\n                    }).catch(error => {\r\n                        this.setState({ loading: false })\r\n                        console.log()\r\n                        if (error.statusCode === 400) {\r\n                            notification.error({\r\n                                message: 'Platform',\r\n                                description: error.message[0].messages[0].message\r\n                            });\r\n                        } else {\r\n                            notification.error({\r\n                                message: 'Platform',\r\n                                description: 'Sorry! Something went wrong. Please try again!'\r\n                            });\r\n                        }\r\n                    });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { loading } = this.state\r\n        const { getFieldDecorator } = this.props.form;\r\n        return (\r\n            <Form onSubmit={this.handleSubmit}>\r\n                <FormItem>\r\n                    {getFieldDecorator('identifier', {\r\n                        rules: [{ required: true, message: 'Please input your username or email!' }],\r\n                    })(\r\n                        <Input\r\n                            prefix={<Icon type=\"user\" />}\r\n                            size=\"large\"\r\n                            name=\"identifier\"\r\n                            placeholder=\"Username or Email\" />\r\n                    )}\r\n                </FormItem>\r\n                <FormItem>\r\n                    {getFieldDecorator('password', {\r\n                        rules: [{ required: true, message: 'Please input your Password!' }],\r\n                    })(\r\n                        <Input.Password\r\n                            prefix={<Icon type=\"lock\" />}\r\n                            size=\"large\"\r\n                            name=\"password\"\r\n                            type=\"password\"\r\n                            placeholder=\"Password\" />\r\n                    )}\r\n                </FormItem>\r\n                <FormItem>\r\n                    \r\n                    <Button type=\"primary\" htmlType=\"submit\" size=\"large\" className=\"login-form-button\" loading={loading}>Login</Button>\r\n                    <Link to=\"/forgot\">Forgot Password ? </Link>\r\n                </FormItem>\r\n            </Form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login","import React, { Component } from 'react';\r\nimport './Register.css';\r\n// import * as theme from '../../../theme'\r\nimport { Link } from 'react-router-dom';\r\nimport { \r\n    USERNAME_MIN_LENGTH, USERNAME_MAX_LENGTH,\r\n    EMAIL_MAX_LENGTH,\r\n    PASSWORD_MIN_LENGTH, PASSWORD_MAX_LENGTH\r\n} from '../../../constants';\r\n\r\nimport { Form, Input, Button, Card, Spin } from 'antd';\r\n\r\nconst FormItem = Form.Item;\r\n\r\nclass Register extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tusername: {\r\n                value: ''\r\n            },\r\n            email: {\r\n                value: ''\r\n            },\r\n            password: {\r\n                value: ''\r\n\t\t\t},\r\n\t\t\tpasswordConfirmed: {\r\n\t\t\t\tvalue: ''\r\n            },\r\n            loading: false\r\n\t\t};\r\n\t}\r\n\thandleInputChange = (e, val) => {\r\n\t\tconst target = e.target;\r\n\t\tconst inputName = target.name;\r\n\t\tconst inputValue = target.value;\r\n\t\tthis.setState({\r\n\t\t\t[inputName]: {\r\n\t\t\t\tvalue: inputValue,\r\n                ...val(inputValue)\r\n            },\r\n\t\t});\r\n    };\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\t// Code when submit\r\n\t};\r\n    isFormInvalid = () => {\r\n        const { username, email, password, passwordConfirmed } = this.state;\r\n        return !(username.validateStatus === 'success' &&\r\n        email.validateStatus === 'success') &&\r\n        password.validateStatus === 'success' &&\r\n        passwordConfirmed.validateStatus === 'success'\r\n    }\r\n\r\n\trender() {\r\n        const {email,password,passwordConfirmed, username, loading} = this.state\r\n\t\treturn (\r\n            <div className=\"signup-container\">\r\n                 <div className=\"signup-body\">\r\n                    <img src=\"Logo.png\" alt=\"Logo\" style={{  height: '128px' }} />\r\n                    <h3>Register to Platform Coordinator</h3>\r\n                    <Card bordered={false} style={{ width: 400 }}>\r\n                        <div className=\"signup-content\">\r\n                            <Form onSubmit={this.handleSubmit} className=\"signup-form\">\r\n                                <FormItem \r\n                                    hasFeedback\r\n                                    validateStatus={username.validateStatus}\r\n                                    help={username.errorMsg}>\r\n                                    <Input\r\n                                        size=\"large\"\r\n                                        name=\"username\"\r\n                                        autoComplete=\"off\"\r\n                                        placeholder=\"A unique username\"\r\n                                        value={username.value}\r\n                                        onBlur={this.validateUsernameAvailability}\r\n                                        onChange={(event) => this.handleInputChange(event, this.validateUsername)} />\r\n                                </FormItem>\r\n                                <FormItem\r\n                                    hasFeedback\r\n                                    validateStatus={email.validateStatus}\r\n                                    help={email.errorMsg}>\r\n                                    <Input\r\n                                        size=\"large\"\r\n                                        name=\"email\"\r\n                                        type=\"email\"\r\n                                        autoComplete=\"off\"\r\n                                        placeholder=\"Your email\"\r\n                                        value={email.value}\r\n                                        onBlur={this.validateEmailAvailability}\r\n                                        onChange={(event) => this.handleInputChange(event, this.validateEmail)} />\r\n                                </FormItem>\r\n                                <FormItem\r\n                                    validateStatus={password.validateStatus}\r\n                                    help={password.errorMsg}>\r\n                                    <Input\r\n                                        size=\"large\"\r\n                                        name=\"password\"\r\n                                        type=\"password\"\r\n                                        autoComplete=\"off\"\r\n                                        placeholder=\"A password between 6 to 20 characters\"\r\n                                        value={password.value}\r\n                                        onChange={(event) => this.handleInputChange(event, this.validatePassword)} />\r\n                                </FormItem>\r\n                                <FormItem\r\n                                    validateStatus={passwordConfirmed.validateStatus}\r\n                                    help={passwordConfirmed.errorMsg}>\r\n                                    <Input\r\n                                        size=\"large\"\r\n                                        name=\"passwordConfirmed\"\r\n                                        type=\"password\"\r\n                                        autoComplete=\"off\"\r\n                                        placeholder=\"A password between 6 to 20 characters\"\r\n                                        value={passwordConfirmed.value}\r\n                                        onChange={(event) => this.handleInputChange(event, this.validatePasswordConfirmed)} />\r\n                                </FormItem>\r\n                                <FormItem>\r\n                                    {loading ? <Spin /> : <Button \r\n                                        type={loading ? \"default\" : \"primary\"}\r\n                                        htmlType=\"submit\"\r\n                                        size=\"large\"\r\n                                        className=\"signup-form-button\"\r\n                                        disabled={this.isFormInvalid() || loading}>\r\n                                            Sign In\r\n                                        </Button>}   \r\n                                        <br />                                 \r\n                            Already registed? <Link to=\"/login\">Login now!</Link>\r\n                                </FormItem>\r\n                            </Form>\r\n                        </div>\r\n                    </Card>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n    validateEmail = (email) => {\r\n        if(!email) {\r\n            return {\r\n                validateStatus: 'error',\r\n                errorMsg: 'Email may not be empty'                \r\n            }\r\n        }\r\n\r\n        const EMAIL_REGEX = RegExp('[^@ ]+@[^@ ]+\\\\.[^@ ]+');\r\n        if(!EMAIL_REGEX.test(email)) {\r\n            return {\r\n                validateStatus: 'error',\r\n                errorMsg: 'Email not valid'\r\n            }\r\n        }\r\n\r\n        if(email.length > EMAIL_MAX_LENGTH) {\r\n            return {\r\n                validateStatus: 'error',\r\n                errorMsg: `Email is too long (Maximum ${EMAIL_MAX_LENGTH} characters allowed)`\r\n            }\r\n        }\r\n\r\n        return {\r\n            validateStatus: 'success',\r\n            errorMsg: null\r\n        }\r\n    }\r\n\r\n    validateUsername = (username) => {\r\n        if(username.length < USERNAME_MIN_LENGTH) {\r\n            return {\r\n                validateStatus: 'error',\r\n                errorMsg: `Username is too short (Minimum ${USERNAME_MIN_LENGTH} characters needed.)`\r\n            }\r\n        } else if (username.length > USERNAME_MAX_LENGTH) {\r\n            return {\r\n                validationStatus: 'error',\r\n                errorMsg: `Username is too long (Maximum ${USERNAME_MAX_LENGTH} characters allowed.)`\r\n            }\r\n        } else {\r\n            return {\r\n                validateStatus: 'success',\r\n                errorMsg: null\r\n            }\r\n        }\r\n    }\r\n\r\n    validatePassword = (password) => {\r\n        if(password.length < PASSWORD_MIN_LENGTH) {\r\n            return {\r\n                validateStatus: 'error',\r\n                errorMsg: `Password is too short (Minimum ${PASSWORD_MIN_LENGTH} characters needed.)`\r\n            }\r\n        } else if (password.length > PASSWORD_MAX_LENGTH) {\r\n            return {\r\n                validationStatus: 'error',\r\n                errorMsg: `Password is too long (Maximum ${PASSWORD_MAX_LENGTH} characters allowed.)`\r\n            }\r\n        } else {\r\n            return {\r\n                validateStatus: 'success',\r\n                errorMsg: null,\r\n            };            \r\n        }\r\n    }\r\n\r\n\tvalidatePasswordConfirmed = (password) => {\r\n        if(password !== this.state.password.value) {\r\n            return {\r\n                validateStatus: 'error',\r\n                errorMsg: `Password is not same`\r\n            }\r\n        } else {\r\n            return {\r\n                validateStatus: 'success',\r\n                errorMsg: null,\r\n            };            \r\n        }\r\n    }\r\n}\r\n\r\nexport default Register","import React, { Component } from 'react'\r\nimport './Login.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { forgotPassword } from '../../../util/APIUtils';\r\nimport { Form, Input, Icon, Button, Card, notification} from 'antd';\r\n\r\nconst FormItem = Form.Item;\r\n\r\nclass Forgot extends Component {\r\n    render() {\r\n        const AntWrappedLoginForm = Form.create()(ForgotForm)\r\n        return (\r\n            <div className=\"login-container\">\r\n                <div className=\"login-body\">\r\n                    <img src=\"Logo.png\" alt=\"Logo\" style={{  height: '128px' }} />\r\n                    <h3>Forgot Password</h3>\r\n                    <Card bordered={false} style={{ width: 300 }}>\r\n                        <div className=\"login-content\">\r\n                            <AntWrappedLoginForm onLogin={this.props.onLogin} />\r\n                        </div>\r\n                    </Card>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass ForgotForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                // do login\r\n                const loginRequest = Object.assign({}, values);\r\n                forgotPassword(loginRequest)\r\n                    .then(response => {\r\n                        notification.success({\r\n                            message: 'Platform-Coordinator',\r\n                            description: 'Link has send in your email'\r\n                        });\r\n                    }).catch(error => {\r\n                        if (error.statusCode === 400) {\r\n                            notification.error({\r\n                                message: 'Platform-Coordinator',\r\n                                description: 'Your email is incorrect. Please try again!'\r\n                            });\r\n                        } else {\r\n                            notification.error({\r\n                                message: 'Platform-Coordinator',\r\n                                description: 'Sorry! Something went wrong. Please try again!'\r\n                            });\r\n                        }\r\n                    });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form;\r\n        return (\r\n            <Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n                <FormItem>\r\n                    {getFieldDecorator('email', {\r\n                        rules: [{ required: true, message: 'Please input your email!' }],\r\n                    })(\r\n                        <Input\r\n                            prefix={<Icon type=\"mail\" />}\r\n                            size=\"large\"\r\n                            name=\"email\"\r\n                            placeholder=\"Email\" />\r\n                    )}\r\n                </FormItem>\r\n                <FormItem>\r\n                    <Button type=\"primary\" htmlType=\"submit\" size=\"large\" className=\"login-form-button\">Send</Button>\r\n                    <Link to=\"/login\">Back </Link>\r\n                </FormItem>\r\n            </Form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Forgot","import React, { Component } from 'react';\r\nimport { Button, Icon } from 'antd';\r\nimport ExcelJS from 'exceljs/dist/es5/exceljs.browser';\r\nimport { saveAs } from 'file-saver';\r\n\r\nclass MonthlyReportDetail extends Component {\r\n\tsaveAsExcelBiz = async() =>{\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet datas = [],\r\n\t\t\tlabel = ['Name', 'Amount'],\r\n\t\t\trow = 1;\r\n\r\n\t\tlet { biz } = this.props;\r\n\t\tlet dataFilter = biz.filter((data) => data.create === this.props.mbiz);\r\n\t\tconst topValues = dataFilter.sort((a, b) => b - a).slice(0, 5);\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\ttopValues.map((item, key) => {\r\n\t\t\tdatas.push([item.name, item.amount]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst titleBiz = ws.addRow([\"Top Pledging Businesses-month \"+this.props.mbiz])\r\n\t\ttitleBiz.alignment = { vertical: 'middle', horizontal: 'center' };\r\n\t\tws.mergeCells('A'+row+':B'+row);\r\n\t\ttitleBiz.font = { bold: true };\r\n\t\tws.addRow();\r\n\t\tconst title = ws.addRow(label);\r\n\t\ttitle.font = { bold: true };\r\n\r\n\t\tdatas.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst nameFile = 'TopPledgingBusinesses-'+this.props.mbiz+'.xlsx'; \r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t}\r\n\tsaveAsExcelOrg = async() => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet datas = [],\r\n\t\t\tlabel = ['Name', 'Amount'],\r\n\t\t\trow = 1;\r\n\r\n\t\tlet { org } = this.props;\r\n\t\tlet dataFilter = org.filter((data) => data.create === this.props.morg);\r\n\t\tconst topValues = dataFilter.sort((a, b) => b - a).slice(0, 5);\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\ttopValues.map((item, key) => {\r\n\t\t\tdatas.push([item.name, item.amount]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst titleOrg = ws.addRow([\"Top Receiving Organizations-month \"+this.props.morg])\r\n\t\ttitleOrg.alignment = { vertical: 'middle', horizontal: 'center' };\r\n\t\tws.mergeCells('A'+row+':B'+row);\r\n\t\ttitleOrg.font = { bold: true };\r\n\t\tws.addRow();\r\n\t\tconst title = ws.addRow(label);\r\n\t\ttitle.font = { bold: true };\r\n\r\n\t\tdatas.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst nameFile = 'TopReceivingOrganizations-'+this.props.morg+'.xlsx'; \r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t}\r\n\tsaveAsExcelInd = async() => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet datas = [],\r\n\t\t\tlabel = ['Name', 'Email', 'Amount'],\r\n\t\t\trow = 1;\r\n\r\n\t\tlet { ind } = this.props;\r\n\t\tlet dataFilter = ind.filter((data) => data.create === this.props.mind);\r\n\t\tconst topValues = dataFilter.sort((a, b) => b - a).slice(0, 5);\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\ttopValues.map((item, key) => {\r\n\t\t\tdatas.push([item.name, item.email, item.amount]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst titleInd = ws.addRow([\"Top Purchasing Individuals-month \"+this.props.mind])\r\n\t\ttitleInd.alignment = { vertical: 'middle', horizontal: 'center' };\r\n\t\tws.mergeCells('A'+row+':C'+row);\r\n\t\ttitleInd.font = { bold: true };\r\n\t\tws.addRow();\r\n\t\tconst title = ws.addRow(label);\r\n\t\ttitle.font = { bold: true };\r\n\r\n\t\tdatas.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst nameFile = 'TopPurchasingIndividuals-'+this.props.mind+'.xlsx'; \r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-7 col-xs-12\">\r\n\t\t\t\t\t\t\t\t<h4>Top Pledging Businesses</h4>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-5 col-xs-12 text-right\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcelBiz()} block>\r\n\t\t\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"x_content table-responsive\">{this.props.dataBiz}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-7 col-xs-12\">\r\n\t\t\t\t\t\t\t\t<h4>Top Receiving Organizations</h4>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-5 col-xs-12 text-right\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcelOrg()} block>\r\n\t\t\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"x_content table-responsive\">{this.props.dataOrg}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-7 col-xs-12\">\r\n\t\t\t\t\t\t\t\t<h4>Top Purchasing Individuals</h4>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-5 col-xs-12 text-right\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcelInd()} block>\r\n\t\t\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"x_content table-responsive\">{this.props.dataInd}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MonthlyReportDetail;\r\n","// export function formatDate(dateString) {\r\n//     const date = new Date(dateString);\r\n\r\n//     const monthNames = [\r\n//       \"January\", \"February\", \"March\",\r\n//       \"April\", \"May\", \"June\", \"July\",\r\n//       \"August\", \"September\", \"October\",\r\n//       \"November\", \"December\"\r\n//     ];\r\n\r\n//     const monthIndex = date.getMonth();\r\n//     const year = date.getFullYear();\r\n\r\n//     return monthNames[monthIndex] + ' ' + year;\r\n// }\r\n\r\nimport moment from 'moment';\r\n\r\nexport function formatDateTime(dateTimeString) {\r\n\tconst date = new Date(dateTimeString);\r\n\r\n\tconst monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n\r\n\tconst monthIndex = date.getMonth();\r\n\tconst year = date.getFullYear();\r\n\r\n\treturn (\r\n\t\tdate.getDate() + ' ' + monthNames[monthIndex] + ' ' + year + ' - ' + date.getHours() + ':' + date.getMinutes()\r\n\t);\r\n}\r\n\r\nexport function formatDate(date) {\r\n\tvar d = new Date(date),\r\n\t\tmonth = '' + (d.getMonth() + 1),\r\n\t\tday = '' + d.getDate(),\r\n\t\tyear = d.getFullYear();\r\n\r\n\tif (month.length < 2) month = '0' + month;\r\n\tif (day.length < 2) day = '0' + day;\r\n\r\n\treturn [year, month, day].join('-');\r\n}\r\n\r\nexport function getDay(date) {\r\n\tconst monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n\tvar d = new Date(date),\r\n\t\tday = d.getDate() + monthNames[d.getMonth()];\r\n\treturn day;\r\n}\r\n\r\nexport function timeSince(date) {\r\n\tvar seconds = Math.floor((new Date() - date) / 1000);\r\n\r\n\tvar interval = seconds / 31536000;\r\n\r\n\tif (interval > 1) {\r\n\t\treturn Math.floor(interval) + ' years';\r\n\t}\r\n\tinterval = seconds / 2592000;\r\n\tif (interval > 1) {\r\n\t\treturn Math.floor(interval) + ' months';\r\n\t}\r\n\tinterval = seconds / 86400;\r\n\tif (interval > 1) {\r\n\t\treturn Math.floor(interval) + ' days';\r\n\t}\r\n\tinterval = seconds / 3600;\r\n\tif (interval > 1) {\r\n\t\treturn Math.floor(interval) + ' hours';\r\n\t}\r\n\tinterval = seconds / 60;\r\n\tif (interval > 1) {\r\n\t\treturn Math.floor(interval) + ' minutes';\r\n\t}\r\n\treturn Math.floor(seconds) + ' seconds';\r\n}\r\n\r\nexport function getRelativeTime(date) {\r\n\treturn moment().startOf(date).fromNow();\r\n}\r\n\r\nexport const colorRGBA = [\r\n\t'rgba(41, 128, 185, 0.75)',\r\n\t'rgba(26, 187, 156, 0.75)',\r\n\t'rgba(231, 76, 60, 0.75)',\r\n\t'rgba(179, 107, 182, 0.75)',\r\n\t'rgba(196, 196, 196, 0.75)',\r\n\t'rgba(45, 97, 135, 0.75)',\r\n\t'rgba(168, 221, 168, 0.75)',\r\n];\r\nexport const colorHex = ['#2980b9', '#1ABB9C', '#E74C3C', '#B36BB6', '#c4c4c4', '#2d6187', '#a8dda8'];\r\n\r\nexport const monthArray = [\r\n\t'January',\r\n\t'February',\r\n\t'March',\r\n\t'April',\r\n\t'May',\r\n\t'June',\r\n\t'July',\r\n\t'August',\r\n\t'September',\r\n\t'October',\r\n\t'November',\r\n\t'December',\r\n];\r\n\r\nexport const findPercent = (first, last) => {\r\n\tlet percent = (first/last).toFixed(2) * 100\r\n\treturn percent.toFixed(1)\r\n}\r\n\r\nexport function getFirstWord(str) {\r\n\tlet spaceIndex = str.indexOf(' ');\r\n\treturn spaceIndex === -1 ? str : str.substr(0, spaceIndex);\r\n};","import React, { Component } from 'react';\r\nimport { Tabs, Button, Icon } from 'antd';\r\nimport MonthlyReportDetail from './MonthlyReportDetail';\r\nimport { getPledgesByOrganization, getTopUpByIndividual, getPledgesByBusinesses } from '../../../util/APIUtils';\r\nimport { monthArray, getFirstWord } from '../../../util/Helper';\r\nimport ExcelJS from 'exceljs/dist/es5/exceljs.browser';\r\nimport { saveAs } from 'file-saver';\r\nimport { \r\n\tSkeleton, \r\n\t// DatePicker \r\n} from 'antd';\r\n\r\nconst { TabPane } = Tabs;\r\n// const { MonthPicker } = DatePicker\r\n// const dateFormat = 'YYYY';\r\nclass MonthlyReports extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { dataOrg: [], dataIndividual: [], dataBiz: [], year: new Date().getFullYear() };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tgetPledgesByOrganization()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconst data = [];\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tlet name;\r\n\t\t\t\t\tif(Object.keys(item.organization).length === 0){\r\n\t\t\t\t\t\tname = \"Data is deleted\"\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tname = item.organization.organization.organizationName\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\tamount: item.pledgeReceived,\r\n\t\t\t\t\t\tcreate: new Date(item.organization.created_at).getMonth() + 1,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\t// const topValues = data.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdataOrg: data,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t\tgetTopUpByIndividual()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconst data = [];\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: item.individual.individual.name,\r\n\t\t\t\t\t\temail: item.individual.email,\r\n\t\t\t\t\t\tamount: item.toppedup,\r\n\t\t\t\t\t\tcreate: new Date(item.individual.created_at).getMonth() + 1,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\t// const topValues = data.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdataIndividual: data,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t\tgetPledgesByBusinesses()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconst data = [];\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: item.business.business.businessName,\r\n\t\t\t\t\t\tamount: item.pledged,\r\n\t\t\t\t\t\tcreate: new Date(item.business.created_at).getMonth() + 1,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdataBiz: data,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t};\r\n\tonChange(date, dateString) {\r\n\t\tconsole.log(date, dateString);\r\n\t}\r\n\trenderTableOrg(m) {\r\n\t\tconst { dataOrg } = this.state;\r\n\t\tif (dataOrg.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tlet total = 0;\r\n\t\t\tlet data = this.state.dataOrg;\r\n\t\t\tlet dataFilter = data.filter((data) => data.create === m);\r\n\t\t\tconst topValues = dataFilter.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\tconst dataTable = topValues.map((item, key) => {\r\n\t\t\t\tconst { name, amount } = item; //destructuring\r\n\t\t\t\ttotal += amount;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t<td>{name}</td>\r\n\t\t\t\t\t\t<td>{amount.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tconst value = total.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Amount</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataTable}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Total:</td>\r\n\t\t\t\t\t\t\t<td>{value}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trenderTableIndividual(m) {\r\n\t\tconst { dataIndividual } = this.state;\r\n\t\tif (dataIndividual.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tlet total = 0;\r\n\t\t\tlet data = this.state.dataIndividual;\r\n\t\t\tlet dataFilter = data.filter((data) => data.create === m);\r\n\t\t\tconst topValues = dataFilter.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\tconst dataTable = topValues.map((item, key) => {\r\n\t\t\t\tconst { name, email, amount } = item; //destructuring\r\n\t\t\t\ttotal += amount;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t{/* <td>{name}</td> */}\r\n\t\t\t\t\t\t<td><a href={\"mailto:\"+email}>{getFirstWord(name)}</a></td>\r\n\t\t\t\t\t\t{/* <td>{email}</td> */}\r\n\t\t\t\t\t\t<td>{amount.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tconst value = total.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Amount</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataTable}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Total:</td>\r\n\t\t\t\t\t\t\t<td>{value}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trenderTableBiz(m) {\r\n\t\tconst { dataBiz } = this.state;\r\n\t\tif (dataBiz.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tlet total = 0;\r\n\t\t\tlet data = this.state.dataBiz;\r\n\t\t\tlet dataFilter = data.filter((data) => data.create === m);\r\n\t\t\tconst topValues = dataFilter.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\tconst dataTable = topValues.map((item, key) => {\r\n\t\t\t\tconst { name, amount } = item; //destructuring\r\n\t\t\t\ttotal += amount;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t<td>{name}</td>\r\n\t\t\t\t\t\t<td>{amount.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tconst value = total.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Amount</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataTable}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Total:</td>\r\n\t\t\t\t\t\t\t<td>{value}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trenderTabPane() {\r\n\t\treturn monthArray.map((item, key) => {\r\n\t\t\treturn (\r\n\t\t\t\t<TabPane tab={item} key={key + 1}>\r\n\t\t\t\t\t<MonthlyReportDetail\r\n\t\t\t\t\t\tdataBiz={this.renderTableBiz(key + 1)}\r\n\t\t\t\t\t\tbiz={this.state.dataBiz}\r\n\t\t\t\t\t\tmbiz={key + 1}\r\n\t\t\t\t\t\tdataOrg={this.renderTableOrg(key + 1)}\r\n\t\t\t\t\t\torg={this.state.dataOrg}\r\n\t\t\t\t\t\tmorg={key + 1}\r\n\t\t\t\t\t\tdataInd={this.renderTableIndividual(key + 1)}\r\n\t\t\t\t\t\tind={this.state.dataIndividual}\r\n\t\t\t\t\t\tmind={key + 1}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TabPane>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\tsaveAsExcel = async () => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet dataB = [],\r\n\t\t\tdataI = [],\r\n\t\t\tdataO = [],\r\n\t\t\trow = 1,\r\n\t\t\tlabelBiz = ['Name', 'Amount', 'Month'],\r\n\t\t\tlabelIndividual = ['Name', 'Email', 'Amount', 'Month'],\r\n\t\t\tlabelOrg = ['Name', 'Amount', 'Month'];\r\n\r\n\t\tlet { dataBiz, dataIndividual, dataOrg } = this.state;\r\n\r\n\t\tconsole.log(dataBiz);\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\tdataBiz.map((item, key) => {\r\n\t\t\tdataB.push([item.name, item.amount, item.create]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tdataIndividual.map((item, key) => {\r\n\t\t\tdataI.push([item.name, item.email, item.amount, item.create]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tdataOrg.map((item, key) => {\r\n\t\t\tdataO.push([item.name, item.amount, item.create]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst titleBiz = ws.addRow(['Top Pledging Businesses-' + new Date().getFullYear()]);\r\n\t\tws.mergeCells('A' + row + ':C' + row);\r\n\t\trow += 1;\r\n\t\ttitleBiz.font = { bold: true };\r\n\t\ttitleBiz.alignment = { vertical: 'middle', horizontal: 'center' };\r\n\r\n\t\tconst title = ws.addRow(labelBiz);\r\n\t\ttitle.font = { bold: true };\r\n\t\trow += 1;\r\n\r\n\t\tdataB.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\trow += 1;\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tws.addRow();\r\n\t\trow += 1;\r\n\t\tconst titleIndividual = ws.addRow(['Top Purchasing Individuals-' + new Date().getFullYear()]);\r\n\t\tws.mergeCells('A' + row + ':D' + row);\r\n\t\trow += 1;\r\n\t\ttitleIndividual.font = { bold: true };\r\n\t\ttitleIndividual.alignment = { vertical: 'middle', horizontal: 'center' };\r\n\r\n\t\tconst title2 = ws.addRow(labelIndividual);\r\n\t\ttitle2.font = { bold: true };\r\n\t\trow += 1;\r\n\r\n\t\tdataI.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\trow += 1;\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tws.addRow();\r\n\t\trow += 1;\r\n\t\tconst titleOrg = ws.addRow(['Top Receiving Organizations-' + new Date().getFullYear()]);\r\n\t\tws.mergeCells('A' + row + ':C' + row);\r\n\t\trow += 1;\r\n\t\ttitleOrg.font = { bold: true };\r\n\t\ttitleOrg.alignment = { vertical: 'middle', horizontal: 'center' };\r\n\r\n\t\tconst title3 = ws.addRow(labelOrg);\r\n\t\ttitle3.font = { bold: true };\r\n\r\n\t\tdataO.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst nameFile = 'MonthlyReport-' + new Date().getFullYear() + '.xlsx';\r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-6 col-xs-12\">\r\n\t\t\t\t\t\t<h4>Monthly Reports</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6 col-xs-12 text-right\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-8 col-xs-12\">\r\n\t\t\t\t\t\t\t\t{/* <MonthPicker format={dateFormat} onChange={this.onChange()} /> */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-xs-12\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcel()} block>\r\n\t\t\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t<Tabs defaultActiveKey=\"1\">{this.renderTabPane()}</Tabs>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MonthlyReports;\r\n","import React, { Component } from 'react';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { platformLineChart } from '../../../util/APIUtils';\r\nimport { formatDate, getDay, colorHex } from '../../../util/Helper';\r\n\r\nimport ExcelJS from 'exceljs/dist/es5/exceljs.browser';\r\nimport { saveAs } from 'file-saver';\r\nimport { Button, Icon, Skeleton } from 'antd';\r\n\r\nexport default class PledgedPurchasedGradient extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdata: {},\r\n\t\t\tlabel: [],\r\n\t\t\tdate: null,\r\n\t\t\tcheck: null,\r\n\t\t\tloading: false\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst date = new Date();\r\n\t\tconst start = formatDate(new Date(date.getFullYear(), date.getMonth(), 1));\r\n\t\tconst end = formatDate(new Date(date.getFullYear(), date.getMonth() + 1, 0));\r\n\t\tthis.renderChart(start, end)\r\n\t}\r\n\r\n\trenderChart = (start, end) => {\r\n\t\tconst label = [],\r\n\t\t\tfee = [],\r\n\t\t\twithdraw = [],\r\n\t\t\ttopup = [],\r\n\t\t\tspent = [],\r\n\t\t\tpledge = [],\r\n\t\t\ttransfer = [],\r\n\t\t\tdatasets = [];\r\n\t\tplatformLineChart(start, end)\r\n\t\t\t.then((response) => {\r\n\t\t\t\t// console.log(response)\r\n\t\t\t\tthis.setState({ loading: true })\r\n\t\t\t\tresponse.reverse().map((item, key) => {\r\n\t\t\t\t\tlabel.push(getDay(item.time));\r\n\r\n\t\t\t\t\titem.summary.map((i, k) => {\r\n\t\t\t\t\t\tif (i.type === 'FEE') {\r\n\t\t\t\t\t\t\tfee.push(i.fiatAmount);\r\n\t\t\t\t\t\t} else if (i.type === 'WITHDRAW') {\r\n\t\t\t\t\t\t\twithdraw.push(i.fiatAmount);\r\n\t\t\t\t\t\t} else if (i.type === 'TOPUP') {\r\n\t\t\t\t\t\t\ttopup.push(i.amount);\r\n\t\t\t\t\t\t} else if (i.type === 'SPENT') {\r\n\t\t\t\t\t\t\tspent.push(i.amount);\r\n\t\t\t\t\t\t} else if (i.type === 'TRANSFER') {\r\n\t\t\t\t\t\t\ttransfer.push(i.amount);\r\n\t\t\t\t\t\t} else if (i.type === 'PLEDGE') {\r\n\t\t\t\t\t\t\tpledge.push(i.amount);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(fee.length !== key+1){\r\n\t\t\t\t\t\tfee.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(withdraw.length !== key+1){\r\n\t\t\t\t\t\twithdraw.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(topup.length !== key+1){\r\n\t\t\t\t\t\ttopup.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(spent.length !== key+1){\r\n\t\t\t\t\t\tspent.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(transfer.length !== key+1){\r\n\t\t\t\t\t\ttransfer.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(pledge.length !== key+1){\r\n\t\t\t\t\t\tpledge.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tlet cekFee = fee.filter((data) => data !== 0);\r\n\t\t\t\tlet cekWithdraw = withdraw.filter((data) => data !== 0);\r\n\t\t\t\tlet cekTopup = topup.filter((data) => data !== 0);\r\n\t\t\t\tlet cekSpent = spent.filter((data) => data !== 0);\r\n\t\t\t\tlet cekTransfer = transfer.filter((data) => data !== 0);\r\n\t\t\t\tlet cekPledge = pledge.filter((data) => data !== 0);\r\n\r\n\t\t\t\tif (cekFee.length !== 0) {\r\n\t\t\t\t\tdatasets.push({\r\n\t\t\t\t\t\tlabel: 'Fee',\r\n\t\t\t\t\t\tbackgroundColor: colorHex[0],\r\n\t\t\t\t\t\tdata: fee,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (cekWithdraw.length !== 0) {\r\n\t\t\t\t\tdatasets.push({\r\n\t\t\t\t\t\tlabel: 'Withdraw',\r\n\t\t\t\t\t\tbackgroundColor: colorHex[1],\r\n\t\t\t\t\t\tdata: withdraw,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (cekTopup.length !== 0) {\r\n\t\t\t\t\tdatasets.push({\r\n\t\t\t\t\t\tlabel: 'Top Up',\r\n\t\t\t\t\t\tbackgroundColor: colorHex[2],\r\n\t\t\t\t\t\tdata: topup,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (cekSpent.length !== 0) {\r\n\t\t\t\t\tdatasets.push({\r\n\t\t\t\t\t\tlabel: 'Spent',\r\n\t\t\t\t\t\tbackgroundColor: colorHex[3],\r\n\t\t\t\t\t\tdata: spent,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (cekTransfer.length !== 0) {\r\n\t\t\t\t\tdatasets.push({\r\n\t\t\t\t\t\tlabel: 'Transfer',\r\n\t\t\t\t\t\tbackgroundColor: colorHex[4],\r\n\t\t\t\t\t\tdata: transfer,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (cekPledge.length !== 0) {\r\n\t\t\t\t\tdatasets.push({\r\n\t\t\t\t\t\tlabel: 'Pledge',\r\n\t\t\t\t\t\tbackgroundColor: colorHex[5],\r\n\t\t\t\t\t\tdata: pledge,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlabel: label,\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(fee)\r\n\t\t\t\t// console.log(withdraw)\r\n\t\t\t\t// console.log(topup)\r\n\t\t\t\t// console.log(spent)\r\n\t\t\t\t// console.log(transfer)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t\tthis.setState({\r\n\t\t\tdata: {\r\n\t\t\t\tlabels: label,\r\n\t\t\t\tdatasets: datasets,\r\n\t\t\t},\r\n\t\t\tloading: false\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState){\r\n\t\tif(prevState.date !== this.props.date){\r\n\t\t\tthis.setState({ date: this.props.date })\r\n\t\t\tconst start =  this.props.date[0]._d;\r\n\t\t\tconst end = this.props.date[1]._d;\r\n\t\t\tthis.renderChart(start, end)\r\n\t\t}\r\n\t}\r\n\r\n\tsetGradientColor = (canvas, color) => {\r\n\t\tconst ctx = canvas.getContext('2d');\r\n\t\tconst gradient = ctx.createLinearGradient(0, 0, 600, 550);\r\n\t\tgradient.addColorStop(0, color);\r\n\t\tgradient.addColorStop(0.95, 'rgba(133,122,144,0.5)');\r\n\t\treturn gradient;\r\n\t};\r\n\r\n\tgetChartData = (canvas) => {\r\n\t\tconst data = this.state.data;\r\n\t\tif (data.datasets) {\r\n\t\t\tlet colors = colorHex;\r\n\t\t\tdata.datasets.forEach((set, i) => {\r\n\t\t\t\tset.backgroundColor = colors[i];\r\n\t\t\t\tset.borderColor = 'white';\r\n\t\t\t\tset.borderWidth = 2;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn data;\r\n\t};\r\n\r\n\tsaveAsExcel = async () => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet datas = [],\r\n\t\t\tdates = [''];\r\n\r\n\t\tlet { data } = this.state;\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\tdata.labels.map((item, key) => {\r\n\t\t\tdates.push(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tdata.datasets.map((item, key) => {\r\n\t\t\tconst newData = [];\r\n\t\t\tnewData.push(item.label);\r\n\t\t\titem.data.map((it, ky) => {\r\n\t\t\t\tnewData.push(it);\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\t\t\tdatas.push(newData);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst title = ws.addRow(dates);\r\n\t\ttitle.font = { bold: true };\r\n\r\n\t\tdatas.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\t// console.log(ws);\r\n\t\tconst date = new Date();\r\n\t\tconst dateNow = [new Date(date.getFullYear(), date.getMonth(), 1), new Date(date.getFullYear(), date.getMonth() + 1, 0)];\r\n\t\tconst tanggal = (this.state.date !== null) ? this.state.date : dateNow\r\n\r\n\t\tconst nameFile = 'PlatformActivity-' + tanggal + '.xlsx';\r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t};\r\n\r\n\tdisplayChart = () => {\r\n\t\tif(!this.state.loading){\r\n\t\t\treturn(\r\n\t\t\t\t<Skeleton active />\r\n\t\t\t)\r\n\t\t}else{\r\n\t\t\treturn (\r\n\t\t\t\t<Line\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\tresponsive: true,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdata={this.getChartData}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-9\"></div>\r\n\t\t\t\t\t<div className=\"col-lg-3 col-xs-12\">\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcel()} block>\r\n\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{this.displayChart()}\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Doughnut } from 'react-chartjs-2';\r\n\r\nimport ExcelJS from 'exceljs/dist/es5/exceljs.browser';\r\nimport { saveAs } from 'file-saver';\r\nimport { Button, Icon, Skeleton } from 'antd';\r\n\r\nimport { getTransactionSummary } from '../../../util/APIUtils';\r\nimport { formatDate, colorHex } from '../../../util/Helper';\r\n\r\nclass ThisMonthDoughnuts extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: null, exports: {} };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst date = new Date();\r\n\t\tconst start = formatDate(new Date(date.getFullYear(), date.getMonth(), 1));\r\n\t\tconst end = formatDate(new Date(date.getFullYear(), date.getMonth() + 1, 0));\r\n\t\tconst label = [],\r\n\t\t\tdata = [],\r\n\t\t\tbackgroundColor = [],\r\n\t\t\tdatas = [];\r\n\t\tgetTransactionSummary(start, end)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tif (item.type === \"FEE\") {\r\n\t\t\t\t\t\tbackgroundColor.push(colorHex[0]);\r\n\t\t\t\t\t\tlabel.push(item.type);\r\n\t\t\t\t\t\tdata.push(item.fiatAmount);\r\n\t\t\t\t\t\tdatas.push({\r\n\t\t\t\t\t\t\tdata: item.fiatAmount,\r\n\t\t\t\t\t\t\tlabel: item.type,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tif (item.type === \"WITHDRAW\") {\r\n\t\t\t\t\t\tbackgroundColor.push(colorHex[1]);\r\n\t\t\t\t\t\tlabel.push(item.type);\r\n\t\t\t\t\t\tdata.push(item.fiatAmount);\r\n\t\t\t\t\t\tdatas.push({\r\n\t\t\t\t\t\t\tdata: item.fiatAmount,\r\n\t\t\t\t\t\t\tlabel: item.type,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tif (item.type === \"TOPUP\") {\r\n\t\t\t\t\t\tbackgroundColor.push(colorHex[2]);\r\n\t\t\t\t\t\tlabel.push(item.type);\r\n\t\t\t\t\t\tdata.push(item.amount);\r\n\t\t\t\t\t\tdatas.push({\r\n\t\t\t\t\t\t\tdata: item.amount,\r\n\t\t\t\t\t\t\tlabel: item.type,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tif (item.type === \"SPENT\") {\r\n\t\t\t\t\t\tbackgroundColor.push(colorHex[3]);\r\n\t\t\t\t\t\tlabel.push(item.type);\r\n\t\t\t\t\t\tdata.push(item.amount);\r\n\t\t\t\t\t\tdatas.push({\r\n\t\t\t\t\t\t\tdata: item.amount,\r\n\t\t\t\t\t\t\tlabel: item.type,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tif (item.type === \"TRANSFER\") {\r\n\t\t\t\t\t\tbackgroundColor.push(colorHex[4]);\r\n\t\t\t\t\t\tlabel.push(item.type);\r\n\t\t\t\t\t\tdata.push(item.amount);\r\n\t\t\t\t\t\tdatas.push({\r\n\t\t\t\t\t\t\tdata: item.amount,\r\n\t\t\t\t\t\t\tlabel: item.type,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tif (item.type === \"PLEDGE\") {\r\n\t\t\t\t\t\tbackgroundColor.push(colorHex[5]);\r\n\t\t\t\t\t\tlabel.push(item.type);\r\n\t\t\t\t\t\tdata.push(item.amount);\r\n\t\t\t\t\t\tdatas.push({\r\n\t\t\t\t\t\t\tdata: item.amount,\r\n\t\t\t\t\t\t\tlabel: item.type,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tlabels: label,\r\n\t\t\t\t\t\tdatasets: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tbackgroundColor: backgroundColor,\r\n\t\t\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t},\r\n\t\t\t\t\texports: datas,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t};\r\n\r\n\tsaveAsExcel = async () => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet label = [],\r\n\t\t\tdata = [];\r\n\r\n\t\tlet { exports } = this.state;\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\tconsole.log(exports);\r\n\r\n\t\texports.map((item, key) => {\r\n\t\t\tlabel.push(item.label);\r\n\t\t\tdata.push(item.data);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst title = ws.addRow(label);\r\n\t\ttitle.font = { bold: true };\r\n\r\n\t\tws.addRow(data);\r\n\t\tconst date = new Date();\r\n\t\tconst dateNow = [new Date(date.getFullYear(), date.getMonth(), 1), new Date(date.getFullYear(), date.getMonth() + 1, 0)];\r\n\t\tconst nameFile = 'ThisMonthDougnut-' + dateNow + '.xlsx';\r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t};\r\n\r\n\trenderBar = () => {\r\n\t\tconst { data } = this.state;\r\n\t\tconsole.log(data)\r\n\t\tif (data === null) {\r\n\t\t\treturn (\r\n\t\t\t\t<Skeleton active />\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tif(data.labels.length === 0){\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<h3>This month is empty</h3>\r\n\t\t\t\t)\r\n\t\t\t}else{\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Doughnut\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\tresponsive: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\theight={250}\r\n\t\t\t\t\t\tdata={this.state.data}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t<h4>This Month</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6 col-xs-12 text-right\">\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcel()} block>\r\n\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-md-12 col-sm-12\">\r\n\t\t\t\t\t{this.renderBar()}\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ThisMonthDoughnuts;\r\n","import React, { Component } from 'react';\r\nimport { getPledgesByBusinesses } from '../../../../util/APIUtils';\r\nimport { Skeleton } from 'antd';\r\n\r\nexport default class TopPledgingBusinesses extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: { datas: [] } };\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tconst data = [];\r\n\t\tgetPledgesByBusinesses()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: item.business.business.businessName,\r\n\t\t\t\t\t\tamount: item.pledged,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tconst topValues = data.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdatas: topValues,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(this.state.data.datas.map)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t};\r\n\trenderTableData() {\r\n\t\tconst { data } = this.state;\r\n\t\tif (data.datas.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tlet total = 0;\r\n\t\t\tconst dataTable = this.state.data.datas.map((item, key) => {\r\n\t\t\t\tconst { name, amount } = item; //destructuring\r\n\t\t\t\ttotal += amount;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t<td>{name}</td>\r\n\t\t\t\t\t\t<td>{amount.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tconst value = total.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Amount</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataTable}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Total:</td>\r\n\t\t\t\t\t\t\t<td>{value}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<h4>Top Pledging Businesses</h4>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content table-responsive\">{this.renderTableData()}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport { Link } from 'react-router-dom';\r\nimport { getPledgesByBusinesses } from '../../../../util/APIUtils';\r\nimport { colorHex } from '../../../../util/Helper';\r\n\r\nexport default class BussinessesTopAmountPledged extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: {} };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst label = [], data = [], backgroundColor = [];\r\n\t\tgetPledgesByBusinesses()\r\n            .then((response) => {\r\n                // console.log(response);\r\n                response.map((item, key) => {\r\n                    label.push(item.business.business.businessName);\r\n                    data.push(item.pledged);\r\n\t\t\t\t\tbackgroundColor.push(colorHex[key]);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t})\r\n\t\t\t\tvar topLabels = label.sort((a,b) => b-a).slice(0,5);\r\n\t\t\t\tvar topValues = data.sort((a,b) => b-a).slice(0,5);\r\n                this.setState({\r\n                    data: {\r\n                        labels: topLabels,\r\n                        datasets: [\r\n                            {\r\n                                backgroundColor: backgroundColor,\r\n                                data: topValues,\r\n                            },\r\n                        ],\r\n                    },\r\n                })\r\n            })\r\n            .catch((err) => {\r\n\t\t\t})\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<h4>Businesses Top 5<br />Amount Pledged</h4>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t<Doughnut\r\n\t\t\t\t\t\tdata={this.state.data}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\tresponsive: true,\r\n\t\t\t\t\t\t\tlegend: {\r\n\t\t\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\t\t\tposition: 'top'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\theight={200}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"text-right pt-2\">\r\n\t\t\t\t\t\t<Link to=\"/reports\">View Monthly Report</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { transactionBusiness } from '../../../../util/APIUtils';\r\nimport { monthArray } from '../../../../util/Helper';\r\n\r\nimport ExcelJS from 'exceljs/dist/es5/exceljs.browser';\r\nimport { saveAs } from 'file-saver';\r\nimport { Button, Icon, Skeleton } from 'antd';\r\n\r\nexport default class PledgeVsSpendingBalances extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: { datas: [] } };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst data = [];\r\n\t\ttransactionBusiness()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: item.business.business.businessName,\r\n\t\t\t\t\t\tpledge: item.pledgeFrom,\r\n\t\t\t\t\t\tspent: item.spentTo,\r\n\t\t\t\t\t\tbalance: item.balance.token,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconst topValues = data.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdatas: topValues,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t};\r\n\trenderTableData() {\r\n\t\tconst { data } = this.state;\r\n\t\tif (data.datas.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tconst dataTable = this.state.data.datas.map((item, key) => {\r\n\t\t\t\tconst { name, pledge, spent, balance } = item; //destructuring\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t<td>{name}</td>\r\n\t\t\t\t\t\t<td>{pledge.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t\t<td>{spent.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t\t<td>{balance.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Pledged From</th>\r\n\t\t\t\t\t\t\t<th>Spent To</th>\r\n\t\t\t\t\t\t\t<th>Balance Token</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>{dataTable}</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tsaveAsExcel = async () => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet datas = [],\r\n\t\t\tlabel = ['Name', 'Pledged From', 'Spent To', 'Balance Token'];\r\n\r\n\t\tlet { data } = this.state;\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\tdata.datas.map((item, key) => {\r\n\t\t\tdatas.push([item.name, item.pledge, item.spent, item.balance]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst title = ws.addRow(label);\r\n\t\ttitle.font = { bold: true };\r\n\r\n\t\tdatas.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst nameFile = 'Pledge vs Spending-' + monthArray[new Date().getMonth()] + '.xlsx';\r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-8 col-xs-12\">\r\n\t\t\t\t\t\t<h4>Pledge vs Spending</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-xs-12 text-right\">\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcel()} block>\r\n\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content table-responsive\">{this.renderTableData()}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport {getRelativeTime} from '../util/Helper';\r\n\r\nexport default function RecentNotification(props) {\r\n\tconst { title, body, sender, createdAt } = props\r\n\treturn (\r\n\t\t<li>\r\n\t\t\t<div className=\"block\">\r\n\t\t\t\t<div className=\"block_content\">\r\n\t\t\t\t\t<h2 className=\"title\">{title}</h2> {body}\r\n\t\t\t\t\t<div className=\"byline\">\r\n\t\t\t\t\t\t<span>{getRelativeTime(createdAt)}</span> By - {sender}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t);\r\n}\r\n","import React, { Component } from 'react';\r\nimport RecentNotification from '../../../../components/RecentNotification'\r\n\r\nexport default class RecentNotificationsByBusinesses extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<h4>\r\n\t\t\t\t\t\tRecent Notifications by\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\tBusinesses\r\n\t\t\t\t\t</h4>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t<div className=\"dashboard-widget-content\">\r\n\t\t\t\t\t\t<ul className=\"list-unstyled timeline widget\">\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport { Link } from 'react-router-dom';\r\nimport { getPledgesByOrganization } from '../../../../util/APIUtils';\r\nimport { colorHex } from '../../../../util/Helper';\r\n\r\nexport default class OrganizationsTopPledgedReceived extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: {} };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst label = [], data = [], backgroundColor = [];\r\n\t\tgetPledgesByOrganization()\r\n            .then((response) => {\r\n                // console.log(response);\r\n                response.map((item, key) => {\r\n                    label.push(item.organization.organization.organizationName);\r\n                    data.push(item.pledgeReceived);\r\n\t\t\t\t\tbackgroundColor.push(colorHex[key]);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t})\r\n\t\t\t\tvar topLabels = label.sort((a,b) => b-a).slice(0,5);\r\n\t\t\t\tvar topValues = data.sort((a,b) => b-a).slice(0,5);\r\n                this.setState({\r\n                    data: {\r\n                        labels: topLabels,\r\n                        datasets: [\r\n                            {\r\n                                backgroundColor: backgroundColor,\r\n                                data: topValues,\r\n                            },\r\n                        ],\r\n                    },\r\n                })\r\n            })\r\n            .catch((err) => {\r\n\t\t\t})\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<h4>Organizations Top 5<br />Pledges Received</h4>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t<Doughnut\r\n\t\t\t\t\t\tdata={this.state.data}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\tresponsive: true,\r\n\t\t\t\t\t\t\tlegend: {\r\n\t\t\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\t\t\tposition: 'top',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\theight={200}\r\n\t\t\t\t\t/>\r\n                    <div className=\"text-right pt-2\">\r\n                        <Link to=\"/reports\">View Monthly Report</Link>\r\n                    </div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { getPledgesByOrganization } from '../../../../util/APIUtils';\r\nimport { Skeleton } from 'antd';\r\n\r\nexport default class TopReceivingOrganizations extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: { datas: [] } };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst data = [];\r\n\t\tgetPledgesByOrganization()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tlet name;\r\n\t\t\t\t\tif(Object.keys(item.organization).length === 0){\r\n\t\t\t\t\t\tname = \"Data is deleted\"\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tname = item.organization.organization.organizationName\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\tamount: item.pledgeReceived,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tconst topValues = data.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdatas: topValues,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(this.state.data.datas.map)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t};\r\n\trenderTableData() {\r\n\t\tconst { data } = this.state;\r\n\t\tif (data.datas.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tlet total = 0;\r\n\t\t\tconst dataTable = this.state.data.datas.map((item, key) => {\r\n\t\t\t\tconst { name, amount } = item; //destructuring\r\n\t\t\t\ttotal += amount;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t<td>{name}</td>\r\n\t\t\t\t\t\t<td>{amount.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tconst value = total.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Amount</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataTable}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Total:</td>\r\n\t\t\t\t\t\t\t<td>{value}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<h4>Top Receiving Organizations</h4>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content table-responsive\">{this.renderTableData()}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { transactionOrganization } from '../../../../util/APIUtils';\r\nimport { monthArray } from '../../../../util/Helper';\r\n\r\nimport ExcelJS from 'exceljs/dist/es5/exceljs.browser';\r\nimport { saveAs } from 'file-saver';\r\nimport { Button, Icon, Skeleton } from 'antd';\r\n\r\nexport default class GoalVsContributionBalances extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: { datas: [] } };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst data = [];\r\n\t\ttransactionOrganization()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: item.organization.organization.organizationName,\r\n\t\t\t\t\t\tgoal: parseInt(item.organization.organization.goal),\r\n\t\t\t\t\t\tcontribute: item.topupFrom,\r\n\t\t\t\t\t\tbalance: item.balance.token,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconst topValues = data.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdatas: topValues,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t};\r\n\trenderTableData() {\r\n\t\tconst { data } = this.state;\r\n\t\tif (data.datas.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tconst dataTable = this.state.data.datas.map((item, key) => {\r\n\t\t\t\tconst { name, goal, contribute, balance } = item; //destructuring\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t<td>{name}</td>\r\n\t\t\t\t\t\t<td>{goal.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t\t<td>{contribute.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t\t<td>{balance.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Goal</th>\r\n\t\t\t\t\t\t\t<th>Contributions</th>\r\n\t\t\t\t\t\t\t<th>Balance</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>{dataTable}</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tsaveAsExcel = async () => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet datas = [],\r\n\t\t\tlabel = ['Name', 'Goal', 'Contribution', 'Balance'];\r\n\r\n\t\tlet { data } = this.state;\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\tdata.datas.map((item, key) => {\r\n\t\t\tdatas.push([item.name, item.goal, item.contribute, item.balance]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst title = ws.addRow(label);\r\n\t\ttitle.font = { bold: true };\r\n\r\n\t\tdatas.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst nameFile = 'Goal vs Contribution-' + monthArray[new Date().getMonth()] + '.xlsx';\r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-8 col-xs-12\">\r\n\t\t\t\t\t\t<h4>Goal vs Contribution</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-xs-12 text-right\">\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcel()} block>\r\n\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content table-responsive\">{this.renderTableData()}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { getTopUpByIndividual } from '../../../../util/APIUtils';\r\nimport { getFirstWord } from '../../../../util/Helper'\r\nimport { Skeleton } from 'antd';\r\n\r\nexport default class TopPurchasingIndividuals extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: { datas: [] } };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst data = [];\r\n\t\tgetTopUpByIndividual()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: item.individual.individual.name,\r\n\t\t\t\t\t\temail: item.individual.email,\r\n\t\t\t\t\t\tamount: item.toppedup,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tconst topValues = data.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdatas: topValues,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(this.state.data.datas.map)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t};\r\n\trenderTableData() {\r\n\t\tconst { data } = this.state;\r\n\t\tif (data.datas.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tlet total = 0;\r\n\t\t\tconst dataTable = this.state.data.datas.map((item, key) => {\r\n\t\t\t\tconst { name, email, amount } = item; //destructuring\r\n\t\t\t\ttotal += amount;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t<td><a href={\"mailto:\"+email}>{getFirstWord(name)}</a></td>\r\n\t\t\t\t\t\t<td>{amount.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tconst value = total.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Amount</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataTable}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Total:</td>\r\n\t\t\t\t\t\t\t<td>{value}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<h4>Top Purchasing Individuals</h4>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content table-responsive\">{this.renderTableData()}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport RecentNotification from '../../../../components/RecentNotification'\r\n\r\nexport default class RecentNotificationsByOrganizations extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<h4>\r\n\t\t\t\t\t\tRecent Notifications by <br />\r\n\t\t\t\t\t\tOrganizations\r\n\t\t\t\t\t</h4>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t<div className=\"dashboard-widget-content\">\r\n\t\t\t\t\t\t<ul className=\"list-unstyled timeline widget\">\r\n                            <RecentNotification/>\r\n                            <RecentNotification/>\r\n                            <RecentNotification/>\r\n                            <RecentNotification/>\r\n                        </ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport { Link } from 'react-router-dom'\r\nimport { getTopUpByIndividual } from '../../../../util/APIUtils';\r\nimport { colorHex } from '../../../../util/Helper';\r\n\r\nexport default class IndividualsTopAmountPurchased extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: {} };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst label = [], data = [], backgroundColor = [];\r\n\t\tgetTopUpByIndividual()\r\n            .then((response) => {\r\n                // console.log(response);\r\n                response.map((item, key) => {\r\n                    label.push(item.individual.individual.name);\r\n                    data.push(item.toppedup);\r\n\t\t\t\t\tbackgroundColor.push(colorHex[key]);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t})\r\n\t\t\t\tvar topLabels = label.sort((a,b) => b-a).slice(0,5);\r\n\t\t\t\tvar topValues = data.sort((a,b) => b-a).slice(0,5);\r\n                this.setState({\r\n                    data: {\r\n                        labels: topLabels,\r\n                        datasets: [\r\n                            {\r\n                                backgroundColor: backgroundColor,\r\n                                data: topValues,\r\n                            },\r\n                        ],\r\n                    },\r\n                })\r\n            })\r\n            .catch((err) => {\r\n\t\t\t})\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<h4>Individuals Top 5<br />Amount Purchased</h4>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t<Doughnut\r\n\t\t\t\t\t\tdata={this.state.data}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\tresponsive: true,\r\n\t\t\t\t\t\t\tlegend: {\r\n\t\t\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\t\t\tposition: 'top',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\theight={200}\r\n\t\t\t\t\t/>\r\n                    <div className=\"text-right pt-2\">\r\n                        <Link to=\"/reports\">View Monthly Report</Link>\r\n                    </div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { transactionIndividual } from '../../../../util/APIUtils';\r\nimport { monthArray } from '../../../../util/Helper';\r\n\r\nimport ExcelJS from 'exceljs/dist/es5/exceljs.browser';\r\nimport { saveAs } from 'file-saver';\r\nimport { Button, Icon, Skeleton } from 'antd';\r\n\r\nexport default class PurchasedVsSpentBalances extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: { datas: [] } };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst data = [];\r\n\t\ttransactionIndividual()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: item.individual.individual.name,\r\n\t\t\t\t\t\ttopup: item.topup,\r\n\t\t\t\t\t\tspent: item.spent,\r\n\t\t\t\t\t\tbalance: item.balance.token,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconst topValues = data.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdatas: topValues,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t};\r\n\trenderTableData() {\r\n\t\tconst { data } = this.state;\r\n\t\tif (data.datas.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tconst dataTable = this.state.data.datas.map((item, key) => {\r\n\t\t\t\tconst { name, topup, spent, balance } = item; //destructuring\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t<td>{name}</td>\r\n\t\t\t\t\t\t<td>{topup.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t\t<td>{spent.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t\t<td>{balance.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Purchased</th>\r\n\t\t\t\t\t\t\t<th>Spent</th>\r\n\t\t\t\t\t\t\t<th>Balance</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>{dataTable}</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tsaveAsExcel = async () => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet datas = [],\r\n\t\t\tlabel = ['Name', 'Purchased', 'Spent', 'Balance'];\r\n\r\n\t\tlet { data } = this.state;\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\tdata.datas.map((item, key) => {\r\n\t\t\tdatas.push([item.name, item.topup, item.spent, item.balance]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst title = ws.addRow(label);\r\n\t\ttitle.font = { bold: true };\r\n\r\n\t\tdatas.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst nameFile = 'Purchased vs Spent-' + monthArray[new Date().getMonth()] + '.xlsx';\r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-8 col-xs-12\">\r\n\t\t\t\t\t\t<h4>Purchased vs Spent</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4  col-xs-12 text-right\">\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcel()} block>\r\n\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content table-responsive\">{this.renderTableData()}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport RecentNotification from '../../../components/RecentNotification';\r\nimport { getNotification } from '../../../util/APIUtils';\r\n\r\nimport ExcelJS from 'exceljs/dist/es5/exceljs.browser';\r\nimport { saveAs } from 'file-saver';\r\nimport { Button, Icon, Skeleton } from 'antd';\r\n\r\nclass NotificationGeneral extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: { datas: [] } };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst data = [];\r\n\t\tgetNotification(5)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\ttitle: item.data.title,\r\n\t\t\t\t\t\tbody: item.data.body,\r\n\t\t\t\t\t\tsender: item.sender.username,\r\n\t\t\t\t\t\tcreatedAt: item.created_at,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdatas: data,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t};\r\n\trenderTableData() {\r\n\t\tconst { data } = this.state;\r\n\t\tif (data.datas.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tconst dataTable = this.state.data.datas.map((item, key) => {\r\n\t\t\t\tconst { title, body, sender, createdAt } = item; //destructuring\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<RecentNotification key={key} title={title} body={body} sender={sender} createdaAt={createdAt} />\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"dashboard-widget-content\">\r\n\t\t\t\t\t<ul className=\"list-unstyled timeline widget\">{dataTable}</ul>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\tsaveAsExcel = async () => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet datas = [],\r\n\t\t\tlabel = ['Title', 'Body', 'Sender', 'Create At'];\r\n\r\n\t\tlet { data } = this.state;\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\tdata.datas.map((item, key) => {\r\n\t\t\tdatas.push([item.title, item.body, item.sender, item.createdAt]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst title = ws.addRow(label);\r\n\t\ttitle.font = { bold: true };\r\n\r\n\t\tdatas.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), 'Top 5 Recent Notifications.xlsx');\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t\t<h4>Recent Notifications</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-2 col-xs-12 text-right\">\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcel()} block>\r\n\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content\">{this.renderTableData()}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default NotificationGeneral;\r\n","import React, { Component } from 'react';\r\nimport RecentNotification from '../../../../components/RecentNotification'\r\n\r\nexport default class RecentSocialMediaMentions extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<h4>Recent Social Media<br/>Mentions</h4>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t<div className=\"dashboard-widget-content\">\r\n\t\t\t\t\t\t<ul className=\"list-unstyled timeline widget\">\r\n                            <RecentNotification />\r\n                            <RecentNotification />\r\n                            <RecentNotification />\r\n                            <RecentNotification />\r\n                        </ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Skeleton } from 'antd';\r\n\r\nexport default class StatsComponent extends Component {\r\n\trenderComponent = () => {\r\n\t\tif (this.props.percentage === null) {\r\n\t\t\treturn <Skeleton active paragraph={{ rows: 1 }} />;\r\n\t\t} else {\r\n\t\t\tlet percent;\r\n\t\t\tconst { icon, title, data, all } = this.props;\r\n\t\t\tif (this.props.percentage >= 0) {\r\n\t\t\t\tpercent = () => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<i className=\"green\">\r\n\t\t\t\t\t\t\t\t<i className=\"fa fa-sort-asc\"></i>\r\n\t\t\t\t\t\t\t\t{this.props.percentage}%\r\n\t\t\t\t\t\t\t</i>{' '}\r\n\t\t\t\t\t\t\tFrom last month\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t);\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tpercent = () => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<i className=\"red\">\r\n\t\t\t\t\t\t\t\t<i className=\"fa fa-sort-desc\"></i>\r\n\t\t\t\t\t\t\t\t{this.props.percentage}%\r\n\t\t\t\t\t\t\t</i>{' '}\r\n\t\t\t\t\t\t\tFrom last month\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<span className=\"count_top\">\r\n\t\t\t\t\t\t<i className={icon}></i> {title}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<div className=\"count\">{all}</div>\r\n\t\t\t\t\t<span className=\"count_bottom\">{data} In this month</span><br />\r\n\t\t\t\t\t<span className=\"count_bottom\">{percent()}</span>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\trender() {\r\n\t\treturn <div className=\"col-md-2 col-sm-4 col-xs-6 tile_stats_count\">{this.renderComponent()}</div>;\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport StatsComponent from './StatsComponent';\r\nimport { getUserSummary, getUserSummaryAll, getTransactionSummary, getTransactionSummaryAll } from '../../util/APIUtils';\r\nimport { formatDate, findPercent } from '../../util/Helper';\r\n\r\nexport default class StatsLists extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tallIndividual: 0,\r\n\t\t\tallBusiness: 0,\r\n\t\t\tallOrganization: 0,\r\n\t\t\tallPledge: 0,\r\n\t\t\tallTopup: 0,\r\n\t\t\tallSpent: 0,\r\n\r\n\t\t\ttotalIndividual: 0,\r\n\t\t\ttotalBusiness: 0,\r\n\t\t\ttotalOrganization: 0,\r\n\t\t\ttotalPledge: 0,\r\n\t\t\ttotalTopup: 0,\r\n\t\t\ttotalSpent: 0,\r\n\r\n\t\t\tpercentTotalIndividual: null,\r\n\t\t\tpercentTotalBusiness: null,\r\n\t\t\tpercentTotalOrganization: null,\r\n\t\t\tpercentTotalPledge: null,\r\n\t\t\tpercentTotalTopup: null,\r\n\t\t\tpercentTotalSpent: null,\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tconst date = new Date();\r\n\t\tconst start = formatDate(new Date(date.getFullYear(), date.getMonth(), 1));\r\n\t\tconst end = formatDate(new Date(date.getFullYear(), date.getMonth() + 1, 0));\r\n\r\n\t\tconst startLast = formatDate(new Date(date.getFullYear(), date.getMonth() - 1, 1));\r\n\t\tconst endLast = formatDate(new Date(date.getFullYear(), date.getMonth() - 1 + 1, 0));\r\n\r\n\t\tgetUserSummaryAll()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconsole.log(response);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tallIndividual: response.individualCount,\r\n\t\t\t\t\tallBusiness: response.businessCount,\r\n\t\t\t\t\tallOrganization: response.organizationCount,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t})\r\n\r\n\t\tgetUserSummary(start, end)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\ttotalIndividual: response.individualCount,\r\n\t\t\t\t\ttotalBusiness: response.businessCount,\r\n\t\t\t\t\ttotalOrganization: response.organizationCount,\r\n\t\t\t\t});\r\n\t\t\t\tgetUserSummary(startLast, endLast)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tconst { totalIndividual, totalBusiness, totalOrganization, allIndividual, allBusiness, allOrganization } = this.state;\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tpercentTotalIndividual: findPercent((totalIndividual - response.individualCount), allIndividual),\r\n\t\t\t\t\t\t\tpercentTotalBusiness: findPercent((totalBusiness - response.businessCount), allBusiness),\r\n\t\t\t\t\t\t\tpercentTotalOrganization: findPercent((totalOrganization - response.organizationCount), allOrganization)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconsole.log(response + \"Pada tanggal\" + startLast)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\t\tgetTransactionSummaryAll()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresponse.map((item) => {\r\n\t\t\t\t\tif (item.type === 'PLEDGE') {\r\n                        this.setState({ allPledge: item.amount });\r\n\t\t\t\t\t} else if (item.type === 'TOPUP') {\r\n                        this.setState({ allTopup: item.amount });\r\n\t\t\t\t\t} else if (item.type === 'SPENT') {\r\n                        this.setState({ allSpent: item.amount });\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\r\n\t\tgetTransactionSummary(start, end)\r\n\t\t\t.then((response) => {\r\n                console.log(response)\r\n                const data = {totalPledge: 0, totalTopup: 0, totalSpent:0}\r\n\t\t\t\tresponse.map((item) => {\r\n\t\t\t\t\tconst value = item.amount.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\t\t\tif (item.type === 'PLEDGE') {\r\n                        this.setState({ totalPledge: value });\r\n                        data.totalPledge = item.amount\r\n\t\t\t\t\t} else if (item.type === 'TOPUP') {\r\n                        this.setState({ totalTopup: value });\r\n                        data.totalTopup = item.amount\r\n\t\t\t\t\t} else if (item.type === 'SPENT') {\r\n                        this.setState({ totalSpent: value });\r\n                        data.totalSpent = item.amount\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tgetTransactionSummary(startLast, endLast)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tconsole.log(response)\r\n\t\t\t\t\t\tconst { totalPledge, totalTopup, totalSpent } = data;\r\n\t\t\t\t\t\tif(response.length === 0){\r\n\t\t\t\t\t\t\tthis.setState({ percentTotalPledge: findPercent(100, 100) });\r\n\t\t\t\t\t\t\tthis.setState({ percentTotalTopup: findPercent(100, 100) });\r\n\t\t\t\t\t\t\tthis.setState({ percentTotalSpent: findPercent(100, 100) });\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tconst { allPledge, allTopup, allSpent } = this.state;\r\n\t\t\t\t\t\t\tresponse.map((item) => {\r\n\t\t\t\t\t\t\t\tif (item.type === 'PLEDGE') {\r\n\t\t\t\t\t\t\t\t\tthis.setState({ percentTotalPledge: findPercent((totalPledge - item.amount), allPledge) });\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.setState({ percentTotalPledge: findPercent((totalPledge - 0), allPledge) });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (item.type === 'TOPUP') {\r\n\t\t\t\t\t\t\t\t\tthis.setState({ percentTotalTopup: findPercent((totalTopup - item.amount), allTopup) });\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.setState({ percentTotalTopup: findPercent((totalTopup - 0), allTopup) });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (item.type === 'SPENT') {\r\n\t\t\t\t\t\t\t\t\tthis.setState({ percentTotalSpent: findPercent((totalSpent - item.amount), allSpent) });\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.setState({ percentTotalSpent: findPercent((totalSpent - 0), allSpent) });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tallIndividual,\r\n\t\t\tallBusiness,\r\n\t\t\tallOrganization,\r\n\t\t\tallPledge,\r\n\t\t\tallTopup,\r\n\t\t\tallSpent,\r\n\t\t\ttotalIndividual,\r\n\t\t\ttotalBusiness,\r\n\t\t\ttotalOrganization,\r\n\t\t\ttotalPledge,\r\n\t\t\ttotalTopup,\r\n\t\t\ttotalSpent,\r\n\t\t\tpercentTotalBusiness,\r\n\t\t\tpercentTotalIndividual,\r\n\t\t\tpercentTotalOrganization,\r\n\t\t\tpercentTotalPledge,\r\n\t\t\tpercentTotalSpent,\r\n\t\t\tpercentTotalTopup,\r\n\t\t} = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"row tile_count\">\r\n\t\t\t\t<StatsComponent\r\n\t\t\t\t\ticon=\"fa fa-user\"\r\n\t\t\t\t\ttitle=\"Total Individuals\"\r\n\t\t\t\t\tdata={totalIndividual}\r\n\t\t\t\t\tall={allIndividual}\r\n\t\t\t\t\tpercentage={percentTotalIndividual}\r\n\t\t\t\t/>\r\n\t\t\t\t<StatsComponent\r\n\t\t\t\t\ticon=\"fa fa-user\"\r\n\t\t\t\t\ttitle=\"Total Businesses\"\r\n\t\t\t\t\tdata={totalBusiness}\r\n\t\t\t\t\tall={allBusiness}\r\n\t\t\t\t\tpercentage={percentTotalBusiness}\r\n\t\t\t\t/>\r\n\t\t\t\t<StatsComponent\r\n\t\t\t\t\ticon=\"fa fa-user\"\r\n\t\t\t\t\ttitle=\"Total Organizations\"\r\n\t\t\t\t\tdata={totalOrganization}\r\n\t\t\t\t\tall={allOrganization}\r\n\t\t\t\t\tpercentage={percentTotalOrganization}\r\n\t\t\t\t/>\r\n\t\t\t\t<StatsComponent\r\n\t\t\t\t\ticon=\"fa fa-money\"\r\n\t\t\t\t\ttitle=\"Total Pledged\"\r\n\t\t\t\t\tdata={totalPledge}\r\n\t\t\t\t\tall={allPledge.toLocaleString(undefined, { minimumFractionDigits: 0 })}\r\n\t\t\t\t\tpercentage={percentTotalPledge}\r\n\t\t\t\t/>\r\n\t\t\t\t<StatsComponent\r\n\t\t\t\t\ticon=\"fa fa-money\"\r\n\t\t\t\t\ttitle=\"Total Topup\"\r\n\t\t\t\t\tdata={totalTopup}\r\n\t\t\t\t\tall={allTopup.toLocaleString(undefined, { minimumFractionDigits: 0 })}\r\n\t\t\t\t\tpercentage={percentTotalTopup}\r\n\t\t\t\t/>\r\n\t\t\t\t<StatsComponent\r\n\t\t\t\t\ticon=\"fa fa-money\"\r\n\t\t\t\t\ttitle=\"Total Spent\"\r\n\t\t\t\t\tdata={totalSpent}\r\n\t\t\t\t\tall={allSpent.toLocaleString(undefined, { minimumFractionDigits: 0 })}\r\n\t\t\t\t\tpercentage={percentTotalSpent}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport {\r\n\tMonthlyReports,\r\n\tPledgedPurchasedGradient,\r\n\tThisMonthDoughnuts,\r\n\t// BusinessesTopAmountPledged,\r\n\tTopPledgingBusinesses,\r\n\tPledgeVsSpendingBalances,\r\n\t// IndividualsTopAmountPurchased,\r\n\tTopPurchasingIndividuals,\r\n\tPurchasedVsSpentBalances,\r\n\t// OrganizationsTopPledgedReceived,\r\n\tTopReceivingOrganizations,\r\n\tGoalVsContributionBalances,\r\n\tNotification,\r\n} from './dashboardComponents';\r\n\r\nimport StatsLists from './StatsLists';\r\nimport { DatePicker } from 'antd';\r\nimport moment from 'moment';\r\nconst { RangePicker } = DatePicker;\r\nconst dateFormat = 'DD-MM-YYYY';\r\nconst date = new Date();\r\n\r\nclass Dashboard extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { date: null };\r\n\t}\r\n\r\n\tonChangeRange = (value, dateString) => {\r\n\t\tthis.setState({ date: value });\r\n\t};\r\n\r\n\tonOkRange = (value) => {\r\n\t\tconsole.log('onOk: ', value);\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"right_col\" role=\"main\">\r\n\t\t\t\t<StatsLists />\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-12 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t<div className=\"dashboard_graph\">\r\n\t\t\t\t\t\t\t<div className=\"row x_title\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\t\tPlatform Activity <br />\r\n\t\t\t\t\t\t\t\t\t\t<small>Pledged vs Purchased</small>\r\n\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tid=\"reportrange\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"pull-right\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tbackground: '#fff',\r\n\t\t\t\t\t\t\t\t\t\t\tpadding: '5px 10px',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<RangePicker\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={[\r\n\t\t\t\t\t\t\t\t\t\t\t\tmoment(new Date(date.getFullYear(), date.getMonth(), 1), dateFormat),\r\n\t\t\t\t\t\t\t\t\t\t\t\tmoment(new Date(date.getFullYear(), date.getMonth() + 1, 0), dateFormat),\r\n\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\tformat={dateFormat}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeRange}\r\n\t\t\t\t\t\t\t\t\t\t\tonOk={this.onOkRange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-8 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t\t\t{/* <div id=\"chart_plot_01\" className=\"demo-placeholder\"></div> */}\r\n\t\t\t\t\t\t\t\t<PledgedPurchasedGradient date={this.state.date} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12 bg-white \">\r\n\t\t\t\t\t\t\t\t<ThisMonthDoughnuts date={this.state.date} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<br />\r\n\t\t\t\t{/* <div className=\"row\"> */}\r\n\t\t\t\t\t{/* <div className=\"col-md-4 col-sm-12 col-xs-12\"> */}\r\n\t\t\t\t\t\t{/* Businesses top 5 amount pledged */}\r\n\t\t\t\t\t\t{/* <BusinessesTopAmountPledged /> */}\r\n\t\t\t\t\t{/* </div> */}\r\n\t\t\t\t\t{/* <div className=\"col-md-4 col-sm-12 col-xs-12\"> */}\r\n\t\t\t\t\t\t{/* Organizations top 5 pledges received */}\r\n\t\t\t\t\t\t{/* <OrganizationsTopPledgedReceived /> */}\r\n\t\t\t\t\t{/* </div> */}\r\n\t\t\t\t\t{/* <div className=\"col-md-4 col-sm-12 col-xs-12\"> */}\r\n\t\t\t\t\t\t{/* Individuals top 5 amount purchased */}\r\n\t\t\t\t\t\t{/* <IndividualsTopAmountPurchased /> */}\r\n\t\t\t\t\t{/* </div> */}\r\n\t\t\t\t{/* </div> */}\r\n\t\t\t\t<br />\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t{/* Top pledging businesses */}\r\n\t\t\t\t\t\t<TopPledgingBusinesses />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t{/* Top receiving organizations */}\r\n\t\t\t\t\t\t<TopReceivingOrganizations />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t{/* Top purchasing individuals */}\r\n\t\t\t\t\t\t<TopPurchasingIndividuals />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<br />\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t<PledgeVsSpendingBalances />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t<GoalVsContributionBalances />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t<PurchasedVsSpentBalances />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t{/* <div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t<RecentNotificationsByBusinesses/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t<RecentNotificationsByOrganizations/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t<RecentSocialMediaMentions/>\r\n\t\t\t\t\t</div> */}\r\n\t\t\t\t\t<div className=\"col-md-12 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t<Notification />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-12 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t<MonthlyReports />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Dashboard;\r\n","import React, { Component } from 'react';\r\nimport { Button, Icon } from 'antd';\r\nimport ExcelJS from 'exceljs/dist/es5/exceljs.browser';\r\nimport { saveAs } from 'file-saver';\r\n\r\nclass MonthlyReportDetail extends Component {\r\n\tsaveAsExcelPledge = async () => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet datas = [],\r\n\t\t\tlabel = ['Name', 'Amount'],\r\n\t\t\trow = 1;\r\n\r\n\t\tlet { biz } = this.props;\r\n\t\tlet dataFilter = biz.filter((data) => data.create === this.props.mbiz);\r\n\t\tconst topValues = dataFilter.sort((a, b) => b - a).slice(0, 5);\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\ttopValues.map((item, key) => {\r\n\t\t\tdatas.push([item.name, item.amount]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst titleBiz = ws.addRow(['My Pledges to Organizations-month ' + this.props.mbiz]);\r\n\t\ttitleBiz.alignment = { vertical: 'middle', horizontal: 'center' };\r\n\t\tws.mergeCells('A' + row + ':B' + row);\r\n\t\ttitleBiz.font = { bold: true };\r\n\t\tws.addRow();\r\n\t\tconst title = ws.addRow(label);\r\n\t\ttitle.font = { bold: true };\r\n\r\n\t\tdatas.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst nameFile = 'MyPledgestoOrganizations-' + this.props.mbiz + '.xlsx';\r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t};\r\n\tsaveAsExcelSpent = async () => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet datas = [],\r\n\t\t\tlabel = ['Name', 'Amount'],\r\n\t\t\trow = 1;\r\n\r\n\t\tlet { org } = this.props;\r\n\t\tlet dataFilter = org.filter((data) => data.create === this.props.morg);\r\n\t\tconst topValues = dataFilter.sort((a, b) => b - a).slice(0, 5);\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\ttopValues.map((item, key) => {\r\n\t\t\tdatas.push([item.name, item.amount]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst titleOrg = ws.addRow(['My Top Purchasing Individuals-month ' + this.props.morg]);\r\n\t\ttitleOrg.alignment = { vertical: 'middle', horizontal: 'center' };\r\n\t\tws.mergeCells('A' + row + ':B' + row);\r\n\t\ttitleOrg.font = { bold: true };\r\n\t\tws.addRow();\r\n\t\tconst title = ws.addRow(label);\r\n\t\ttitle.font = { bold: true };\r\n\r\n\t\tdatas.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst nameFile = 'MyTopPurchasingIndividuals-' + this.props.morg + '.xlsx';\r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t};\r\n\tsaveAsExcelOrg = async () => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet datas = [],\r\n\t\t\tlabel = ['Name', 'Amount'],\r\n\t\t\trow = 1;\r\n\r\n\t\tlet { ind } = this.props;\r\n\t\tlet dataFilter = ind.filter((data) => data.create === this.props.mind);\r\n\t\tconst topValues = dataFilter.sort((a, b) => b - a).slice(0, 5);\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\ttopValues.map((item, key) => {\r\n\t\t\tdatas.push([item.name, item.amount]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst titleInd = ws.addRow(['Top Receiving Organizations-month ' + this.props.mind]);\r\n\t\ttitleInd.alignment = { vertical: 'middle', horizontal: 'center' };\r\n\t\tws.mergeCells('A' + row + ':C' + row);\r\n\t\ttitleInd.font = { bold: true };\r\n\t\tws.addRow();\r\n\t\tconst title = ws.addRow(label);\r\n\t\ttitle.font = { bold: true };\r\n\r\n\t\tdatas.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst nameFile = 'TopReceivingOrganizations-' + this.props.mind + '.xlsx';\r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-7 col-xs-12\">\r\n\t\t\t\t\t\t\t\t<h4>My Pledges to Organizations</h4>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-5 col-xs-12 text-right\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcelPledge()} block>\r\n\t\t\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"x_content table-responsive\">{this.props.dataBiz}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-7 col-xs-12\">\r\n\t\t\t\t\t\t\t\t<h4>My Top Purchasing Individuals</h4>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-5 col-xs-12 text-right\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcelSpent()} block>\r\n\t\t\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"x_content table-responsive\">{this.props.dataOrg}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-7 col-xs-12\">\r\n\t\t\t\t\t\t\t\t<h4>Top Receiving Organizations</h4>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-5 col-xs-12 text-right\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcelOrg()} block>\r\n\t\t\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"x_content table-responsive\">{this.props.dataInd}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MonthlyReportDetail;\r\n","import React, { Component } from 'react';\r\nimport { Tabs, Skeleton, Button, Icon } from 'antd';\r\nimport MonthlyReportDetail from './MonthlyReportDetail';\r\nimport { getPledgesByOrganization, getSpentOnMe, getWhoIPledged } from '../../../util/APIUtils';\r\nimport { monthArray } from '../../../util/Helper';\r\nimport ExcelJS from 'exceljs/dist/es5/exceljs.browser';\r\nimport { saveAs } from 'file-saver';\r\nconst { TabPane } = Tabs;\r\n\r\nclass MonthlyReports extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { dataPledged: [], dataSpent: [], dataOrg: [] };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tgetWhoIPledged(5)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconst data = [];\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: item.to.organization.organizationName,\r\n\t\t\t\t\t\tamount: item.pledgedTotal,\r\n\t\t\t\t\t\tcreate: new Date(item.to.created_at).getMonth() + 1,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdataPledged: data,\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(data)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t\tgetSpentOnMe(5)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconst data = [];\r\n\t\t\t\tif(response.length === 0){\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: 'DataIsempty',\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\t\tname: item.from.individual.name,\r\n\t\t\t\t\t\t\tamount: item.spentTotal,\r\n\t\t\t\t\t\t\tcreate: new Date(item.from.created_at).getMonth() + 1,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdataSpent: data,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t\tgetPledgesByOrganization()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconst data = [];\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tlet names, creates;\r\n\t\t\t\t\tif (Object.keys(item.organization).length === 0) {\r\n\t\t\t\t\t\tnames = 'Data is deleted';\r\n\t\t\t\t\t\tcreates = 13\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnames = item.organization.organization.organizationName;\r\n\t\t\t\t\t\tcreates = new Date(item.organization.organization.created_at).getMonth() + 1\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: names,\r\n\t\t\t\t\t\tamount: item.pledgeReceived,\r\n\t\t\t\t\t\tcreate: creates,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdataOrg: data,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t};\r\n\trenderTablePledged(m) {\r\n\t\tconst { dataPledged } = this.state;\r\n\t\tif (dataPledged.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tlet total = 0;\r\n\t\t\tlet data = this.state.dataPledged;\r\n\t\t\tlet dataFilter = data.filter((data) => data.create === m);\r\n\t\t\tconst topValues = dataFilter.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\tconst dataTable = topValues.map((item, key) => {\r\n\t\t\t\tconst { name, amount } = item; //destructuring\r\n\t\t\t\ttotal += amount;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t{/* <td>{key + 1}</td> */}\r\n\t\t\t\t\t\t<td>{name}</td>\r\n\t\t\t\t\t\t<td>{amount.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tconst value = total.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t{/* <th>#</th> */}\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Amount</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataTable}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t{/* <td></td> */}\r\n\t\t\t\t\t\t\t<td>Total:</td>\r\n\t\t\t\t\t\t\t<td>{value}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trenderTableSpent(m) {\r\n\t\tconst { dataSpent } = this.state;\r\n\t\tif (dataSpent.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tlet total = 0;\r\n\t\t\tlet data = this.state.dataSpent;\r\n\t\t\tlet dataFilter = data.filter((data) => data.create === m);\r\n\t\t\tconst topValues = dataFilter.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\tlet dataTable\r\n\t\t\tif(this.state.dataSpent[0].name === \"DataIsempty\"){\r\n\t\t\t\t// console.log(\"empty\")\r\n\t\t\t\tdataTable = () => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Data is empty</td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tdataTable = topValues.map((item, key) => {\r\n\t\t\t\t\tconst { name, amount } = item; //destructuring\r\n\t\t\t\t\ttotal += amount;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t\t<td>{name}</td>\r\n\t\t\t\t\t\t\t<td>{amount.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst value = total.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t{/* <th>#</th> */}\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Amount</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataTable}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t{/* <td></td> */}\r\n\t\t\t\t\t\t\t<td>Total:</td>\r\n\t\t\t\t\t\t\t<td>{value}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trenderTableOrg(m) {\r\n\t\tconst { dataOrg } = this.state;\r\n\t\tif (dataOrg.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tlet total = 0;\r\n\t\t\tlet data = this.state.dataOrg;\r\n\t\t\tlet dataFilter = data.filter((data) => data.create === m);\r\n\t\t\tconst topValues = dataFilter.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\tconst dataTable = topValues.map((item, key) => {\r\n\t\t\t\tconst { name, amount } = item; //destructuring\r\n\t\t\t\ttotal += amount;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t{/* <td>{key + 1}</td> */}\r\n\t\t\t\t\t\t<td>{name}</td>\r\n\t\t\t\t\t\t<td>{amount.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tconst value = total.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t{/* <th>#</th> */}\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Amount</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataTable}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t{/* <td></td> */}\r\n\t\t\t\t\t\t\t<td>Total:</td>\r\n\t\t\t\t\t\t\t<td>{value}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trenderTabPane() {\r\n\t\treturn monthArray.map((item, key) => {\r\n\t\t\treturn (\r\n\t\t\t\t<TabPane tab={item} key={key + 1}>\r\n\t\t\t\t\t<MonthlyReportDetail\r\n\t\t\t\t\t\tdataBiz={this.renderTablePledged(key + 1)}\r\n\t\t\t\t\t\tbiz={this.state.dataPledged}\r\n\t\t\t\t\t\tmbiz={key + 1}\r\n\t\t\t\t\t\tdataOrg={this.renderTableSpent(key + 1)}\r\n\t\t\t\t\t\torg={this.state.dataSpent}\r\n\t\t\t\t\t\tmorg={key + 1}\r\n\t\t\t\t\t\tdataInd={this.renderTableOrg(key + 1)}\r\n\t\t\t\t\t\tind={this.state.dataOrg}\r\n\t\t\t\t\t\tmind={key + 1}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TabPane>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\tsaveAsExcel = async () => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet dataP = [],\r\n\t\t\tdataS = [],\r\n\t\t\tdataO = [],\r\n\t\t\trow = 1,\r\n\t\t\tlabelBiz = ['Name', 'Amount', 'Month'],\r\n\t\t\tlabelIndividual = ['Name', 'Amount', 'Month'],\r\n\t\t\tlabelOrg = ['Name', 'Amount', 'Month'];\r\n\r\n\t\tlet { dataPledged, dataSpent, dataOrg } = this.state;\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\tdataPledged.map((item, key) => {\r\n\t\t\tdataP.push([item.name, item.amount, item.create]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tdataSpent.map((item, key) => {\r\n\t\t\tdataS.push([item.name, item.amount, item.create]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tdataOrg.map((item, key) => {\r\n\t\t\tdataO.push([item.name, item.amount, item.create]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst titleBiz = ws.addRow(['My Pledges to Organizations-' + new Date().getFullYear()]);\r\n\t\tws.mergeCells('A' + row + ':C' + row);\r\n\t\trow += 1;\r\n\t\ttitleBiz.font = { bold: true };\r\n\t\ttitleBiz.alignment = { vertical: 'middle', horizontal: 'center' };\r\n\r\n\t\tconst title = ws.addRow(labelBiz);\r\n\t\ttitle.font = { bold: true };\r\n\t\trow += 1;\r\n\r\n\t\tdataP.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\trow += 1;\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tws.addRow();\r\n\t\trow += 1;\r\n\t\tconst titleIndividual = ws.addRow(['My Top Purchasing Individuals-' + new Date().getFullYear()]);\r\n\t\tws.mergeCells('A' + row + ':C' + row);\r\n\t\trow += 1;\r\n\t\ttitleIndividual.font = { bold: true };\r\n\t\ttitleIndividual.alignment = { vertical: 'middle', horizontal: 'center' };\r\n\r\n\t\tconst title2 = ws.addRow(labelIndividual);\r\n\t\ttitle2.font = { bold: true };\r\n\t\trow += 1;\r\n\r\n\t\tdataS.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\trow += 1;\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tws.addRow();\r\n\t\trow += 1;\r\n\t\tconst titleOrg = ws.addRow(['Top Receiving Organizations-' + new Date().getFullYear()]);\r\n\t\tws.mergeCells('A' + row + ':C' + row);\r\n\t\trow += 1;\r\n\t\ttitleOrg.font = { bold: true };\r\n\t\ttitleOrg.alignment = { vertical: 'middle', horizontal: 'center' };\r\n\r\n\t\tconst title3 = ws.addRow(labelOrg);\r\n\t\ttitle3.font = { bold: true };\r\n\r\n\t\tdataO.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst nameFile = 'MonthlyReport-' + new Date().getFullYear() + '.xlsx';\r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-6 col-xs-12\">\r\n\t\t\t\t\t\t<h4>Monthly Reports</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6 col-xs-12 text-right\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-8 col-xs-12\">\r\n\t\t\t\t\t\t\t\t{/* <MonthPicker format={dateFormat} onChange={this.onChange()} /> */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-xs-12\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcel()} block>\r\n\t\t\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t<Tabs defaultActiveKey=\"1\">{this.renderTabPane()}</Tabs>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MonthlyReports;\r\n","import React, { Component } from 'react';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { getTransactionSummaryByUserId } from '../../../util/APIUtils';\r\nimport { formatDate, getDay, colorHex } from '../../../util/Helper';\r\n\r\nimport ExcelJS from 'exceljs/dist/es5/exceljs.browser';\r\nimport { saveAs } from 'file-saver';\r\nimport { Button, Icon, Skeleton } from 'antd';\r\n\r\nexport default class PledgedPurchasedGradient extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdata: {},\r\n\t\t\tlabel: [],\r\n\t\t\tdate: null,\r\n\t\t\tcheck: null,\r\n\t\t\tloading: false,\r\n\t\t\tid: props.user.id\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst date = new Date();\r\n\t\tconst start = formatDate(new Date(date.getFullYear(), date.getMonth(), 1));\r\n\t\tconst end = formatDate(new Date(date.getFullYear(), date.getMonth() + 1, 0));\r\n\t\tconst user = this.state.id\r\n\t\tthis.renderChart(start, end, user)\r\n\t}\r\n\r\n\trenderChart = (start, end, user) => {\r\n\t\tconsole.log(user)\r\n\t\tconst label = [],\r\n\t\t\tfee = [],\r\n\t\t\twithdraw = [],\r\n\t\t\ttopup = [],\r\n\t\t\tspent = [],\r\n\t\t\tpledge = [],\r\n\t\t\ttransfer = [],\r\n\t\t\tdatasets = [];\r\n\t\t\tgetTransactionSummaryByUserId(start, end, user)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconsole.log(response)\r\n\t\t\t\tthis.setState({ loading: true })\r\n\t\t\t\tresponse.reverse().map((item, key) => {\r\n\t\t\t\t\tlabel.push(getDay(item.time));\r\n\r\n\t\t\t\t\titem.summary.map((i, k) => {\r\n\t\t\t\t\t\tif (i.type === 'FEE') {\r\n\t\t\t\t\t\t\tfee.push(i.fiatAmount);\r\n\t\t\t\t\t\t} else if (i.type === 'WITHDRAW') {\r\n\t\t\t\t\t\t\twithdraw.push(i.fiatAmount);\r\n\t\t\t\t\t\t} else if (i.type === 'TOPUP') {\r\n\t\t\t\t\t\t\ttopup.push(i.amount);\r\n\t\t\t\t\t\t} else if (i.type === 'SPENT') {\r\n\t\t\t\t\t\t\tspent.push(i.amount);\r\n\t\t\t\t\t\t} else if (i.type === 'TRANSFER') {\r\n\t\t\t\t\t\t\ttransfer.push(i.amount);\r\n\t\t\t\t\t\t} else if (i.type === 'PLEDGE') {\r\n\t\t\t\t\t\t\tpledge.push(i.amount);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(fee.length !== key+1){\r\n\t\t\t\t\t\tfee.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(withdraw.length !== key+1){\r\n\t\t\t\t\t\twithdraw.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(topup.length !== key+1){\r\n\t\t\t\t\t\ttopup.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(spent.length !== key+1){\r\n\t\t\t\t\t\tspent.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(transfer.length !== key+1){\r\n\t\t\t\t\t\ttransfer.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(pledge.length !== key+1){\r\n\t\t\t\t\t\tpledge.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\t// let cekFee = fee.filter((data) => data !== 0);\r\n\t\t\t\t// let cekWithdraw = withdraw.filter((data) => data !== 0);\r\n\t\t\t\t// let cekTopup = topup.filter((data) => data !== 0);\r\n\t\t\t\tlet cekSpent = spent.filter((data) => data !== 0);\r\n\t\t\t\t// let cekTransfer = transfer.filter((data) => data !== 0);\r\n\t\t\t\tlet cekPledge = pledge.filter((data) => data !== 0);\r\n\r\n\t\t\t\tif (cekPledge.length !== 0) {\r\n\t\t\t\t\tdatasets.push({\r\n\t\t\t\t\t\tlabel: 'Pledged',\r\n\t\t\t\t\t\tbackgroundColor: colorHex[1],\r\n\t\t\t\t\t\tdata: pledge,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (cekSpent.length !== 0) {\r\n\t\t\t\t\tdatasets.push({\r\n\t\t\t\t\t\tlabel: 'Received',\r\n\t\t\t\t\t\tbackgroundColor: colorHex[0],\r\n\t\t\t\t\t\tdata: spent,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlabel: label,\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(fee)\r\n\t\t\t\t// console.log(withdraw)\r\n\t\t\t\t// console.log(topup)\r\n\t\t\t\t// console.log(spent)\r\n\t\t\t\t// console.log(transfer)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t\tthis.setState({\r\n\t\t\tdata: {\r\n\t\t\t\tlabels: label,\r\n\t\t\t\tdatasets: datasets,\r\n\t\t\t},\r\n\t\t\tloading: false\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState){\r\n\t\tif(prevState.date !== this.props.date){\r\n\t\t\tthis.setState({ date: this.props.date })\r\n\t\t\tconst start =  this.props.date[0]._d;\r\n\t\t\tconst end = this.props.date[1]._d;\r\n\t\t\tthis.renderChart(start, end)\r\n\t\t}\r\n\t}\r\n\r\n\tsetGradientColor = (canvas, color) => {\r\n\t\tconst ctx = canvas.getContext('2d');\r\n\t\tconst gradient = ctx.createLinearGradient(0, 0, 600, 550);\r\n\t\tgradient.addColorStop(0, color);\r\n\t\tgradient.addColorStop(0.95, 'rgba(133,122,144,0.5)');\r\n\t\treturn gradient;\r\n\t};\r\n\r\n\tgetChartData = (canvas) => {\r\n\t\tconst data = this.state.data;\r\n\t\tif (data.datasets) {\r\n\t\t\tlet colors = colorHex;\r\n\t\t\tdata.datasets.forEach((set, i) => {\r\n\t\t\t\t// set.backgroundColor = this.setGradientColor(canvas, colors[i]);\r\n\t\t\t\tset.backgroundColor = colors[i];\r\n\t\t\t\tset.borderColor = 'white';\r\n\t\t\t\tset.borderWidth = 2;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn data;\r\n\t};\r\n\r\n\tsaveAsExcel = async () => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet datas = [],\r\n\t\t\tdates = [''];\r\n\r\n\t\tlet { data } = this.state;\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\tdata.labels.map((item, key) => {\r\n\t\t\tdates.push(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tdata.datasets.map((item, key) => {\r\n\t\t\tconst newData = [];\r\n\t\t\tnewData.push(item.label);\r\n\t\t\titem.data.map((it, ky) => {\r\n\t\t\t\tnewData.push(it);\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\t\t\tdatas.push(newData);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst title = ws.addRow(dates);\r\n\t\ttitle.font = { bold: true };\r\n\r\n\t\tdatas.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\t// console.log(ws);\r\n\t\tconst date = new Date();\r\n\t\tconst dateNow = [new Date(date.getFullYear(), date.getMonth(), 1), new Date(date.getFullYear(), date.getMonth() + 1, 0)];\r\n\t\tconst tanggal = (this.state.date !== null) ? this.state.date : dateNow\r\n\r\n\t\tconst nameFile = 'PlatformActivity-' + tanggal + '.xlsx';\r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t};\r\n\r\n\tdisplayChart = () => {\r\n\t\tif(!this.state.loading){\r\n\t\t\treturn(\r\n\t\t\t\t<Skeleton active />\r\n\t\t\t)\r\n\t\t}else{\r\n\t\t\treturn (\r\n\t\t\t\t<Line\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\tresponsive: true,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdata={this.getChartData}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-9\"></div>\r\n\t\t\t\t\t<div className=\"col-lg-3 col-xs-12\">\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcel()} block>\r\n\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{this.displayChart()}\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Doughnut } from 'react-chartjs-2';\r\n\r\nimport ExcelJS from 'exceljs/dist/es5/exceljs.browser';\r\nimport { saveAs } from 'file-saver';\r\nimport { Button, Icon, Skeleton } from 'antd';\r\n\r\nimport { getTransactionSummary } from '../../../util/APIUtils';\r\nimport { formatDate, colorHex } from '../../../util/Helper';\r\n\r\nclass ThisMonthDoughnuts extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: null, exports: {} };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst date = new Date();\r\n\t\tconst start = formatDate(new Date(date.getFullYear(), date.getMonth(), 1));\r\n\t\tconst end = formatDate(new Date(date.getFullYear(), date.getMonth() + 1, 0));\r\n\t\tconst label = [],\r\n\t\t\tdata = [],\r\n\t\t\tbackgroundColor = [],\r\n\t\t\tdatas = [];\r\n\t\tgetTransactionSummary(start, end)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tbackgroundColor.push(colorHex[key]);\r\n\t\t\t\t\tif(item.type === \"SPENT\"){\r\n\t\t\t\t\t\tlabel.push(\"Received\");\r\n\t\t\t\t\t\tdata.push(item.amount);\r\n\t\t\t\t\t\tdatas.push({\r\n\t\t\t\t\t\t\tdata: item.amount,\r\n\t\t\t\t\t\t\tlabel: \"Received\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(item.type === \"PLEDGE\"){\r\n\t\t\t\t\t\tlabel.push(\"Pledged\");\r\n\t\t\t\t\t\tdata.push(item.amount);\r\n\t\t\t\t\t\tdatas.push({\r\n\t\t\t\t\t\t\tdata: item.amount,\r\n\t\t\t\t\t\t\tlabel: \"Pledged\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tlabels: label,\r\n\t\t\t\t\t\tdatasets: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tbackgroundColor: backgroundColor,\r\n\t\t\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t},\r\n\t\t\t\t\texports: datas,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t};\r\n\r\n\tsaveAsExcel = async () => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet label = [],\r\n\t\t\tdata = [];\r\n\r\n\t\tlet { exports } = this.state;\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\tconsole.log(exports);\r\n\r\n\t\texports.map((item, key) => {\r\n\t\t\tlabel.push(item.label);\r\n\t\t\tdata.push(item.data);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst title = ws.addRow(label);\r\n\t\ttitle.font = { bold: true };\r\n\r\n\t\tws.addRow(data);\r\n\t\tconst date = new Date();\r\n\t\tconst dateNow = [new Date(date.getFullYear(), date.getMonth(), 1), new Date(date.getFullYear(), date.getMonth() + 1, 0)];\r\n\t\tconst nameFile = 'ThisMonthDougnut-' + dateNow + '.xlsx';\r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t};\r\n\r\n\trenderBar = () => {\r\n\t\tconst { data } = this.state;\r\n\t\tif (data === null) {\r\n\t\t\treturn (\r\n\t\t\t\t<Skeleton active />\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tif(data.labels.length === 0){\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<h3>This month is empty</h3>\r\n\t\t\t\t)\r\n\t\t\t}else{\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Doughnut\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\tresponsive: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\theight={250}\r\n\t\t\t\t\t\tdata={this.state.data}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t<h4>This Month</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6 col-xs-12 text-right\">\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcel()} block>\r\n\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-md-12 col-sm-12\">\r\n\t\t\t\t\t{this.renderBar()}\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ThisMonthDoughnuts;\r\n","import React, { Component } from 'react';\r\nimport { getWhoIPledged } from '../../../util/APIUtils';\r\nimport { Skeleton } from 'antd';\r\n\r\nexport default class MyPledgesToOrganizations extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: { datas: [] } };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst data = [];\r\n\t\tgetWhoIPledged(5)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconsole.log(response)\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: item.to.organization.organizationName,\r\n\t\t\t\t\t\tamount: item.pledgedTotal,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tconst topValues = data.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdatas: topValues,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(this.state.data.datas.map)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t};\r\n\trenderTableData() {\r\n\t\tconst { data } = this.state;\r\n\t\tif (data.datas.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tlet total = 0;\r\n\t\t\tconst dataTable = this.state.data.datas.map((item, key) => {\r\n\t\t\t\tconst { name, amount } = item; //destructuring\r\n\t\t\t\ttotal += amount;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t<td>{name}</td>\r\n\t\t\t\t\t\t<td>{amount.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tconst value = total.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Amount</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataTable}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Total:</td>\r\n\t\t\t\t\t\t\t<td>{value}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<h4>My Pledges to Organizations</h4>\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content table-responsive\">{this.renderTableData()}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { getSpentOnMe } from '../../../util/APIUtils';\r\nimport { Skeleton } from 'antd';\r\nimport { getFirstWord } from '../../../util/Helper'\r\n\r\nexport default class MyTopPurchasingIndividuals extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: { datas: [] } };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst data = [];\r\n\t\tgetSpentOnMe(5)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tif(response.length === 0){\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: 'DataIsempty',\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\t\tname: item.from.individual.name,\r\n\t\t\t\t\t\t\temail: item.from.individual.email,\r\n\t\t\t\t\t\t\tamount: item.spentTotal,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tconst topValues = data.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdatas: topValues,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(this.state.data.datas.map)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t};\r\n\trenderTableData() {\r\n\t\tconst { data } = this.state;\r\n\t\tif (data.datas.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tlet total = 0;\r\n\t\t\tlet dataTable\r\n\t\t\tif(this.state.data.datas[0].name === \"DataIsempty\"){\r\n\t\t\t\t// console.log(\"empty\")\r\n\t\t\t\tdataTable = () => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Data is empty</td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tdataTable = this.state.data.datas.map((item, key) => {\r\n\t\t\t\t\tconst { name, email, amount } = item; //destructuring\r\n\t\t\t\t\ttotal += amount;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t\t<td><a href={\"mailto:\"+email}>{getFirstWord(name)}</a></td>\r\n\t\t\t\t\t\t\t<td>{amount.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tconst value = total.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Amount</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataTable}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Total:</td>\r\n\t\t\t\t\t\t\t<td>{value}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<h4>My Top Purchasing Individuals</h4>\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content table-responsive\">{this.renderTableData()}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { getPledgesByOrganization } from '../../../util/APIUtils';\r\nimport { Skeleton } from 'antd';\r\n\r\nexport default class TopReceivingOrganizations extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: { datas: [] } };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst data = [];\r\n\t\tgetPledgesByOrganization()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tlet name;\r\n\t\t\t\t\tif (Object.keys(item.organization).length === 0) {\r\n\t\t\t\t\t\tname = 'Data is deleted';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tname = item.organization.organization.organizationName;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\tamount: item.pledgeReceived,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tconst topValues = data.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdatas: topValues,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(this.state.data.datas.map)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t};\r\n\trenderTableData() {\r\n\t\tconst { data } = this.state;\r\n\t\tif (data.datas.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tlet total = 0;\r\n\t\t\tconst dataTable = this.state.data.datas.map((item, key) => {\r\n\t\t\t\tconst { name, amount } = item; //destructuring\r\n\t\t\t\ttotal += amount;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t<td>{name}</td>\r\n\t\t\t\t\t\t<td>{amount.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tconst value = total.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Amount</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataTable}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Total:</td>\r\n\t\t\t\t\t\t\t<td>{value}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<h4>Top Receiving Organizations</h4>\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content table-responsive\">{this.renderTableData()}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Skeleton } from 'antd';\r\n\r\nexport default class StatsComponent extends Component {\r\n\trenderComponent = () => {\r\n\t\tif (this.props.percentage === null) {\r\n\t\t\treturn <Skeleton active paragraph={{ rows: 1 }} />;\r\n\t\t} else {\r\n\t\t\tlet percent;\r\n\t\t\tconst { icon, title, data, all } = this.props;\r\n\t\t\tif (this.props.percentage >= 0) {\r\n\t\t\t\tpercent = () => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<i className=\"green\">\r\n\t\t\t\t\t\t\t\t<i className=\"fa fa-sort-asc\"></i>\r\n\t\t\t\t\t\t\t\t{this.props.percentage}%\r\n\t\t\t\t\t\t\t</i>{' '}\r\n\t\t\t\t\t\t\tFrom last month\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t);\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tpercent = () => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<i className=\"red\">\r\n\t\t\t\t\t\t\t\t<i className=\"fa fa-sort-desc\"></i>\r\n\t\t\t\t\t\t\t\t{this.props.percentage}%\r\n\t\t\t\t\t\t\t</i>{' '}\r\n\t\t\t\t\t\t\tFrom last month\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<span className=\"count_top\">\r\n\t\t\t\t\t\t<i className={icon}></i> {title}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<div className=\"count\">{all}</div>\r\n\t\t\t\t\t<span className=\"count_bottom\">{data} In this month</span><br />\r\n\t\t\t\t\t<span className=\"count_bottom\">{percent()}</span>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\trender() {\r\n\t\treturn <div className=\"col-md-2 col-sm-4 col-xs-6 tile_stats_count\">{this.renderComponent()}</div>;\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport RecentNotification from '../../../../components/RecentNotification'\r\n\r\nexport default class AllNotifications extends Component {\r\n    render() {\r\n        return (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<h4>All Notifications</h4>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t<div className=\"dashboard-widget-content\">\r\n\t\t\t\t\t\t<ul className=\"list-unstyled timeline widget\">\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport RecentNotification from '../../../../components/RecentNotification'\r\n\r\nexport default class MyNotification extends Component {\r\n    render() {\r\n        return (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<h4>My Notifications</h4>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t<div className=\"dashboard-widget-content\">\r\n\t\t\t\t\t\t<ul className=\"list-unstyled timeline widget\">\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport RecentNotification from '../../../../components/RecentNotification'\r\n\r\nexport default class RecentSocialMediaMentions extends Component {\r\n    render() {\r\n        return (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<h4>Recent Social Media Mentions</h4>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t<div className=\"dashboard-widget-content\">\r\n\t\t\t\t\t\t<ul className=\"list-unstyled timeline widget\">\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport StatsComponent from './StatsComponent';\r\nimport { getUserSummary, getUserSummaryAll, getTransactionSummary, getTransactionSummaryAll } from '../../util/APIUtils';\r\nimport { formatDate, findPercent } from '../../util/Helper';\r\n\r\nexport default class StatsLists extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tallIndividual: 0,\r\n\t\t\tallBusiness: 0,\r\n\t\t\tallOrganization: 0,\r\n\t\t\tallPledge: 0,\r\n\t\t\tallTopup: 0,\r\n\t\t\tallSpent: 0,\r\n\r\n\t\t\ttotalIndividual: 0,\r\n\t\t\ttotalBusiness: 0,\r\n\t\t\ttotalOrganization: 0,\r\n\t\t\ttotalPledge: 0,\r\n\t\t\ttotalTopup: 0,\r\n\t\t\ttotalSpent: 0,\r\n\r\n\t\t\tpercentTotalIndividual: null,\r\n\t\t\tpercentTotalBusiness: null,\r\n\t\t\tpercentTotalOrganization: null,\r\n\t\t\tpercentTotalPledge: null,\r\n\t\t\tpercentTotalTopup: null,\r\n\t\t\tpercentTotalSpent: null,\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tconst date = new Date();\r\n\t\tconst start = formatDate(new Date(date.getFullYear(), date.getMonth(), 1));\r\n\t\tconst end = formatDate(new Date(date.getFullYear(), date.getMonth() + 1, 0));\r\n\r\n\t\tconst startLast = formatDate(new Date(date.getFullYear(), date.getMonth() - 1, 1));\r\n\t\tconst endLast = formatDate(new Date(date.getFullYear(), date.getMonth() - 1 + 1, 0));\r\n\r\n\t\tgetUserSummaryAll()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tallIndividual: response.individualCount,\r\n\t\t\t\t\tallBusiness: response.businessCount,\r\n\t\t\t\t\tallOrganization: response.organizationCount,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t})\r\n\r\n\t\tgetUserSummary(start, end)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\ttotalIndividual: response.individualCount,\r\n\t\t\t\t\ttotalBusiness: response.businessCount,\r\n\t\t\t\t\ttotalOrganization: response.organizationCount,\r\n\t\t\t\t});\r\n\t\t\t\tgetUserSummary(startLast, endLast)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tconst { totalIndividual, totalBusiness, totalOrganization, allIndividual, allBusiness, allOrganization } = this.state;\r\n\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tpercentTotalIndividual: findPercent((totalIndividual - response.individualCount), allIndividual),\r\n\t\t\t\t\t\t\tpercentTotalBusiness: findPercent((totalBusiness - response.businessCount), allBusiness),\r\n\t\t\t\t\t\t\tpercentTotalOrganization: findPercent((totalOrganization - response.organizationCount), allOrganization)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\t\tgetTransactionSummaryAll()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresponse.map((item) => {\r\n\t\t\t\t\tif (item.type === 'PLEDGE') {\r\n                        this.setState({ allPledge: item.amount });\r\n\t\t\t\t\t} else if (item.type === 'TOPUP') {\r\n                        this.setState({ allTopup: item.amount });\r\n\t\t\t\t\t} else if (item.type === 'SPENT') {\r\n                        this.setState({ allSpent: item.amount });\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\r\n\t\tgetTransactionSummary(start, end)\r\n\t\t\t.then((response) => {\r\n                // console.log(response)\r\n                const data = {totalPledge: 0, totalTopup: 0, totalSpent:0}\r\n\t\t\t\tresponse.map((item) => {\r\n\t\t\t\t\tconst value = item.amount.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\t\t\tif (item.type === 'PLEDGE') {\r\n                        this.setState({ totalPledge: value });\r\n                        data.totalPledge = item.amount\r\n\t\t\t\t\t} else if (item.type === 'TOPUP') {\r\n                        this.setState({ totalTopup: value });\r\n                        data.totalTopup = item.amount\r\n\t\t\t\t\t} else if (item.type === 'SPENT') {\r\n                        this.setState({ totalSpent: value });\r\n                        data.totalSpent = item.amount\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tgetTransactionSummary(startLast, endLast)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tconsole.log(response)\r\n\t\t\t\t\t\tconst { totalPledge, totalTopup, totalSpent } = data;\r\n\t\t\t\t\t\tif(response.length === 0){\r\n\t\t\t\t\t\t\tthis.setState({ percentTotalPledge: findPercent(100, 100) });\r\n\t\t\t\t\t\t\tthis.setState({ percentTotalTopup: findPercent(100, 100) });\r\n\t\t\t\t\t\t\tthis.setState({ percentTotalSpent: findPercent(100, 100) });\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tconst { allPledge, allTopup, allSpent } = this.state;\r\n\t\t\t\t\t\t\tresponse.map((item) => {\r\n\t\t\t\t\t\t\t\tif (item.type === 'PLEDGE') {\r\n\t\t\t\t\t\t\t\t\tthis.setState({ percentTotalPledge: findPercent((totalPledge - item.amount), allPledge) });\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.setState({ percentTotalPledge: findPercent((totalPledge - 0), allPledge) });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (item.type === 'TOPUP') {\r\n\t\t\t\t\t\t\t\t\tthis.setState({ percentTotalTopup: findPercent((totalTopup - item.amount), allTopup) });\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.setState({ percentTotalTopup: findPercent((totalTopup - 0), allTopup) });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (item.type === 'SPENT') {\r\n\t\t\t\t\t\t\t\t\tthis.setState({ percentTotalSpent: findPercent((totalSpent - item.amount), allSpent) });\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.setState({ percentTotalSpent: findPercent((totalSpent - 0), allSpent) });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tallIndividual,\r\n\t\t\tallBusiness,\r\n\t\t\tallOrganization,\r\n\t\t\tallPledge,\r\n\t\t\tallTopup,\r\n\t\t\tallSpent,\r\n\t\t\ttotalIndividual,\r\n\t\t\ttotalBusiness,\r\n\t\t\ttotalOrganization,\r\n\t\t\ttotalPledge,\r\n\t\t\ttotalTopup,\r\n\t\t\ttotalSpent,\r\n\t\t\tpercentTotalBusiness,\r\n\t\t\tpercentTotalIndividual,\r\n\t\t\tpercentTotalOrganization,\r\n\t\t\tpercentTotalPledge,\r\n\t\t\tpercentTotalSpent,\r\n\t\t\tpercentTotalTopup,\r\n\t\t} = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"row tile_count\">\r\n\t\t\t\t<StatsComponent\r\n\t\t\t\t\ticon=\"fa fa-user\"\r\n\t\t\t\t\ttitle=\"Total Individuals\"\r\n\t\t\t\t\tdata={totalIndividual}\r\n\t\t\t\t\tall={allIndividual}\r\n\t\t\t\t\tpercentage={percentTotalIndividual}\r\n\t\t\t\t/>\r\n\t\t\t\t<StatsComponent\r\n\t\t\t\t\ticon=\"fa fa-user\"\r\n\t\t\t\t\ttitle=\"Total Businesses\"\r\n\t\t\t\t\tdata={totalBusiness}\r\n\t\t\t\t\tall={allBusiness}\r\n\t\t\t\t\tpercentage={percentTotalBusiness}\r\n\t\t\t\t/>\r\n\t\t\t\t<StatsComponent\r\n\t\t\t\t\ticon=\"fa fa-user\"\r\n\t\t\t\t\ttitle=\"Total Organizations\"\r\n\t\t\t\t\tdata={totalOrganization}\r\n\t\t\t\t\tall={allOrganization}\r\n\t\t\t\t\tpercentage={percentTotalOrganization}\r\n\t\t\t\t/>\r\n\t\t\t\t<StatsComponent\r\n\t\t\t\t\ticon=\"fa fa-money\"\r\n\t\t\t\t\ttitle=\"Total Pledged\"\r\n\t\t\t\t\tdata={totalPledge}\r\n\t\t\t\t\tall={allPledge.toLocaleString(undefined, { minimumFractionDigits: 0 })}\r\n\t\t\t\t\tpercentage={percentTotalPledge}\r\n\t\t\t\t/>\r\n\t\t\t\t<StatsComponent\r\n\t\t\t\t\ticon=\"fa fa-money\"\r\n\t\t\t\t\ttitle=\"Total Topup\"\r\n\t\t\t\t\tdata={totalTopup}\r\n\t\t\t\t\tall={allTopup.toLocaleString(undefined, { minimumFractionDigits: 0 })}\r\n\t\t\t\t\tpercentage={percentTotalTopup}\r\n\t\t\t\t/>\r\n\t\t\t\t<StatsComponent\r\n\t\t\t\t\ticon=\"fa fa-money\"\r\n\t\t\t\t\ttitle=\"Total Spent\"\r\n\t\t\t\t\tdata={totalSpent}\r\n\t\t\t\t\tall={allSpent.toLocaleString(undefined, { minimumFractionDigits: 0 })}\r\n\t\t\t\t\tpercentage={percentTotalSpent}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport {\r\n\tMonthlyReports,\r\n\tPledgedPurchasedGradient,\r\n\tThisMonthDoughnuts,\r\n\tMyPledgesToOrganizations,\r\n\tMyTopPurchasingIndividuals,\r\n\tTopReceivingOrganizations,\r\n} from './dashboardComponents';\r\n\r\nimport StatsLists from './StatsLists';\r\nimport { Helmet } from 'react-helmet';\r\nimport { DatePicker } from 'antd';\r\nimport moment from 'moment';\r\nconst { RangePicker } = DatePicker;\r\nconst dateFormat = 'DD/MM/YYYY';\r\nconst date = new Date();\r\n\r\nclass Dashboard extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { date: null };\r\n\t}\r\n\r\n\tonChangeRange = (value, dateString) => {\r\n\t\tthis.setState({ date: value });\r\n\t};\r\n\r\n\tonOkRange = (value) => {\r\n\t\tconsole.log('onOk: ', value);\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"right_col\" role=\"main\">\r\n\t\t\t\t<Helmet>\r\n\t\t\t\t\t<title>Business</title>\r\n\t\t\t\t</Helmet>\r\n\t\t\t\t<StatsLists />\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-12 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t<div className=\"dashboard_graph\">\r\n\t\t\t\t\t\t\t<div className=\"row x_title\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\t\tPlatform Activity <br />\r\n\t\t\t\t\t\t\t\t\t\t<small>Pledged vs Received</small>\r\n\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tid=\"reportrange\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"pull-right\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tbackground: '#fff',\r\n\t\t\t\t\t\t\t\t\t\t\tpadding: '5px 10px',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<RangePicker\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={[\r\n\t\t\t\t\t\t\t\t\t\t\t\tmoment(new Date(date.getFullYear(), date.getMonth(), 1), dateFormat),\r\n\t\t\t\t\t\t\t\t\t\t\t\tmoment(new Date(date.getFullYear(), date.getMonth() + 1, 0), dateFormat),\r\n\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\tformat={dateFormat}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeRange}\r\n\t\t\t\t\t\t\t\t\t\t\tonOk={this.onOkRange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-8 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t\t\t{/* <div id=\"chart_plot_01\" className=\"demo-placeholder\"></div> */}\r\n\t\t\t\t\t\t\t\t<PledgedPurchasedGradient date={this.state.date} user={this.props.userInfo} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12 bg-white \">\r\n\t\t\t\t\t\t\t\t<ThisMonthDoughnuts user={this.props.userInfo} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<br />\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t{/* Businesses top 5 amount pledged */}\r\n\t\t\t\t\t\t<MyPledgesToOrganizations />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t{/* Organizations top 5 pledges received */}\r\n\t\t\t\t\t\t<MyTopPurchasingIndividuals />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t{/* Individuals top 5 amount purchased */}\r\n\t\t\t\t\t\t<TopReceivingOrganizations />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<br />\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-12 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t<MonthlyReports />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Dashboard;\r\n","import React, { Component } from 'react';\r\nimport { Button, Icon } from 'antd';\r\nimport ExcelJS from 'exceljs/dist/es5/exceljs.browser';\r\nimport { saveAs } from 'file-saver';\r\n\r\nclass MonthlyReportDetail extends Component {\r\n\tsaveAsExcelBiz = async () => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet datas = [],\r\n\t\t\tlabel = ['Name', 'Amount'],\r\n\t\t\trow = 1;\r\n\r\n\t\tlet { biz } = this.props;\r\n\t\tlet dataFilter = biz.filter((data) => data.create === this.props.mbiz);\r\n\t\tconst topValues = dataFilter.sort((a, b) => b - a).slice(0, 5);\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\ttopValues.map((item, key) => {\r\n\t\t\tdatas.push([item.name, item.amount]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst titleBiz = ws.addRow(['Pledges Received from Businesses-' + this.props.mbiz]);\r\n\t\ttitleBiz.alignment = { vertical: 'middle', horizontal: 'center' };\r\n\t\tws.mergeCells('A' + row + ':B' + row);\r\n\t\ttitleBiz.font = { bold: true };\r\n\t\tws.addRow();\r\n\t\tconst title = ws.addRow(label);\r\n\t\ttitle.font = { bold: true };\r\n\r\n\t\tdatas.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst nameFile = 'PledgesReceivedfromBusinesses-' + this.props.mbiz + '.xlsx';\r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t};\r\n\tsaveAsExcelOrg = async () => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet datas = [],\r\n\t\t\tlabel = ['Name', 'Amount'],\r\n\t\t\trow = 1;\r\n\r\n\t\tlet { org } = this.props;\r\n\t\tlet dataFilter = org.filter((data) => data.create === this.props.morg);\r\n\t\tconst topValues = dataFilter.sort((a, b) => b - a).slice(0, 5);\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\ttopValues.map((item, key) => {\r\n\t\t\tdatas.push([item.name, item.amount]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst titleOrg = ws.addRow(['Top Receiving Organizations-month ' + this.props.morg]);\r\n\t\ttitleOrg.alignment = { vertical: 'middle', horizontal: 'center' };\r\n\t\tws.mergeCells('A' + row + ':B' + row);\r\n\t\ttitleOrg.font = { bold: true };\r\n\t\tws.addRow();\r\n\t\tconst title = ws.addRow(label);\r\n\t\ttitle.font = { bold: true };\r\n\r\n\t\tdatas.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst nameFile = 'TopReceivingOrganizations-' + this.props.morg + '.xlsx';\r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t};\r\n\tsaveAsExcelInd = async () => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet datas = [],\r\n\t\t\tlabel = ['Name', 'Email', 'Amount'],\r\n\t\t\trow = 1;\r\n\r\n\t\tlet { ind } = this.props;\r\n\t\tlet dataFilter = ind.filter((data) => data.create === this.props.mind);\r\n\t\tconst topValues = dataFilter.sort((a, b) => b - a).slice(0, 5);\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\ttopValues.map((item, key) => {\r\n\t\t\tdatas.push([item.name, item.email, item.amount]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst titleInd = ws.addRow(['Top Supporting Individuals-month ' + this.props.mind]);\r\n\t\ttitleInd.alignment = { vertical: 'middle', horizontal: 'center' };\r\n\t\tws.mergeCells('A' + row + ':C' + row);\r\n\t\ttitleInd.font = { bold: true };\r\n\t\tws.addRow();\r\n\t\tconst title = ws.addRow(label);\r\n\t\ttitle.font = { bold: true };\r\n\r\n\t\tdatas.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst nameFile = 'TopSupportingIndividuals-' + this.props.mind + '.xlsx';\r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-4 col-sm-4  \">\r\n\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t<div className=\"col-lg-7 col-xs-12\">\r\n\t\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\tPledges Received\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\tfrom Businesses\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-5 col-xs-12 text-right\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcelBiz()} block>\r\n\t\t\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"x_content table-responsive\">{this.props.dataBiz}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-md-4 col-sm-4  \">\r\n\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-7 col-xs-12\">\r\n\t\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t\tTop Supporting\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\tIndividuals\r\n\t\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-5 col-xs-12 text-right\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcelOrg()} block>\r\n\t\t\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"x_content table-responsive\">{this.props.dataInd}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-md-4 col-sm-4  \">\r\n\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-7 col-xs-12\">\r\n\t\t\t\t\t\t\t\t<h4>Top Receiving Organizations</h4>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-5 col-xs-12 text-right\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcelInd()} block>\r\n\t\t\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"x_content table-responsive\">{this.props.dataOrg}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MonthlyReportDetail;\r\n","import React, { Component } from 'react';\r\nimport { Tabs, Skeleton, Button, Icon } from 'antd';\r\nimport MonthlyReportDetail from './MonthlyReportDetail';\r\nimport { getPledgesByOrganization, getTopUpByIndividual, getPledgesByBusinesses } from '../../../util/APIUtils';\r\nimport { monthArray, getFirstWord } from '../../../util/Helper';\r\nimport ExcelJS from 'exceljs/dist/es5/exceljs.browser';\r\nimport { saveAs } from 'file-saver';\r\nconst { TabPane } = Tabs;\r\n\r\nclass MonthlyReports extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { dataOrg: [], dataIndividual: [], dataBiz: [] };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tgetPledgesByOrganization()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconst data = [];\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tlet names, creates;\r\n\t\t\t\t\tif (Object.keys(item.organization).length === 0) {\r\n\t\t\t\t\t\tnames = 'Data is deleted';\r\n\t\t\t\t\t\tcreates = 13\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnames = item.organization.organization.organizationName;\r\n\t\t\t\t\t\tcreates = new Date(item.organization.organization.created_at).getMonth() + 1\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: names,\r\n\t\t\t\t\t\tamount: item.pledgeReceived,\r\n\t\t\t\t\t\tcreate: creates,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\t// const topValues = data.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdataOrg: data,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t\tgetTopUpByIndividual()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconst data = [];\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: item.individual.individual.name,\r\n\t\t\t\t\t\temail: item.individual.email,\r\n\t\t\t\t\t\tamount: item.toppedup,\r\n\t\t\t\t\t\tcreate: new Date(item.individual.created_at).getMonth() + 1,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\t// const topValues = data.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdataIndividual: data,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t\tgetPledgesByBusinesses()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconst data = [];\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: item.business.business.businessName,\r\n\t\t\t\t\t\tamount: item.pledged,\r\n\t\t\t\t\t\tcreate: new Date(item.business.created_at).getMonth() + 1,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdataBiz: data,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t};\r\n\trenderTableOrg(m) {\r\n\t\tconst { dataOrg } = this.state;\r\n\t\tif (dataOrg.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tlet total = 0;\r\n\t\t\tlet data = this.state.dataOrg;\r\n\t\t\tlet dataFilter = data.filter((data) => data.create === m);\r\n\t\t\tconst topValues = dataFilter.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\tconst dataTable = topValues.map((item, key) => {\r\n\t\t\t\tconst { name, amount } = item; //destructuring\r\n\t\t\t\ttotal += amount;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t<td>{name}</td>\r\n\t\t\t\t\t\t<td>{amount.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tconst value = total.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Amount</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataTable}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Total:</td>\r\n\t\t\t\t\t\t\t<td>{value}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trenderTableIndividual(m) {\r\n\t\tconst { dataIndividual } = this.state;\r\n\t\tif (dataIndividual.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tlet total = 0;\r\n\t\t\tlet data = this.state.dataIndividual;\r\n\t\t\tlet dataFilter = data.filter((data) => data.create === m);\r\n\t\t\tconst topValues = dataFilter.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\tconst dataTable = topValues.map((item, key) => {\r\n\t\t\t\tconst { name, amount, email } = item; //destructuring\r\n\t\t\t\ttotal += amount;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t<td><a href={\"mailto:\"+email}>{getFirstWord(name)}</a></td>\r\n\t\t\t\t\t\t<td>{amount.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tconst value = total.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Amount</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataTable}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Total:</td>\r\n\t\t\t\t\t\t\t<td>{value}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trenderTableBiz(m) {\r\n\t\tconst { dataBiz } = this.state;\r\n\t\tif (dataBiz.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tlet total = 0;\r\n\t\t\tlet data = this.state.dataBiz;\r\n\t\t\tlet dataFilter = data.filter((data) => data.create === m);\r\n\t\t\tconst topValues = dataFilter.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\tconst dataTable = topValues.map((item, key) => {\r\n\t\t\t\tconst { name, amount } = item; //destructuring\r\n\t\t\t\ttotal += amount;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t<td>{name}</td>\r\n\t\t\t\t\t\t<td>{amount.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tconst value = total.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Amount</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataTable}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Total:</td>\r\n\t\t\t\t\t\t\t<td>{value}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trenderTabPane() {\r\n\t\treturn monthArray.map((item, key) => {\r\n\t\t\treturn (\r\n\t\t\t\t<TabPane tab={item} key={key + 1}>\r\n\t\t\t\t\t<MonthlyReportDetail\r\n\t\t\t\t\t\tdataOrg={this.renderTableOrg(key + 1)}\r\n\t\t\t\t\t\torg={this.state.dataOrg}\r\n\t\t\t\t\t\tmorg={key + 1}\r\n\t\t\t\t\t\tdataInd={this.renderTableIndividual(key + 1)}\r\n\t\t\t\t\t\tind={this.state.dataIndividual}\r\n\t\t\t\t\t\tmind={key + 1}\r\n\t\t\t\t\t\tdataBiz={this.renderTableBiz(key + 1)}\r\n\t\t\t\t\t\tbiz={this.state.dataBiz}\r\n\t\t\t\t\t\tmbiz={key + 1}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TabPane>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\tsaveAsExcel = async () => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet dataB = [],\r\n\t\t\tdataI = [],\r\n\t\t\tdataO = [],\r\n\t\t\trow = 1,\r\n\t\t\tlabelBiz = ['Name', 'Amount', 'Month'],\r\n\t\t\tlabelIndividual = ['Name', 'Email', 'Amount', 'Month'],\r\n\t\t\tlabelOrg = ['Name', 'Amount', 'Month'];\r\n\r\n\t\tlet { dataBiz, dataIndividual, dataOrg } = this.state;\r\n\r\n\t\tconsole.log(dataBiz);\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\tdataBiz.map((item, key) => {\r\n\t\t\tdataB.push([item.name, item.amount, item.create]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tdataIndividual.map((item, key) => {\r\n\t\t\tdataI.push([item.name, item.email, item.amount, item.create]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tdataOrg.map((item, key) => {\r\n\t\t\tdataO.push([item.name, item.amount, item.create]);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst titleBiz = ws.addRow(['Pledges Received from Businesses-' + new Date().getFullYear()]);\r\n\t\tws.mergeCells('A' + row + ':C' + row);\r\n\t\trow += 1;\r\n\t\ttitleBiz.font = { bold: true };\r\n\t\ttitleBiz.alignment = { vertical: 'middle', horizontal: 'center' };\r\n\r\n\t\tconst title = ws.addRow(labelBiz);\r\n\t\ttitle.font = { bold: true };\r\n\t\trow += 1;\r\n\r\n\t\tdataB.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\trow += 1;\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tws.addRow();\r\n\t\trow += 1;\r\n\t\tconst titleIndividual = ws.addRow(['Top Supporting Individuals-' + new Date().getFullYear()]);\r\n\t\tws.mergeCells('A' + row + ':D' + row);\r\n\t\trow += 1;\r\n\t\ttitleIndividual.font = { bold: true };\r\n\t\ttitleIndividual.alignment = { vertical: 'middle', horizontal: 'center' };\r\n\r\n\t\tconst title2 = ws.addRow(labelIndividual);\r\n\t\ttitle2.font = { bold: true };\r\n\t\trow += 1;\r\n\r\n\t\tdataI.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\trow += 1;\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tws.addRow();\r\n\t\trow += 1;\r\n\t\tconst titleOrg = ws.addRow(['Top Receiving Organizations-' + new Date().getFullYear()]);\r\n\t\tws.mergeCells('A' + row + ':C' + row);\r\n\t\trow += 1;\r\n\t\ttitleOrg.font = { bold: true };\r\n\t\ttitleOrg.alignment = { vertical: 'middle', horizontal: 'center' };\r\n\r\n\t\tconst title3 = ws.addRow(labelOrg);\r\n\t\ttitle3.font = { bold: true };\r\n\r\n\t\tdataO.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst nameFile = 'MonthlyReport-' + new Date().getFullYear() + '.xlsx';\r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-6 col-xs-12\">\r\n\t\t\t\t\t\t<h4>Monthly Reports</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6 col-xs-12 text-right\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-8 col-xs-12\">\r\n\t\t\t\t\t\t\t\t{/* <MonthPicker format={dateFormat} onChange={this.onChange()} /> */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-xs-12\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcel()} block>\r\n\t\t\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t<Tabs defaultActiveKey=\"1\">{this.renderTabPane()}</Tabs>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MonthlyReports;\r\n","import React, { Component } from 'react';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { getTransactionSummaryByUserId } from '../../../util/APIUtils';\r\nimport { formatDate, getDay, colorHex } from '../../../util/Helper';\r\n\r\nimport ExcelJS from 'exceljs/dist/es5/exceljs.browser';\r\nimport { saveAs } from 'file-saver';\r\nimport { Button, Icon, Skeleton } from 'antd';\r\n\r\nexport default class PledgedPurchasedGradient extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdata: {},\r\n\t\t\tlabel: [],\r\n\t\t\tdate: null,\r\n\t\t\tcheck: null,\r\n\t\t\tloading: false,\r\n\t\t\tid: props.user.id\r\n\t\t};\r\n\t\tconsole.log(props)\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst date = new Date();\r\n\t\tconst start = formatDate(new Date(date.getFullYear(), date.getMonth(), 1));\r\n\t\tconst end = formatDate(new Date(date.getFullYear(), date.getMonth() + 1, 0));\r\n\t\tconst user = this.state.id\r\n\t\tthis.renderChart(start, end, user)\r\n\t}\r\n\r\n\trenderChart = (start, end, user) => {\r\n\t\tconsole.log(user)\r\n\t\tconst label = [],\r\n\t\t\tfee = [],\r\n\t\t\twithdraw = [],\r\n\t\t\ttopup = [],\r\n\t\t\tspent = [],\r\n\t\t\tpledge = [],\r\n\t\t\ttransfer = [],\r\n\t\t\tdatasets = [];\r\n\t\tgetTransactionSummaryByUserId(start, end, user)\r\n\t\t\t.then((response) => {\r\n\t\t\t\t// console.log(response)\r\n\t\t\t\tthis.setState({ loading: true })\r\n\t\t\t\tresponse.reverse().map((item, key) => {\r\n\t\t\t\t\tlabel.push(getDay(item.time));\r\n\r\n\t\t\t\t\titem.summary.map((i, k) => {\r\n\t\t\t\t\t\tif (i.type === 'FEE') {\r\n\t\t\t\t\t\t\tfee.push(i.fiatAmount);\r\n\t\t\t\t\t\t} else if (i.type === 'WITHDRAW') {\r\n\t\t\t\t\t\t\twithdraw.push(i.fiatAmount);\r\n\t\t\t\t\t\t} else if (i.type === 'TOPUP') {\r\n\t\t\t\t\t\t\ttopup.push(i.amount);\r\n\t\t\t\t\t\t} else if (i.type === 'SPENT') {\r\n\t\t\t\t\t\t\tspent.push(i.amount);\r\n\t\t\t\t\t\t} else if (i.type === 'TRANSFER') {\r\n\t\t\t\t\t\t\ttransfer.push(i.amount);\r\n\t\t\t\t\t\t} else if (i.type === 'PLEDGE') {\r\n\t\t\t\t\t\t\tpledge.push(i.amount);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(fee.length !== key+1){\r\n\t\t\t\t\t\tfee.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(withdraw.length !== key+1){\r\n\t\t\t\t\t\twithdraw.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(topup.length !== key+1){\r\n\t\t\t\t\t\ttopup.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(spent.length !== key+1){\r\n\t\t\t\t\t\tspent.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(transfer.length !== key+1){\r\n\t\t\t\t\t\ttransfer.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(pledge.length !== key+1){\r\n\t\t\t\t\t\tpledge.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\t// let cekFee = fee.filter((data) => data !== 0);\r\n\t\t\t\t// let cekWithdraw = withdraw.filter((data) => data !== 0);\r\n\t\t\t\tlet cekTopup = topup.filter((data) => data !== 0);\r\n\t\t\t\t// let cekSpent = spent.filter((data) => data !== 0);\r\n\t\t\t\t// let cekTransfer = transfer.filter((data) => data !== 0);\r\n\t\t\t\tlet cekPledge = pledge.filter((data) => data !== 0);\r\n\t\t\t\t\r\n\t\t\t\tif (cekPledge.length !== 0) {\r\n\t\t\t\t\tdatasets.push({\r\n\t\t\t\t\t\tlabel: 'Amount Pledged',\r\n\t\t\t\t\t\tbackgroundColor: colorHex[0],\r\n\t\t\t\t\t\tdata: pledge,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tif (cekTopup.length !== 0) {\r\n\t\t\t\t\tdatasets.push({\r\n\t\t\t\t\t\tlabel: 'Amount Purchased',\r\n\t\t\t\t\t\tbackgroundColor: colorHex[1],\r\n\t\t\t\t\t\tdata: topup,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlabel: label,\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(fee)\r\n\t\t\t\t// console.log(withdraw)\r\n\t\t\t\t// console.log(topup)\r\n\t\t\t\t// console.log(spent)\r\n\t\t\t\t// console.log(transfer)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t\tthis.setState({\r\n\t\t\tdata: {\r\n\t\t\t\tlabels: label,\r\n\t\t\t\tdatasets: datasets,\r\n\t\t\t},\r\n\t\t\tloading: false\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState){\r\n\t\tif(prevState.date !== this.props.date){\r\n\t\t\tthis.setState({ date: this.props.date })\r\n\t\t\tconst start =  this.props.date[0]._d;\r\n\t\t\tconst end = this.props.date[1]._d;\r\n\t\t\tthis.renderChart(start, end)\r\n\t\t}\r\n\t}\r\n\r\n\tsetGradientColor = (canvas, color) => {\r\n\t\tconst ctx = canvas.getContext('2d');\r\n\t\tconst gradient = ctx.createLinearGradient(0, 0, 600, 550);\r\n\t\tgradient.addColorStop(0, color);\r\n\t\tgradient.addColorStop(0.95, 'rgba(133,122,144,0.5)');\r\n\t\treturn gradient;\r\n\t};\r\n\r\n\tgetChartData = (canvas) => {\r\n\t\tconst data = this.state.data;\r\n\t\tif (data.datasets) {\r\n\t\t\tlet colors = colorHex;\r\n\t\t\tdata.datasets.forEach((set, i) => {\r\n\t\t\t\t// set.backgroundColor = this.setGradientColor(canvas, colors[i]);\r\n\t\t\t\tset.backgroundColor = colors[i];\r\n\t\t\t\tset.borderColor = 'white';\r\n\t\t\t\tset.borderWidth = 2;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn data;\r\n\t};\r\n\r\n\tsaveAsExcel = async () => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet datas = [],\r\n\t\t\tdates = [''];\r\n\r\n\t\tlet { data } = this.state;\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\tdata.labels.map((item, key) => {\r\n\t\t\tdates.push(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tdata.datasets.map((item, key) => {\r\n\t\t\tconst newData = [];\r\n\t\t\tnewData.push(item.label);\r\n\t\t\titem.data.map((it, ky) => {\r\n\t\t\t\tnewData.push(it);\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\t\t\tdatas.push(newData);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst title = ws.addRow(dates);\r\n\t\ttitle.font = { bold: true };\r\n\r\n\t\tdatas.map((item, key) => {\r\n\t\t\tws.addRow(item);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\t// console.log(ws);\r\n\t\tconst date = new Date();\r\n\t\tconst dateNow = [new Date(date.getFullYear(), date.getMonth(), 1), new Date(date.getFullYear(), date.getMonth() + 1, 0)];\r\n\t\tconst tanggal = (this.state.date !== null) ? this.state.date : dateNow\r\n\r\n\t\tconst nameFile = 'PlatformActivity-' + tanggal + '.xlsx';\r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t};\r\n\r\n\tdisplayChart = () => {\r\n\t\tif(!this.state.loading){\r\n\t\t\treturn(\r\n\t\t\t\t<Skeleton active />\r\n\t\t\t)\r\n\t\t}else{\r\n\t\t\treturn (\r\n\t\t\t\t<Line\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\tresponsive: true,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdata={this.getChartData}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-9\"></div>\r\n\t\t\t\t\t<div className=\"col-lg-3 col-xs-12\">\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcel()} block>\r\n\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{this.displayChart()}\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Doughnut } from 'react-chartjs-2';\r\n\r\nimport ExcelJS from 'exceljs/dist/es5/exceljs.browser';\r\nimport { saveAs } from 'file-saver';\r\nimport { Button, Icon, Skeleton } from 'antd';\r\n\r\nimport { getTransactionSummary } from '../../../util/APIUtils';\r\nimport { formatDate, colorHex } from '../../../util/Helper';\r\n\r\nclass ThisMonthDoughnuts extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: null, exports: {} };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst date = new Date();\r\n\t\tconst start = formatDate(new Date(date.getFullYear(), date.getMonth(), 1));\r\n\t\tconst end = formatDate(new Date(date.getFullYear(), date.getMonth() + 1, 0));\r\n\t\tconst label = [],\r\n\t\t\tdata = [],\r\n\t\t\tbackgroundColor = [],\r\n\t\t\tdatas = [];\r\n\t\tgetTransactionSummary(start, end)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tif(item.type === \"PLEDGE\"){\r\n\t\t\t\t\t\tbackgroundColor.push(colorHex[0]);\r\n\t\t\t\t\t\tlabel.push(\"Amount Pledge\");\r\n\t\t\t\t\t\tdata.push(item.amount);\r\n\t\t\t\t\t\tdatas.push({\r\n\t\t\t\t\t\t\tdata: item.amount,\r\n\t\t\t\t\t\t\tlabel: \"Amount Pledge\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(item.type === \"TOPUP\"){\r\n\t\t\t\t\t\tbackgroundColor.push(colorHex[1]);\r\n\t\t\t\t\t\tlabel.push(\"Amount Purchased\");\r\n\t\t\t\t\t\tdata.push(item.amount);\r\n\t\t\t\t\t\tdatas.push({\r\n\t\t\t\t\t\t\tdata: item.amount,\r\n\t\t\t\t\t\t\tlabel: \"Amount Purchased\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tlabels: label,\r\n\t\t\t\t\t\tdatasets: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tbackgroundColor: backgroundColor,\r\n\t\t\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t},\r\n\t\t\t\t\texports: datas,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t};\r\n\r\n\tsaveAsExcel = async () => {\r\n\t\tconst wb = new ExcelJS.Workbook();\r\n\t\t// create new sheet with pageSetup settings for A4 - landscape\r\n\t\tconst ws = wb.addWorksheet('sheet', {\r\n\t\t\tpageSetup: { paperSize: 9, orientation: 'landscape' },\r\n\t\t});\r\n\r\n\t\tlet label = [],\r\n\t\t\tdata = [];\r\n\r\n\t\tlet { exports } = this.state;\r\n\r\n\t\t// adjust pageSetup settings afterwards\r\n\t\tws.pageSetup.margins = {\r\n\t\t\tleft: 0.7,\r\n\t\t\tright: 0.7,\r\n\t\t\ttop: 0.75,\r\n\t\t\tbottom: 0.75,\r\n\t\t\theader: 0.3,\r\n\t\t\tfooter: 0.3,\r\n\t\t};\r\n\r\n\t\tconsole.log(exports);\r\n\r\n\t\texports.map((item, key) => {\r\n\t\t\tlabel.push(item.label);\r\n\t\t\tdata.push(item.data);\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\tconst title = ws.addRow(label);\r\n\t\ttitle.font = { bold: true };\r\n\r\n\t\tws.addRow(data);\r\n\t\tconst date = new Date();\r\n\t\tconst dateNow = [new Date(date.getFullYear(), date.getMonth(), 1), new Date(date.getFullYear(), date.getMonth() + 1, 0)];\r\n\t\tconst nameFile = 'ThisMonthDougnut-' + dateNow + '.xlsx';\r\n\t\tconst buf = await wb.xlsx.writeBuffer();\r\n\t\tsaveAs(new Blob([buf]), nameFile);\r\n\t};\r\n\r\n\trenderBar = () => {\r\n\t\tconst { data } = this.state;\r\n\t\tif (data === null) {\r\n\t\t\treturn (\r\n\t\t\t\t<Skeleton active />\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tif(data.labels.length === 0){\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<h3>This month is empty</h3>\r\n\t\t\t\t)\r\n\t\t\t}else{\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Doughnut\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\tresponsive: true,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\theight={250}\r\n\t\t\t\t\t\tdata={this.state.data}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t<h4>This Month</h4>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6 col-xs-12 text-right\">\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={() => this.saveAsExcel()} block>\r\n\t\t\t\t\t\t\t<Icon type=\"save\" /> Export\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-md-12 col-sm-12\">\r\n\t\t\t\t\t{this.renderBar()}\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ThisMonthDoughnuts;\r\n","import React, { Component } from 'react';\r\nimport { getPledgesByOrganization } from '../../../util/APIUtils';\r\nimport { Skeleton } from 'antd';\r\n\r\nexport default class TopReceivingOrganizations extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: { datas: [] } };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst data = [];\r\n\t\tgetPledgesByOrganization()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tlet name;\r\n\t\t\t\t\tif (Object.keys(item.organization).length === 0) {\r\n\t\t\t\t\t\tname = 'Data is deleted';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tname = item.organization.organization.organizationName;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\tamount: item.pledgeReceived,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tconst topValues = data.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdatas: topValues,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t};\r\n\trenderTableData() {\r\n\t\tconst { data } = this.state;\r\n\t\tif (data.datas.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tlet total = 0;\r\n\t\t\tconst dataTable = this.state.data.datas.map((item, key) => {\r\n\t\t\t\tconst { name, amount } = item; //destructuring\r\n\t\t\t\ttotal += amount;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t<td>{name}</td>\r\n\t\t\t\t\t\t<td>{amount.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tconst value = total.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Amount</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataTable}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Total:</td>\r\n\t\t\t\t\t\t\t<td>{value}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<h4>Top Receiving<br />Organizations</h4>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content table-responsive\">{this.renderTableData()}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { getTopUpByIndividual } from '../../../util/APIUtils';\r\nimport { Skeleton } from 'antd';\r\nimport { getFirstWord } from '../../../util/Helper'\r\n\r\nexport default class TopSupportingIndividuals extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: { datas: [] } };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst data = [];\r\n\t\tgetTopUpByIndividual()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: item.individual.individual.name,\r\n\t\t\t\t\t\temail: item.individual.email,\r\n\t\t\t\t\t\tamount: item.toppedup,\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// console.log(item)\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tconst topValues = data.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdatas: topValues,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(this.state.data.datas.map)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t};\r\n\trenderTableData() {\r\n\t\tconst { data } = this.state;\r\n\t\tif (data.datas.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tlet total = 0;\r\n\t\t\tconst dataTable = this.state.data.datas.map((item, key) => {\r\n\t\t\t\tconst { name, email, amount } = item; //destructuring\r\n\t\t\t\ttotal += amount;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t<td><a href={\"mailto:\"+email}>{getFirstWord(name)}</a></td>\r\n\t\t\t\t\t\t<td>{amount.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tconst value = total.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Amount</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataTable}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Total:</td>\r\n\t\t\t\t\t\t\t<td>{value}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<h4>\r\n\t\t\t\t\t\tTop Supporting\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\tIndividuals\r\n\t\t\t\t\t</h4>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content table-responsive\">{this.renderTableData()}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { getPledgesByBusinesses } from '../../../util/APIUtils';\r\nimport { Skeleton } from 'antd';\r\n\r\nexport default class TopPledgingBusinesses extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: { datas: [] } };\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst data = [];\r\n\t\tgetPledgesByBusinesses()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tname: item.business.business.businessName,\r\n\t\t\t\t\t\tamount: item.pledged,\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// console.log(item)\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tconst topValues = data.sort((a, b) => b - a).slice(0, 5);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdatas: topValues,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(this.state.data.datas.map)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t};\r\n\trenderTableData() {\r\n\t\tconst { data } = this.state;\r\n\t\tif (data.datas.length === 0) {\r\n\t\t\treturn <Skeleton active />;\r\n\t\t} else {\r\n\t\t\tlet total = 0;\r\n\t\t\tconst dataTable = this.state.data.datas.map((item, key) => {\r\n\t\t\t\tconst { name, amount } = item; //destructuring\r\n\t\t\t\ttotal += amount;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t\t<td>{name}</td>\r\n\t\t\t\t\t\t<td>{amount.toLocaleString(undefined, { minimumFractionDigits: 0 })}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tconst value = total.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\treturn (\r\n\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t<th>Amount</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{dataTable}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Total:</td>\r\n\t\t\t\t\t\t\t<td>{value}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<h4>\r\n\t\t\t\t\t\tPledges Received\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\tfrom Businesses\r\n\t\t\t\t\t</h4>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content table-responsive\">{this.renderTableData()}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Skeleton } from 'antd';\r\n\r\nexport default class StatsComponent extends Component {\r\n\trenderComponent = () => {\r\n\t\tif (this.props.percentage === null) {\r\n\t\t\treturn <Skeleton active paragraph={{ rows: 1 }} />;\r\n\t\t} else {\r\n\t\t\tlet percent;\r\n\t\t\tconst { icon, title, data, all } = this.props;\r\n\t\t\tif (this.props.percentage >= 0) {\r\n\t\t\t\tpercent = () => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<i className=\"green\">\r\n\t\t\t\t\t\t\t\t<i className=\"fa fa-sort-asc\"></i>\r\n\t\t\t\t\t\t\t\t{this.props.percentage}%\r\n\t\t\t\t\t\t\t</i>{' '}\r\n\t\t\t\t\t\t\tFrom last month\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t);\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tpercent = () => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<i className=\"red\">\r\n\t\t\t\t\t\t\t\t<i className=\"fa fa-sort-desc\"></i>\r\n\t\t\t\t\t\t\t\t{this.props.percentage}%\r\n\t\t\t\t\t\t\t</i>{' '}\r\n\t\t\t\t\t\t\tFrom last month\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<span className=\"count_top\">\r\n\t\t\t\t\t\t<i className={icon}></i> {title}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<div className=\"count\">{all}</div>\r\n\t\t\t\t\t<span className=\"count_bottom\">{data} In this month</span><br />\r\n\t\t\t\t\t<span className=\"count_bottom\">{percent()}</span>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\trender() {\r\n\t\treturn <div className=\"col-md-2 col-sm-4 col-xs-6 tile_stats_count\">{this.renderComponent()}</div>;\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport RecentNotification from '../../../../components/RecentNotification'\r\n\r\nexport default class AllNotifications extends Component {\r\n    render() {\r\n        return (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<h4>All Notifications</h4>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t<div className=\"dashboard-widget-content\">\r\n\t\t\t\t\t\t<ul className=\"list-unstyled timeline widget\">\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport RecentNotification from '../../../../components/RecentNotification'\r\n\r\nexport default class MyNotification extends Component {\r\n    render() {\r\n        return (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<h4>My Notifications</h4>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t<div className=\"dashboard-widget-content\">\r\n\t\t\t\t\t\t<ul className=\"list-unstyled timeline widget\">\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport RecentNotification from '../../../../components/RecentNotification'\r\n\r\nexport default class RecentSocialMediaMentions extends Component {\r\n    render() {\r\n        return (\r\n\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t<h4>Recent Social Media Mentions</h4>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t<div className=\"dashboard-widget-content\">\r\n\t\t\t\t\t\t<ul className=\"list-unstyled timeline widget\">\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t\t<RecentNotification />\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport StatsComponent from './StatsComponent';\r\nimport { getUserSummary, getUserSummaryAll, getTransactionSummary, getTransactionSummaryAll } from '../../util/APIUtils';\r\nimport { formatDate, findPercent } from '../../util/Helper';\r\n\r\nexport default class StatsLists extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tallIndividual: 0,\r\n\t\t\tallBusiness: 0,\r\n\t\t\tallOrganization: 0,\r\n\t\t\tallPledge: 0,\r\n\t\t\tallTopup: 0,\r\n\t\t\tallSpent: 0,\r\n\r\n\t\t\ttotalIndividual: 0,\r\n\t\t\ttotalBusiness: 0,\r\n\t\t\ttotalOrganization: 0,\r\n\t\t\ttotalPledge: 0,\r\n\t\t\ttotalTopup: 0,\r\n\t\t\ttotalSpent: 0,\r\n\r\n\t\t\tpercentTotalIndividual: null,\r\n\t\t\tpercentTotalBusiness: null,\r\n\t\t\tpercentTotalOrganization: null,\r\n\t\t\tpercentTotalPledge: null,\r\n\t\t\tpercentTotalTopup: null,\r\n\t\t\tpercentTotalSpent: null,\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tconst date = new Date();\r\n\t\tconst start = formatDate(new Date(date.getFullYear(), date.getMonth(), 1));\r\n\t\tconst end = formatDate(new Date(date.getFullYear(), date.getMonth() + 1, 0));\r\n\r\n\t\tconst startLast = formatDate(new Date(date.getFullYear(), date.getMonth() - 1, 1));\r\n\t\tconst endLast = formatDate(new Date(date.getFullYear(), date.getMonth() - 1 + 1, 0));\r\n\r\n\t\tgetUserSummaryAll()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tallIndividual: response.individualCount,\r\n\t\t\t\t\tallBusiness: response.businessCount,\r\n\t\t\t\t\tallOrganization: response.organizationCount,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t})\r\n\r\n\t\tgetUserSummary(start, end)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\ttotalIndividual: response.individualCount,\r\n\t\t\t\t\ttotalBusiness: response.businessCount,\r\n\t\t\t\t\ttotalOrganization: response.organizationCount,\r\n\t\t\t\t});\r\n\t\t\t\tgetUserSummary(startLast, endLast)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tconst { totalIndividual, totalBusiness, totalOrganization, allIndividual, allBusiness, allOrganization } = this.state;\r\n\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tpercentTotalIndividual: findPercent((totalIndividual - response.individualCount), allIndividual),\r\n\t\t\t\t\t\t\tpercentTotalBusiness: findPercent((totalBusiness - response.businessCount), allBusiness),\r\n\t\t\t\t\t\t\tpercentTotalOrganization: findPercent((totalOrganization - response.organizationCount), allOrganization)\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tconsole.log(allIndividual)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\r\n\t\tgetTransactionSummaryAll()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresponse.map((item) => {\r\n\t\t\t\t\tif (item.type === 'PLEDGE') {\r\n                        this.setState({ allPledge: item.amount });\r\n\t\t\t\t\t} else if (item.type === 'TOPUP') {\r\n                        this.setState({ allTopup: item.amount });\r\n\t\t\t\t\t} else if (item.type === 'SPENT') {\r\n                        this.setState({ allSpent: item.amount });\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\r\n\t\tgetTransactionSummary(start, end)\r\n\t\t\t.then((response) => {\r\n                // console.log(response)\r\n                const data = {totalPledge: 0, totalTopup: 0, totalSpent:0}\r\n\t\t\t\tresponse.map((item) => {\r\n\t\t\t\t\tconst value = item.amount.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\t\t\t\tif (item.type === 'PLEDGE') {\r\n                        this.setState({ totalPledge: value });\r\n                        data.totalPledge = item.amount\r\n\t\t\t\t\t} else if (item.type === 'TOPUP') {\r\n                        this.setState({ totalTopup: value });\r\n                        data.totalTopup = item.amount\r\n\t\t\t\t\t} else if (item.type === 'SPENT') {\r\n                        this.setState({ totalSpent: value });\r\n                        data.totalSpent = item.amount\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tgetTransactionSummary(startLast, endLast)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tconsole.log(response)\r\n\t\t\t\t\t\tconst { totalPledge, totalTopup, totalSpent } = data;\r\n\t\t\t\t\t\tif(response.length === 0){\r\n\t\t\t\t\t\t\tthis.setState({ percentTotalPledge: findPercent(100, 100) });\r\n\t\t\t\t\t\t\tthis.setState({ percentTotalTopup: findPercent(100, 100) });\r\n\t\t\t\t\t\t\tthis.setState({ percentTotalSpent: findPercent(100, 100) });\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tconst { allPledge, allTopup, allSpent } = this.state;\r\n\t\t\t\t\t\t\tresponse.map((item) => {\r\n\t\t\t\t\t\t\t\tif (item.type === 'PLEDGE') {\r\n\t\t\t\t\t\t\t\t\tthis.setState({ percentTotalPledge: findPercent((totalPledge - item.amount), allPledge) });\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.setState({ percentTotalPledge: findPercent((totalPledge - 0), allPledge) });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (item.type === 'TOPUP') {\r\n\t\t\t\t\t\t\t\t\tthis.setState({ percentTotalTopup: findPercent((totalTopup - item.amount), allTopup) });\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.setState({ percentTotalTopup: findPercent((totalTopup - 0), allTopup) });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (item.type === 'SPENT') {\r\n\t\t\t\t\t\t\t\t\tthis.setState({ percentTotalSpent: findPercent((totalSpent - item.amount), allSpent) });\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.setState({ percentTotalSpent: findPercent((totalSpent - 0), allSpent) });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tallIndividual,\r\n\t\t\tallBusiness,\r\n\t\t\tallOrganization,\r\n\t\t\tallPledge,\r\n\t\t\tallTopup,\r\n\t\t\tallSpent,\r\n\t\t\ttotalIndividual,\r\n\t\t\ttotalBusiness,\r\n\t\t\ttotalOrganization,\r\n\t\t\ttotalPledge,\r\n\t\t\ttotalTopup,\r\n\t\t\ttotalSpent,\r\n\t\t\tpercentTotalBusiness,\r\n\t\t\tpercentTotalIndividual,\r\n\t\t\tpercentTotalOrganization,\r\n\t\t\tpercentTotalPledge,\r\n\t\t\tpercentTotalSpent,\r\n\t\t\tpercentTotalTopup,\r\n\t\t} = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"row tile_count\">\r\n\t\t\t\t<StatsComponent\r\n\t\t\t\t\ticon=\"fa fa-user\"\r\n\t\t\t\t\ttitle=\"Total Individuals\"\r\n\t\t\t\t\tdata={totalIndividual}\r\n\t\t\t\t\tall={allIndividual}\r\n\t\t\t\t\tpercentage={percentTotalIndividual}\r\n\t\t\t\t/>\r\n\t\t\t\t<StatsComponent\r\n\t\t\t\t\ticon=\"fa fa-user\"\r\n\t\t\t\t\ttitle=\"Total Businesses\"\r\n\t\t\t\t\tdata={totalBusiness}\r\n\t\t\t\t\tall={allBusiness}\r\n\t\t\t\t\tpercentage={percentTotalBusiness}\r\n\t\t\t\t/>\r\n\t\t\t\t<StatsComponent\r\n\t\t\t\t\ticon=\"fa fa-user\"\r\n\t\t\t\t\ttitle=\"Total Organizations\"\r\n\t\t\t\t\tdata={totalOrganization}\r\n\t\t\t\t\tall={allOrganization}\r\n\t\t\t\t\tpercentage={percentTotalOrganization}\r\n\t\t\t\t/>\r\n\t\t\t\t<StatsComponent\r\n\t\t\t\t\ticon=\"fa fa-money\"\r\n\t\t\t\t\ttitle=\"Total Pledged\"\r\n\t\t\t\t\tdata={totalPledge}\r\n\t\t\t\t\tall={allPledge.toLocaleString(undefined, { minimumFractionDigits: 0 })}\r\n\t\t\t\t\tpercentage={percentTotalPledge}\r\n\t\t\t\t/>\r\n\t\t\t\t<StatsComponent\r\n\t\t\t\t\ticon=\"fa fa-money\"\r\n\t\t\t\t\ttitle=\"Total Topup\"\r\n\t\t\t\t\tdata={totalTopup}\r\n\t\t\t\t\tall={allTopup.toLocaleString(undefined, { minimumFractionDigits: 0 })}\r\n\t\t\t\t\tpercentage={percentTotalTopup}\r\n\t\t\t\t/>\r\n\t\t\t\t<StatsComponent\r\n\t\t\t\t\ticon=\"fa fa-money\"\r\n\t\t\t\t\ttitle=\"Total Spent\"\r\n\t\t\t\t\tdata={totalSpent}\r\n\t\t\t\t\tall={allSpent.toLocaleString(undefined, { minimumFractionDigits: 0 })}\r\n\t\t\t\t\tpercentage={percentTotalSpent}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport {\r\n\tMonthlyReports,\r\n\tPledgedPurchasedGradient,\r\n\tThisMonthDoughnuts,\r\n\tPledgesReceivedfromBusinesses,\r\n\tTopSupportingIndividuals,\r\n\tTopReceivingOrganizations,\r\n} from './dashboardComponents';\r\n\r\nimport StatsLists from './StatsLists'\r\nimport { Helmet } from 'react-helmet';\r\nimport { DatePicker } from 'antd';\r\nimport moment from 'moment';\r\nconst { RangePicker } = DatePicker;\r\nconst dateFormat = 'DD/MM/YYYY';\r\nconst date = new Date();\r\n\r\nclass Dashboard extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { date: null };\r\n\t}\r\n\r\n\tonChangeRange = (value, dateString) => {\r\n\t\tthis.setState({ date: value });\r\n\t};\r\n\r\n\tonOkRange = (value) => {\r\n\t\tconsole.log('onOk: ', value);\r\n\t};\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"right_col\" role=\"main\">\r\n\t\t\t\t<Helmet>\r\n\t\t\t\t\t<title>Organization</title>\r\n\t\t\t\t</Helmet>\r\n\t\t\t\t<StatsLists />\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-12 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t<div className=\"dashboard_graph\">\r\n\t\t\t\t\t\t\t<div className=\"row x_title\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t\t\t\t\tPlatform Activity <br />\r\n\t\t\t\t\t\t\t\t\t\t<small>Amount Pledged vs Amount Purchased</small>\r\n\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tid=\"reportrange\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"pull-right\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tbackground: '#fff',\r\n\t\t\t\t\t\t\t\t\t\t\tpadding: '5px 10px',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<RangePicker\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={[\r\n\t\t\t\t\t\t\t\t\t\t\t\tmoment(new Date(date.getFullYear(), date.getMonth(), 1), dateFormat),\r\n\t\t\t\t\t\t\t\t\t\t\t\tmoment(new Date(date.getFullYear(), date.getMonth() + 1, 0), dateFormat),\r\n\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\tformat={dateFormat}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeRange}\r\n\t\t\t\t\t\t\t\t\t\t\tonOk={this.onOkRange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-8 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t\t\t{/* <div id=\"chart_plot_01\" className=\"demo-placeholder\"></div> */}\r\n\t\t\t\t\t\t\t\t<PledgedPurchasedGradient date={this.state.date} user={this.props.userInfo} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12 bg-white \">\r\n\t\t\t\t\t\t\t\t<ThisMonthDoughnuts user={this.props.userInfo} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<br />\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t{/* Businesses top 5 amount pledged */}\r\n\t\t\t\t\t\t<PledgesReceivedfromBusinesses />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t{/* Organizations top 5 pledges received */}\r\n\t\t\t\t\t\t<TopSupportingIndividuals />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-md-4 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t{/* Individuals top 5 amount purchased */}\r\n\t\t\t\t\t\t<TopReceivingOrganizations />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<br />\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-12 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t\t<MonthlyReports />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Dashboard;\r\n","import React, { Component } from 'react'\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport StatsLists from './StatsLists';\r\n\r\nclass Settings extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"right_col\" role=\"main\">\r\n\t\t\t\t<StatsLists />\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-12 col-sm-12 \">\r\n\t\t\t\t\t\t<div className=\"dashboard_graph\">\r\n\t\t\t\t\t\t\t<div className=\"row x_title\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t<h3>Profile</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12\"></div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-12 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/edit-settings\" className=\"btn btn-primary\">\r\n\t\t\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t\t\t\t\t\t<form action=\"\" method=\"post\" novalidate>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"section\">Personal Info</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-form-label col-md-3 col-sm-3 text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tPersonal Name\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"required\">*</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-validate-length-range=\"6\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-validate-words=\"2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tindividual_name=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-form-label col-md-3 col-sm-3 text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tPersonal Email\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"required\">*</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"owner_email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-form-label col-md-3 col-sm-3 text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tBusiness Name&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"required\">*</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"business_name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-validate-length-range=\"5,15\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-form-label col-md-3 col-sm-3 text-right\">\r\n                                                    Business Email\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"required\">*</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-form-label col-md-3 col-sm-3 text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tAddress\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"required\">*</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea required=\"required\" name=\"business_address\"></textarea>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-form-label col-md-3 col-sm-3 text-right\">\r\n                                                    Percentage Charged (Applied to Contributions)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"required\">*</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"Business Summary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"business_summary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-validate-linked=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Settings","import React, { Component } from 'react'\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport StatsLists from './StatsLists';\r\n\r\nclass SettingsEdit extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"right_col\" role=\"main\">\r\n\t\t\t\t<StatsLists />\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-12 col-sm-12 \">\r\n\t\t\t\t\t\t<div className=\"dashboard_graph\">\r\n\t\t\t\t\t\t\t<div className=\"row x_title\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t<h3>Profile</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12\"></div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-12 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/settings\" className=\"btn btn-warning\">\r\n\t\t\t\t\t\t\t\t\t\t\tBack\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t\t\t\t\t\t<form action=\"\" method=\"post\" novalidate>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"section\">Personal Info</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-form-label col-md-3 col-sm-3 text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tPersonal Name\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"required\">*</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-validate-length-range=\"6\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-validate-words=\"2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tindividual_name=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-form-label col-md-3 col-sm-3 text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tPersonal Email\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"required\">*</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"owner_email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-form-label col-md-3 col-sm-3 text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tBusiness Name&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"required\">*</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"business_name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-validate-length-range=\"5,15\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-form-label col-md-3 col-sm-3 text-right\">\r\n                                                    Business Email\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"required\">*</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-form-label col-md-3 col-sm-3 text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tAddress\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"required\">*</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea required=\"required\" name=\"business_address\"></textarea>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row m-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"col-form-label col-md-3 col-sm-3 text-right\">\r\n                                                    Percentage Charged (Applied to Contributions)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"required\">*</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"Business Summary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"business_summary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-validate-linked=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired=\"required\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n                                            <div className=\"form-group text-right mt-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary \">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SettingsEdit","import React, { Component } from 'react'\r\n\r\nclass FinanceDetail extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-12 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t<div className=\"x_content table-responsive\">\r\n\t\t\t\t\t\t\t<table className=\"table\">\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>Date</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Transaction</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>From</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>To</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Token Amount</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Cash Amount</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{this.props.data}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FinanceDetail","import React, { Component } from 'react';\r\nimport { Tabs, Button, Icon, Modal, notification, Form, Input, Skeleton } from 'antd';\r\nimport FinanceDetail from './FinanceDetail';\r\nimport { recordWithdraw, getFinance, getServerCompatibility, getFiat } from '../../../util/APIUtils';\r\nimport { formatDate, monthArray } from '../../../util/Helper';\r\n\r\nconst { TabPane } = Tabs;\r\nconst FormItem = Form.Item;\r\n\r\nexport default class FinanceOrganization extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { id: this.props.id, dataFinance: [], visible: false };\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tconst { id } = this.state;\r\n\t\tconst date = new Date();\r\n\t\tconst start = formatDate(new Date(date.getFullYear(), 0, 1));\r\n\t\tconst end = formatDate(new Date(date.getFullYear(), 12, 0));\r\n\t\tgetFinance(start, end, id)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconst data = [];\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tlet tied = 0;\r\n\t\t\t\t\tif (item.tied !== null) {\r\n\t\t\t\t\t\ttied = item.tied.amount;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttied = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tdate: item.created_at,\r\n\t\t\t\t\t\ttransaction: item.type,\r\n\t\t\t\t\t\tfrom: item.from.username,\r\n\t\t\t\t\t\tto: item.to.username,\r\n\t\t\t\t\t\ttoken: item.amount,\r\n\t\t\t\t\t\tcash: tied,\r\n\t\t\t\t\t\tcreate: new Date(item.created_at).getMonth() + 1,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdataFinance: data,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t}\r\n\tshowModal = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: true,\r\n\t\t});\r\n\t};\r\n\r\n\thandleOk = (e) => {\r\n\t\tconsole.log(e);\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t});\r\n\t};\r\n\r\n\thandleCancel = (e) => {\r\n\t\tconsole.log(e);\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t});\r\n\t};\r\n\trenderTable = (m) => {\r\n\t\tlet totalToken = 0,\r\n\t\t\ttotalCash = 0;\r\n\t\tlet data = this.state.dataFinance;\r\n\t\tlet dataFilter = data.filter((data) => data.create === m);\r\n\t\tconst dataTable = dataFilter.map((item, key) => {\r\n\t\t\tconst { date, transaction, from, to, token, cash } = item; //destructuring\r\n\t\t\ttotalToken += token;\r\n\t\t\ttotalCash += cash;\r\n\t\t\treturn (\r\n\t\t\t\t<tr key={key}>\r\n\t\t\t\t\t<td>{date}</td>\r\n\t\t\t\t\t<td>{transaction}</td>\r\n\t\t\t\t\t<td>{from}</td>\r\n\t\t\t\t\t<td>{to}</td>\r\n\t\t\t\t\t<td>{token}</td>\r\n\t\t\t\t\t<td>{cash}</td>\r\n\t\t\t\t</tr>\r\n\t\t\t);\r\n\t\t});\r\n\t\tconst value = totalToken.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\tconst value1 = totalCash.toLocaleString(undefined, { minimumFractionDigits: 0 });\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{dataTable}\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td colSpan=\"4\">Totals:</td>\r\n\t\t\t\t\t<td>{value}</td>\r\n\t\t\t\t\t<td>{value1}</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\trenderTabPane() {\r\n\t\treturn monthArray.map((item, key) => {\r\n\t\t\treturn (\r\n\t\t\t\t<TabPane tab={item} key={key + 1}>\r\n\t\t\t\t\t<FinanceDetail data={this.renderTable(key + 1)} />\r\n\t\t\t\t</TabPane>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\trender() {\r\n\t\tconst { name } = this.props;\r\n\t\tconst { id } = this.state;\r\n\t\tconst AntWrappedLoginForm = Form.create()(WithdrawForm);\r\n\t\treturn (\r\n\t\t\t<div className=\"x_content\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t\t<h3>{name}</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-2 col-xs-12\">\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={this.showModal} block>\r\n\t\t\t\t\t\t\t<Icon type=\"wallet\" /> Withdraw\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle={'Withdraw on ' + name}\r\n\t\t\t\t\tvisible={this.state.visible}\r\n\t\t\t\t\tonCancel={this.handleCancel}\r\n\t\t\t\t\tfooter={[\r\n\t\t\t\t\t\t<Button key=\"back\" onClick={this.handleCancel}>\r\n\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t</Button>,\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<AntWrappedLoginForm currid={id} currname={name} handleOk={this.handleOk} />\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Tabs defaultActiveKey=\"1\">{this.renderTabPane()}</Tabs>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass WithdrawForm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\tthis.state = {\r\n\t\t\tcurrid: this.props.currid,\r\n\t\t\tcurrname: this.props.currname,\r\n\t\t\tfeePercent: null,\r\n\t\t\tfiat: null,\r\n\t\t\tloading: false,\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tgetServerCompatibility()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tfeePercent: response.feePercent,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\r\n\t\tgetFiat(this.state.currid)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tfiat: response.fiat,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t}\r\n\thandleSubmit(event) {\r\n\t\tevent.preventDefault();\r\n\t\tconst { currname } = this.state;\r\n\t\tthis.props.form.validateFields((err, values) => {\r\n\t\t\tif (!err) {\r\n\t\t\t\tthis.setState({ loading: true });\r\n\t\t\t\tconst pledgeRequest = Object.assign({}, values);\r\n\t\t\t\trecordWithdraw(pledgeRequest)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Platform-Coordinator',\r\n\t\t\t\t\t\t\tdescription: 'Congratulation, withdraw on ' + currname,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.props.handleOk();\r\n\t\t\t\t\t\tthis.setState({ loading: false });\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tif (error.statusCode === 400) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Platform-Coordinator',\r\n\t\t\t\t\t\t\t\tdescription: error.message,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Platform-Coordinator',\r\n\t\t\t\t\t\t\t\tdescription: 'Sorry! Something went wrong. Please try again!',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\trenderItem = () => {\r\n\t\tconst { currid, fiat, feePercent, loading } = this.state;\r\n\t\tif(fiat === null){\r\n\t\t\treturn <Skeleton active/>\r\n\t\t}else{\r\n\t\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\t\t\r\n\t\t\tconst fiatFee = fiat * feePercent;\r\n\t\t\tconst fiatAmount = fiat - fiatFee;\r\n\t\t\treturn (\r\n\t\t\t\t<Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n\t\t\t\t<FormItem>\r\n\t\t\t\t\t{getFieldDecorator('organization_id', {\r\n\t\t\t\t\t\trules: [{ required: false, message: 'Please input your amount to pledge this organization' }],\r\n\t\t\t\t\t\tinitialValue: currid,\r\n\t\t\t\t\t})(<Input type=\"hidden\" name=\"organization_id\" />)}\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"Fiat Balance\">\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\tprefix={<Icon type=\"wallet\" />}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tplaceholder=\"Fiat Balance\"\r\n\t\t\t\t\t\tvalue={fiat}\r\n\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"Fiat Amount\">\r\n\t\t\t\t\t{getFieldDecorator('fiatamount', {\r\n\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t{ required: true, message: 'Please input your fiat amount to withdraw this organization' },\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tinitialValue: fiatAmount,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tprefix={<Icon type=\"wallet\" />}\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tname=\"fiatamount\"\r\n\t\t\t\t\t\t\tplaceholder=\"Fiat Amount\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem label=\"Fiat Fee\">\r\n\t\t\t\t\t{getFieldDecorator('fiatfee', {\r\n\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t{ required: true, message: 'Please input your fiat fee to withdraw this organization' },\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tinitialValue: fiatFee,\r\n\t\t\t\t\t})(<Input prefix={<Icon type=\"wallet\" />} size=\"large\" name=\"fiatfee\" placeholder=\"Fiat Fee\" />)}\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tclassName=\"login-form-button\"\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tWithdraw\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</FormItem>\r\n\t\t\t</Form>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn this.renderItem();\r\n\t}\r\n}\r\n","import React, { Component } from 'react'\r\nimport FinanceOrganization from './FinanceOrganization'\r\nimport { getListPledges } from '../../../util/APIUtils';\r\n\r\nclass FinancesByOrganization extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = { data: { datas: [] } };\r\n    }\r\n    componentDidMount() {\r\n        const data = [];\r\n        getListPledges()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\tname: item.organization.organizationName +\" - \"+ new Date().getFullYear(),\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdatas: data,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n    }\r\n    renderOrg = () => {\r\n        // console.log(this.state.data)\r\n\t\tconst dataOrg = this.state.data.datas.map((item, key) => {\r\n\t\t\tconst { id, name } = item; //destructuring\r\n\t\t\treturn (\r\n\t\t\t\t<FinanceOrganization name={name} id={id} key={key}/>\r\n\t\t\t);\r\n\t\t});\r\n\t\treturn dataOrg;\r\n\t}\r\n    render() {\r\n        return this.renderOrg()\r\n    }\r\n}\r\n\r\nexport default FinancesByOrganization","import React, { Component } from 'react'\r\n\r\nimport StatsLists from './StatsLists';\r\nimport FinancesByOrganization from './financeComponents/FinancesByOrganization';\r\n// import FinancesAllTransactions from './financeComponents/FinancesAllTransactions';\r\n\r\nexport default class Finances extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"right_col\" role=\"main\">\r\n\t\t\t\t<StatsLists />\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-12 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t\t<h3>Finances - By Organization</h3>\r\n\t\t\t\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<FinancesByOrganization />\r\n                            {/* <FinancesAllTransactions /> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n\tMonthlyReports,\r\n} from './dashboardComponents';\r\nimport StatsLists from './StatsLists'\r\n\r\nexport default class Reports extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"right_col\" role=\"main\">\r\n\t\t\t\t<StatsLists />\r\n                <div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-12 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t\t\t\t<h3>Monthly Reports</h3>\r\n\t\t\t\t\t\t\t\t<ul className=\"nav navbar-right panel_toolbox\">\r\n\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t<Link className=\"collapse-link\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-chevron-up\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<MonthlyReports />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\n// import { Link } from 'react-router-dom';\r\nimport { getUnverifiedBusiness, getUnverifiedOrganization, verifyAccount } from '../../util/APIUtils';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { Table, Icon, Input, Button, Modal, notification } from 'antd';\r\n\r\nconst { confirm } = Modal;\r\n\r\nexport default class Confirmations extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tsearchText: '',\r\n\t\t\tsearchedColumn: '',\r\n\t\t\tdataOrg: [],\r\n\t\t\tdataBiz: [],\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tgetUnverifiedBusiness()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tlet dataConfirm = [];\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tif (item !== null){\r\n\t\t\t\t\t\t// if (item.confirmed === false) {\r\n\t\t\t\t\t\t\tlet data_cache = {\r\n\t\t\t\t\t\t\t\tid: key + 1,\r\n\t\t\t\t\t\t\t\tkey: item.id,\r\n\t\t\t\t\t\t\t\temail: item.email,\r\n\t\t\t\t\t\t\t\trole: item.role.type,\r\n\t\t\t\t\t\t\t\tconfirm: item.confirmed,\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tdataConfirm.push(data_cache);\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdataBiz: dataConfirm,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t\tgetUnverifiedOrganization()\r\n\t\t\t.then((response) => {\r\n\t\t\t\t// console.log(response)\r\n\t\t\t\tlet dataConfirm = [];\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tif(item !== null){\r\n\t\t\t\t\t\t// if (item.confirmed === false) {\r\n\t\t\t\t\t\t\tlet data_cache = {\r\n\t\t\t\t\t\t\t\tid: key + 1,\r\n\t\t\t\t\t\t\t\tkey: item.id,\r\n\t\t\t\t\t\t\t\temail: item.email,\r\n\t\t\t\t\t\t\t\trole: item.role.type,\r\n\t\t\t\t\t\t\t\tconfirm: item.confirmed,\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tdataConfirm.push(data_cache);\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdataOrg: dataConfirm,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tcomponentWillUpdate() {\r\n\t\tgetUnverifiedBusiness()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tlet dataConfirm = [];\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\t// if (item.confirmed === false) {\r\n\t\t\t\t\t\tlet data_cache = {\r\n\t\t\t\t\t\t\tid: key + 1,\r\n\t\t\t\t\t\t\tkey: item.id,\r\n\t\t\t\t\t\t\temail: item.email,\r\n\t\t\t\t\t\t\trole: item.role.type,\r\n\t\t\t\t\t\t\tconfirm: item.confirmed,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tdataConfirm.push(data_cache);\r\n\t\t\t\t\t// }\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdataBiz: dataConfirm,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t\tgetUnverifiedOrganization()\r\n\t\t\t.then((response) => {\r\n\t\t\t\t// console.log(response)\r\n\t\t\t\tlet dataConfirm = [];\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\t// if (item.confirmed === false) {\r\n\t\t\t\t\t\tlet data_cache = {\r\n\t\t\t\t\t\t\tid: key + 1,\r\n\t\t\t\t\t\t\tkey: item.id,\r\n\t\t\t\t\t\t\temail: item.email,\r\n\t\t\t\t\t\t\trole: item.role.type,\r\n\t\t\t\t\t\t\tconfirm: item.confirmed,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tdataConfirm.push(data_cache);\r\n\t\t\t\t\t// }\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdataOrg: dataConfirm,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tgetColumnSearchProps = (dataIndex) => ({\r\n\t\tfilterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n\t\t\t<div style={{ padding: 8 }}>\r\n\t\t\t\t<Input\r\n\t\t\t\t\tref={(node) => {\r\n\t\t\t\t\t\tthis.searchInput = node;\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tplaceholder={`Search ${dataIndex}`}\r\n\t\t\t\t\tvalue={selectedKeys[0]}\r\n\t\t\t\t\tonChange={(e) => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n\t\t\t\t\tonPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n\t\t\t\t\tstyle={{ width: 188, marginBottom: 8, display: 'block' }}\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tonClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n\t\t\t\t\ticon=\"search\"\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tstyle={{ width: 90, marginRight: 8 }}\r\n\t\t\t\t>\r\n\t\t\t\t\tSearch\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n\t\t\t\t\tReset\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t),\r\n\t\tfilterIcon: (filtered) => <Icon type=\"search\" style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n\t\tonFilter: (value, record) => record[dataIndex].toString().toLowerCase().includes(value.toLowerCase()),\r\n\t\tonFilterDropdownVisibleChange: (visible) => {\r\n\t\t\tif (visible) {\r\n\t\t\t\tsetTimeout(() => this.searchInput.select());\r\n\t\t\t}\r\n\t\t},\r\n\t\trender: (text) =>\r\n\t\t\tthis.state.searchedColumn === dataIndex ? (\r\n\t\t\t\t<Highlighter\r\n\t\t\t\t\thighlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n\t\t\t\t\tsearchWords={[this.state.searchText]}\r\n\t\t\t\t\tautoEscape\r\n\t\t\t\t\ttextToHighlight={text.toString()}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\ttext\r\n\t\t\t),\r\n\t});\r\n\r\n\thandleSearch = (selectedKeys, confirm, dataIndex) => {\r\n\t\tconfirm();\r\n\t\tthis.setState({\r\n\t\t\tsearchText: selectedKeys[0],\r\n\t\t\tsearchedColumn: dataIndex,\r\n\t\t});\r\n\t};\r\n\r\n\thandleReset = (clearFilters) => {\r\n\t\tclearFilters();\r\n\t\tthis.setState({ searchText: '' });\r\n\t};\r\n\r\n\tconfirmOrg = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Do you want to confirm these organization?',\r\n\t\t\tcontent: 'When clicked the OK button, this dialog will be closed after 1 second',\r\n\t\t\tonOk() {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tconst verifyRequest = { organization_id: id };\r\n\t\t\t\t\tconsole.log(verifyRequest)\r\n\t\t\t\t\tverifyAccount(verifyRequest)\r\n\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Platform-Coordinator',\r\n\t\t\t\t\t\t\t\tdescription: 'Organization successfully confirmed',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Platform-Coordinator',\r\n\t\t\t\t\t\t\t\tdescription: 'Organization successfully confirmed',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t// console.log(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(Math.random() > 0.5 ? resolve : reject, 1000);\r\n\t\t\t\t}).catch(() => console.log());\r\n\t\t\t},\r\n\t\t\tonCancel() {},\r\n\t\t});\r\n\t};\r\n\r\n\tconfirmBiz = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Do you want to confirm these business?',\r\n\t\t\tcontent: 'When clicked the OK button, this dialog will be closed after 1 second',\r\n\t\t\tonOk() {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tconst verifyRequest = { business_id: id };\r\n\t\t\t\t\tconsole.log(verifyRequest)\r\n\t\t\t\t\tverifyAccount(verifyRequest)\r\n\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Platform-Coordinator',\r\n\t\t\t\t\t\t\t\tdescription: 'Business successfully confirmed',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Platform-Coordinator',\r\n\t\t\t\t\t\t\t\tdescription: 'Business successfully confirmed',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t// console.log(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(Math.random() > 0.5 ? resolve : reject, 1000);\r\n\t\t\t\t}).catch(() => console.log());\r\n\t\t\t},\r\n\t\t\tonCancel() {},\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst columnsOrg = [\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ID',\r\n\t\t\t\tdataIndex: 'key',\r\n\t\t\t\tkey: 'key',\r\n\t\t\t\twidth: '100',\r\n\t\t\t\tfixed: 'left',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Email',\r\n\t\t\t\tdataIndex: 'email',\r\n\t\t\t\tkey: 'email',\r\n\t\t\t\twidth: '30%',\r\n\t\t\t\t...this.getColumnSearchProps('email'),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Role',\r\n\t\t\t\tdataIndex: 'role',\r\n\t\t\t\tkey: 'role',\r\n\t\t\t\twidth: '30%',\r\n\t\t\t\t...this.getColumnSearchProps('role'),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Action',\r\n\t\t\t\tdataIndex: 'action',\r\n\t\t\t\tkey: 'action',\r\n\t\t\t\trender: (text, record) => (\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<Button onClick={() => this.confirmOrg(record.key)}>Confirm</Button>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t];\r\n\t\tconst columnsBiz = [\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ID',\r\n\t\t\t\tdataIndex: 'key',\r\n\t\t\t\tkey: 'key',\r\n\t\t\t\twidth: '100',\r\n\t\t\t\tfixed: 'left',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Email',\r\n\t\t\t\tdataIndex: 'email',\r\n\t\t\t\tkey: 'email',\r\n\t\t\t\twidth: '30%',\r\n\t\t\t\t...this.getColumnSearchProps('email'),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Role',\r\n\t\t\t\tdataIndex: 'role',\r\n\t\t\t\tkey: 'role',\r\n\t\t\t\twidth: '30%',\r\n\t\t\t\t...this.getColumnSearchProps('role'),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Action',\r\n\t\t\t\tdataIndex: 'action',\r\n\t\t\t\tkey: 'action',\r\n\t\t\t\trender: (text, record) => (\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<Button onClick={() => this.confirmBiz(record.key)}>Confirm</Button>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t];\r\n\t\tconst { dataOrg, dataBiz } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"right_col\" role=\"main\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"page-title\">\r\n\t\t\t\t\t\t<div className=\"title_left\">\r\n\t\t\t\t\t\t\t<h4>Email Confirmation</h4>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t<h4>Organization Confirmation</h4>\r\n\t\t\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t\t\t<Table columns={columnsOrg} dataSource={dataOrg} scroll={{ x: 500 }} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<h4>Business Confirmation</h4>\r\n\t\t\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t\t\t<Table columns={columnsBiz} dataSource={dataBiz} scroll={{ x: 500 }} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\n// import { Link } from 'react-router-dom';\r\nimport {\r\n\tgetAllBusinesses,\r\n\tgetAllOrganizations,\r\n\tunblockAccount,\r\n\tblockAccount,\r\n\tunverifyAccount,\r\n\tverifyAccount\r\n} from '../../util/APIUtils';\r\nimport Highlighter from 'react-highlight-words';\r\nimport { Table, Icon, Input, Button, Modal, notification, Tag} from 'antd';\r\n\r\nconst { confirm } = Modal;\r\n\r\nexport default class Users extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tsearchText: '',\r\n\t\t\tsearchedColumn: '',\r\n\t\t\tdataOrg: [],\r\n\t\t\tdataBiz: [],\r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tgetAllBusinesses()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tlet dataConfirm = [];\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tif (item !== null) {\r\n\t\t\t\t\t\tlet data_cache = {\r\n\t\t\t\t\t\t\tid: key + 1,\r\n\t\t\t\t\t\t\tkey: item.id,\r\n\t\t\t\t\t\t\temail: item.email,\r\n\t\t\t\t\t\t\trole: item.role.type,\r\n\t\t\t\t\t\t\tblocked: item.blocked,\r\n\t\t\t\t\t\t\tconfirm: item.confirmed,\r\n\t\t\t\t\t\t\tverified: item.business.verified,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tdataConfirm.push(data_cache);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdataBiz: dataConfirm,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t\tgetAllOrganizations()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconsole.log(response)\r\n\t\t\t\tlet dataConfirm = [];\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tif (item !== null) {\r\n\t\t\t\t\t\tlet data_cache = {\r\n\t\t\t\t\t\t\tid: key + 1,\r\n\t\t\t\t\t\t\tkey: item.id,\r\n\t\t\t\t\t\t\temail: item.email,\r\n\t\t\t\t\t\t\trole: item.role.type,\r\n\t\t\t\t\t\t\tblocked: item.blocked,\r\n\t\t\t\t\t\t\tconfirm: item.confirmed,\r\n\t\t\t\t\t\t\tverified: item.organization.verified,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tdataConfirm.push(data_cache);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdataOrg: dataConfirm,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n    \r\n\tgetColumnSearchProps = (dataIndex) => ({\r\n\t\tfilterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n\t\t\t<div style={{ padding: 8 }}>\r\n\t\t\t\t<Input\r\n\t\t\t\t\tref={(node) => {\r\n\t\t\t\t\t\tthis.searchInput = node;\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tplaceholder={`Search ${dataIndex}`}\r\n\t\t\t\t\tvalue={selectedKeys[0]}\r\n\t\t\t\t\tonChange={(e) => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n\t\t\t\t\tonPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n\t\t\t\t\tstyle={{ width: 188, marginBottom: 8, display: 'block' }}\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tonClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n\t\t\t\t\ticon=\"search\"\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tstyle={{ width: 90, marginRight: 8 }}\r\n\t\t\t\t>\r\n\t\t\t\t\tSearch\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n\t\t\t\t\tReset\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t),\r\n\t\tfilterIcon: (filtered) => <Icon type=\"search\" style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n\t\tonFilter: (value, record) => record[dataIndex].toString().toLowerCase().includes(value.toLowerCase()),\r\n\t\tonFilterDropdownVisibleChange: (visible) => {\r\n\t\t\tif (visible) {\r\n\t\t\t\tsetTimeout(() => this.searchInput.select());\r\n\t\t\t}\r\n\t\t},\r\n\t\trender: (text) =>\r\n\t\t\tthis.state.searchedColumn === dataIndex ? (\r\n\t\t\t\t<Highlighter\r\n\t\t\t\t\thighlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n\t\t\t\t\tsearchWords={[this.state.searchText]}\r\n\t\t\t\t\tautoEscape\r\n\t\t\t\t\ttextToHighlight={text.toString()}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\ttext\r\n\t\t\t),\r\n\t});\r\n\r\n\thandleSearch = (selectedKeys, confirm, dataIndex) => {\r\n\t\tconfirm();\r\n\t\tthis.setState({\r\n\t\t\tsearchText: selectedKeys[0],\r\n\t\t\tsearchedColumn: dataIndex,\r\n\t\t});\r\n\t};\r\n\r\n\thandleReset = (clearFilters) => {\r\n\t\tclearFilters();\r\n\t\tthis.setState({ searchText: '' });\r\n\t};\r\n\r\n\tconfirmOrg = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Do you want to confirm these organization?',\r\n\t\t\tcontent: 'When clicked the OK button, this dialog will be closed after 1 second',\r\n\t\t\tonOk() {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tconst verifyRequest = { organization_id: id };\r\n\t\t\t\t\tconsole.log(verifyRequest)\r\n\t\t\t\t\tverifyAccount(verifyRequest)\r\n\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Platform-Coordinator',\r\n\t\t\t\t\t\t\t\tdescription: 'Organization successfully confirmed',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Platform-Coordinator',\r\n\t\t\t\t\t\t\t\tdescription: 'Organization successfully confirmed',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t// console.log(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(Math.random() > 0.5 ? resolve : reject, 1000);\r\n\t\t\t\t}).catch(() => console.log());\r\n\t\t\t},\r\n\t\t\tonCancel() {},\r\n\t\t});\r\n\t};\r\n\r\n\tconfirmBiz = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Do you want to confirm these business?',\r\n\t\t\tcontent: 'When clicked the OK button, this dialog will be closed after 1 second',\r\n\t\t\tonOk() {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tconst verifyRequest = { business_id: id };\r\n\t\t\t\t\tconsole.log(verifyRequest)\r\n\t\t\t\t\tverifyAccount(verifyRequest)\r\n\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Platform-Coordinator',\r\n\t\t\t\t\t\t\t\tdescription: 'Business successfully confirmed',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Platform-Coordinator',\r\n\t\t\t\t\t\t\t\tdescription: 'Business successfully confirmed',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t// console.log(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(Math.random() > 0.5 ? resolve : reject, 1000);\r\n\t\t\t\t}).catch(() => console.log());\r\n\t\t\t},\r\n\t\t\tonCancel() {},\r\n\t\t});\r\n\t};\r\n\r\n\tunverifyBiz = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Do you want to unverify these account?',\r\n\t\t\tcontent: 'When clicked the OK button, this dialog will be closed after 1 second',\r\n\t\t\tonOk() {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tconst verifyRequest = { business_id: id };\r\n\t\t\t\t\tconsole.log(verifyRequest);\r\n\t\t\t\t\tunverifyAccount(verifyRequest)\r\n\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Platform-Coordinator',\r\n\t\t\t\t\t\t\t\tdescription: 'Account successfully unverify',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Platform-Coordinator',\r\n\t\t\t\t\t\t\t\tdescription: 'Account successfully unverify',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t// console.log(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(Math.random() > 0.5 ? resolve : reject, 1000);\r\n\t\t\t\t}).catch(() => console.log());\r\n\t\t\t},\r\n\t\t\tonCancel() {},\r\n\t\t});\r\n\t};\r\n\r\n\tunverifyOrg = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Do you want to unverify these account?',\r\n\t\t\tcontent: 'When clicked the OK button, this dialog will be closed after 1 second',\r\n\t\t\tonOk() {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tconst verifyRequest = { organization_id: id };\r\n\t\t\t\t\tconsole.log(verifyRequest);\r\n\t\t\t\t\tunverifyAccount(verifyRequest)\r\n\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Platform-Coordinator',\r\n\t\t\t\t\t\t\t\tdescription: 'Account successfully unverify',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Platform-Coordinator',\r\n\t\t\t\t\t\t\t\tdescription: 'Account successfully unverify',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t// console.log(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(Math.random() > 0.5 ? resolve : reject, 1000);\r\n\t\t\t\t}).catch(() => console.log());\r\n\t\t\t},\r\n\t\t\tonCancel() {},\r\n\t\t});\r\n\t};\r\n\r\n\tunblockUser = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Do you want to unblock these account?',\r\n\t\t\tcontent: 'When clicked the OK button, this dialog will be closed after 1 second',\r\n\t\t\tonOk() {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tconst verifyRequest = { user_id: id };\r\n\t\t\t\t\tconsole.log(verifyRequest);\r\n\t\t\t\t\tunblockAccount(verifyRequest)\r\n\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Platform-Coordinator',\r\n\t\t\t\t\t\t\t\tdescription: 'Account successfully unblock',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Platform-Coordinator',\r\n\t\t\t\t\t\t\t\tdescription: 'Account successfully unblock',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t// console.log(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(Math.random() > 0.5 ? resolve : reject, 1000);\r\n\t\t\t\t}).catch(() => console.log());\r\n\t\t\t},\r\n\t\t\tonCancel() {},\r\n\t\t});\r\n\t};\r\n\r\n\tblockUser = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Do you want to block these account?',\r\n\t\t\tcontent: 'When clicked the OK button, this dialog will be closed after 1 second',\r\n\t\t\tonOk() {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tconst verifyRequest = { user_id: id };\r\n\t\t\t\t\tconsole.log(verifyRequest);\r\n\t\t\t\t\tblockAccount(verifyRequest)\r\n\t\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Platform-Coordinator',\r\n\t\t\t\t\t\t\t\tdescription: 'Account successfully blocked',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Platform-Coordinator',\r\n\t\t\t\t\t\t\t\tdescription: 'Account successfully blocked',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t// console.log(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(Math.random() > 0.5 ? resolve : reject, 1000);\r\n\t\t\t\t}).catch(() => console.log());\r\n\t\t\t},\r\n\t\t\tonCancel() {},\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst columnsOrg = [\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ID',\r\n\t\t\t\tdataIndex: 'key',\r\n\t\t\t\tkey: 'key',\r\n\t\t\t\tfixed: 'left',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Email',\r\n\t\t\t\tdataIndex: 'email',\r\n\t\t\t\tkey: 'email',\r\n\t\t\t\twidth: '30%',\r\n\t\t\t\t...this.getColumnSearchProps('email'),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Blocked',\r\n\t\t\t\tdataIndex: 'blocked',\r\n\t\t\t\tkey: 'blocked',\r\n\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\tif(record.blocked){\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t<Tag color=\"red\">Yes</Tag>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t<Tag color=\"green\">No</Tag>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Confirmed',\r\n\t\t\t\tdataIndex: 'confirm',\r\n\t\t\t\tkey: 'confirm',\r\n\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\tif(record.confirm){\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t<Tag color=\"green\">Yes</Tag>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t<Tag color=\"red\">No</Tag>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Verified',\r\n\t\t\t\tdataIndex: 'verified',\r\n\t\t\t\tkey: 'verified',\r\n\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\tif(record.verified){\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t<Tag color=\"green\">Yes</Tag>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t<Tag color=\"red\">No</Tag>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Action',\r\n\t\t\t\tdataIndex: 'action',\r\n\t\t\t\tkey: 'action',\r\n\t\t\t\twidth: '30%',\r\n\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\tconst confirmation = () => {\r\n\t\t\t\t\t\tif(record.verified){\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Button className=\"ml-2\" onClick={() => this.unverifyOrg(record.key)}>\r\n\t\t\t\t\t\t\t\t\tUnverify\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Button className=\"ml-2\" type=\"primary\" onClick={() => this.confirmOrg(record.key)}>Verify</Button>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst blockeds = () => {\r\n\t\t\t\t\t\tif(record.blocked){\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Button className=\"ml-2\" onClick={() => this.unblockUser(record.key)}>\r\n\t\t\t\t\t\t\t\t\tUnblock\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Button className=\"ml-2\" type=\"danger\" onClick={() => this.blockUser(record.key)}>\r\n\t\t\t\t\t\t\t\t\tBlock\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} \r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{confirmation()}\r\n\t\t\t\t\t\t\t{blockeds()}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t];\r\n\t\tconst columnsBiz = [\r\n\t\t\t{\r\n\t\t\t\ttitle: 'ID',\r\n\t\t\t\tdataIndex: 'key',\r\n\t\t\t\tkey: 'key',\r\n\t\t\t\tfixed: 'left',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Email',\r\n\t\t\t\tdataIndex: 'email',\r\n\t\t\t\tkey: 'email',\r\n\t\t\t\twidth: '30%',\r\n\t\t\t\t...this.getColumnSearchProps('email'),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Blocked',\r\n\t\t\t\tdataIndex: 'blocked',\r\n\t\t\t\tkey: 'blocked',\r\n\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\tif(record.blocked){\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t<Tag color=\"red\">Yes</Tag>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t<Tag color=\"green\">No</Tag>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Confirmed',\r\n\t\t\t\tdataIndex: 'confirm',\r\n\t\t\t\tkey: 'confirm',\r\n\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\tif(record.confirm){\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t<Tag color=\"green\">Yes</Tag>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t<Tag color=\"red\">No</Tag>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Verified',\r\n\t\t\t\tdataIndex: 'verified',\r\n\t\t\t\tkey: 'verified',\r\n\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\tif(record.verified){\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t<Tag color=\"green\">Yes</Tag>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t<Tag color=\"red\">No</Tag>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Action',\r\n\t\t\t\tdataIndex: 'action',\r\n\t\t\t\tkey: 'action',\r\n\t\t\t\twidth: '30%',\r\n\t\t\t\trender: (text, record) => {\r\n\t\t\t\t\tconst confirmation = () => {\r\n\t\t\t\t\t\tif(record.verified){\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Button className=\"ml-2\" onClick={() => this.unverifyBiz(record.key)}>\r\n\t\t\t\t\t\t\t\t\tUnverify\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Button className=\"ml-2\" type=\"primary\" onClick={() => this.confirmBiz(record.key)}>Verify</Button>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst blockeds = () => {\r\n\t\t\t\t\t\tif(record.blocked){\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Button className=\"ml-2\" onClick={() => this.unblockUser(record.key)}>\r\n\t\t\t\t\t\t\t\t\tUnblock\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Button className=\"ml-2\" type=\"danger\" onClick={() => this.blockUser(record.key)}>\r\n\t\t\t\t\t\t\t\t\tBlock\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} \r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{confirmation()}\r\n\t\t\t\t\t\t\t{blockeds()}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t];\r\n\t\tconst { dataOrg, dataBiz } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"right_col\" role=\"main\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"page-title\">\r\n\t\t\t\t\t\t<div className=\"title_left\">\r\n\t\t\t\t\t\t\t<h4>Users List</h4>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t<h4>Organization List</h4>\r\n\t\t\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t\t\t<Table columns={columnsOrg} dataSource={dataOrg} scroll={{ x: 500 }} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<h4>Business List</h4>\r\n\t\t\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t\t\t<Table columns={columnsBiz} dataSource={dataBiz} scroll={{ x: 500 }} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Slider, Form, Input, Icon, Tooltip, Upload } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport { getCurrentUser } from '../../util/APIUtils';\r\n\r\nimport StatsLists from './StatsLists';\r\nimport { Helmet } from 'react-helmet';\r\n// const { TextArea } = Input;\r\n\r\nexport default class Profile extends Component {\r\n\trender() {\r\n\t\tconst AntWrappedProfileForm = Form.create()(ProfileForm);\r\n\t\treturn (\r\n\t\t\t<div className=\"right_col\" role=\"main\">\r\n\t\t\t\t<Helmet>\r\n\t\t\t\t\t<title>Business</title>\r\n\t\t\t\t</Helmet>\r\n\t\t\t\t<StatsLists />\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-12 col-sm-12 \">\r\n\t\t\t\t\t\t<div className=\"dashboard_graph\">\r\n\t\t\t\t\t\t\t<div className=\"row x_title\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t<h3>Profile</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12\"></div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-12 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/edit-profile\" className=\"btn btn-primary\">\r\n\t\t\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t\t\t\t\t\t<AntWrappedProfileForm />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass ProfileForm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tinputValue: 0,\r\n\t\t\tusername: '',\r\n\t\t\temail: '',\r\n\t\t\tname: '',\r\n\t\t\tbizName: '',\r\n\t\t\tdescription: '',\r\n\t\t\taddress: '',\r\n\t\t\tphone: '',\r\n\t\t\tsummary: '',\r\n\t\t\tloading: false,\r\n\t\t\tavatar: '',\r\n\t\t\twebsite: '',\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tgetCurrentUser()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconsole.log(response)\r\n\t\t\t\tlet image = '';\r\n\t\t\t\tif (response.business.avatar === null) {\r\n\t\t\t\t\timage = '';\r\n\t\t\t\t} else {\r\n\t\t\t\t\timage = response.business.avatar.url;\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tinputValue: response.business.tokenPercent,\r\n\t\t\t\t\tusername: response.username,\r\n\t\t\t\t\temail: response.email,\r\n\t\t\t\t\tname: response.business.name,\r\n\t\t\t\t\tbizName: response.business.businessName,\r\n\t\t\t\t\tdescription: response.business.description,\r\n\t\t\t\t\taddress: response.business.address,\r\n\t\t\t\t\tphone: response.business.phone,\r\n\t\t\t\t\tsummary: response.business.summary,\r\n\t\t\t\t\tavatar: image,\r\n\t\t\t\t\twebsite: response.business.website,\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\t}\r\n\r\n\tonChange = (value) => {\r\n\t\tthis.setState({\r\n\t\t\tinputValue: value,\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\t// const { inputValue, username, email, name, bizName, description, address, phone, summary, website } = this.state;\r\n\t\tconst { inputValue, username, email, bizName, description, address, phone, website } = this.state;\r\n\t\t\r\n\t\tfunction formatter(value) {\r\n\t\t\treturn `${value}%`;\r\n\t\t}\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: { span: 16 },\r\n\t\t\t\tsm: { span: 8 },\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: { span: 16 },\r\n\t\t\t\tsm: { span: 8 } /*  */,\r\n\t\t\t},\r\n\t\t};\r\n\t\t//   const tailFormItemLayout = {\r\n\t\t// \twrapperCol: {\r\n\t\t// \t  xs: {\r\n\t\t// \t\tspan: 16,\r\n\t\t// \t\toffset: 0,\r\n\t\t// \t  },\r\n\t\t// \t  sm: {\r\n\t\t// \t\tspan: 16,\r\n\t\t// \t\toffset: 8,\r\n\t\t// \t  },\r\n\t\t// \t},\r\n\t\t//   };\r\n\t\tconst uploadButton = (\r\n\t\t\t<div>\r\n\t\t\t\t<Icon type={this.state.loading ? 'loading' : 'plus'} />\r\n\t\t\t\t<div className=\"ant-upload-text\">Upload</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t\tconst { avatar } = this.state;\r\n\t\treturn (\r\n\t\t\t<Form {...formItemLayout}>\r\n\t\t\t<Form.Item label=\"Avatar\">\r\n\t\t\t\t\t{getFieldDecorator('files.avatar', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your avatar!' }],\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Upload\r\n\t\t\t\t\t\t\tname=\"avatar\"\r\n\t\t\t\t\t\t\tlistType=\"picture-card\"\r\n\t\t\t\t\t\t\tclassName=\"avatar-uploader\"\r\n\t\t\t\t\t\t\tshowUploadList={false}\r\n\t\t\t\t\t\t\taction=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{avatar ? <img src={avatar} alt=\"avatar\" style={{ width: '100%' }} /> : uploadButton}\r\n\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Username\">\r\n\t\t\t\t\t{getFieldDecorator('username', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your username!' }],\r\n\t\t\t\t\t\tinitialValue: username\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"E-mail\">\r\n\t\t\t\t\t{getFieldDecorator('email', {\r\n\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: 'email',\r\n\t\t\t\t\t\t\t\tmessage: 'The input is not valid E-mail!',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: 'Please input your E-mail!',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tinitialValue: email\r\n\t\t\t\t\t})(<Input disabled  />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t{/* <Form.Item\r\n\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\tName&nbsp;\r\n\t\t\t\t\t\t\t<Tooltip title=\"What do you want others to call you?\">\r\n\t\t\t\t\t\t\t\t<Icon type=\"question-circle-o\" />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{getFieldDecorator('name', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your name!', whitespace: true }],\r\n\t\t\t\t\t\tinitialValue: name\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item> */}\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\tBusiness Name&nbsp;\r\n\t\t\t\t\t\t\t<Tooltip title=\"What do you want others to call your business?\">\r\n\t\t\t\t\t\t\t\t<Icon type=\"question-circle-o\" />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{getFieldDecorator('businessName', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your business name!', whitespace: true }],\r\n\t\t\t\t\t\tinitialValue: bizName\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Description\">\r\n\t\t\t\t\t{getFieldDecorator('description', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your description!' }],\r\n\t\t\t\t\t\tinitialValue: description\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Website\">\r\n\t\t\t\t\t{getFieldDecorator('website', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your website!' }],\r\n\t\t\t\t\t\tinitialValue: website,\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Address\">\r\n\t\t\t\t\t{getFieldDecorator('address', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your address!' }],\r\n\t\t\t\t\t\tinitialValue: address\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Phone Number\">\r\n\t\t\t\t\t{getFieldDecorator('phone', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your phone number!' }],\r\n\t\t\t\t\t\tinitialValue: phone\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Token % Accepted\">\r\n\t\t\t\t\t{getFieldDecorator('tokenPercent', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please choose your token!' }],\r\n\t\t\t\t\t\tinitialValue: inputValue\r\n\t\t\t\t\t})(<Slider tipFormatter={formatter} disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t{/* <Form.Item label=\"Summary\">\r\n\t\t\t\t\t{getFieldDecorator('summary', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your summary!' }],\r\n\t\t\t\t\t\tinitialValue: summary\r\n\t\t\t\t\t})(<TextArea\r\n\t\t\t\t\t\t\tplaceholder=\"Autosize height with minimum and maximum number of lines\"\r\n\t\t\t\t\t\t\tautoSize={{ minRows: 2, maxRows: 6 }}\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t/>)}\r\n\t\t\t\t</Form.Item> */}\r\n\t\t\t</Form>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Slider, Form, Input, Icon, Button, notification, Tooltip, Upload, message } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport { getCurrentUser, updateBiz, updateAvatar } from '../../util/APIUtils';\r\nimport { Helmet } from 'react-helmet';\r\nimport StatsLists from './StatsLists';\r\n\r\n// const { TextArea } = Input;\r\n\r\nfunction getBase64(img, callback) {\r\n\tconst reader = new FileReader();\r\n\treader.addEventListener('load', () => callback(reader.result));\r\n\treader.readAsDataURL(img);\r\n}\r\n\r\nfunction beforeUpload(file) {\r\n\tconst isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n\tif (!isJpgOrPng) {\r\n\t\tmessage.error('You can only upload JPG/PNG file!');\r\n\t}\r\n\tconst isLt2M = file.size / 1024 / 1024 < 2;\r\n\tif (!isLt2M) {\r\n\t\tmessage.error('Image must smaller than 2MB!');\r\n\t}\r\n\treturn isJpgOrPng && isLt2M;\r\n}\r\n\r\nexport default class ProfileEdit extends Component {\r\n\trender() {\r\n\t\tconst AntWrappedProfileForm = Form.create()(ProfileForm);\r\n\t\treturn (\r\n\t\t\t<div className=\"right_col\" role=\"main\">\r\n\t\t\t\t<Helmet>\r\n\t\t\t\t\t<title>Platform Business</title>\r\n\t\t\t\t</Helmet>\r\n\t\t\t\t<StatsLists />\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-12 col-sm-12 \">\r\n\t\t\t\t\t\t<div className=\"dashboard_graph\">\r\n\t\t\t\t\t\t\t<div className=\"row x_title\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t<h3>Profile</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12\"></div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-12 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/profile\" className=\"btn btn-warning\">\r\n\t\t\t\t\t\t\t\t\t\t\tBack\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t\t\t\t\t\t<AntWrappedProfileForm />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass ProfileForm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tinputValue: 0,\r\n\t\t\tusername: '',\r\n\t\t\temail: '',\r\n\t\t\tname: '',\r\n\t\t\tbizName: '',\r\n\t\t\tdescription: '',\r\n\t\t\taddress: '',\r\n\t\t\tphone: '',\r\n\t\t\tsummary: '',\r\n\t\t\tloading: false,\r\n\t\t\trefId: 0,\r\n\t\t\tavatar: '',\r\n\t\t\tupload: null,\r\n\t\t\tfileList: [],\r\n\t\t\twebsite: '',\r\n\t\t};\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t}\r\n\r\n\thandleUpload = ({ fileList }) => {\r\n\t\tthis.setState({ fileList });\r\n\t\tgetBase64(fileList[0].originFileObj, (imageUrl) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tavatar: imageUrl,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tupload: 'iya',\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tgetCurrentUser()\r\n\t\t\t.then((response) => {\r\n\t\t\t\t// console.log(response)\r\n\t\t\t\tlet image = '';\r\n\t\t\t\tif (response.business.avatar === null) {\r\n\t\t\t\t\timage = '';\r\n\t\t\t\t} else {\r\n\t\t\t\t\timage = response.business.avatar.url;\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tinputValue: response.business.tokenPercent,\r\n\t\t\t\t\tusername: response.username,\r\n\t\t\t\t\temail: response.email,\r\n\t\t\t\t\tname: response.business.name,\r\n\t\t\t\t\tbizName: response.business.businessName,\r\n\t\t\t\t\tdescription: response.business.description,\r\n\t\t\t\t\taddress: response.business.address,\r\n\t\t\t\t\tphone: response.business.phone,\r\n\t\t\t\t\tsummary: response.business.summary,\r\n\t\t\t\t\tavatar: image,\r\n\t\t\t\t\trefId: response.business.id,\r\n\t\t\t\t\twebsite: response.business.website\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\thandleSubmit(event) {\r\n\t\tevent.preventDefault();\r\n\t\tthis.props.form.validateFields((err, values) => {\r\n\t\t\tif (!err) {\r\n\t\t\t\t// do update\r\n\t\t\t\tconst updateRequest = Object.assign({}, values);\r\n\t\t\t\tthis.setState({loading: true})\r\n\t\t\t\tupdateBiz(updateRequest)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tconst { upload, fileList, refId } = this.state;\r\n\t\t\t\t\t\tif (upload) {\r\n\t\t\t\t\t\t\tlet formData = new FormData();\r\n\t\t\t\t\t\t\tformData.append('files', fileList[0].originFileObj);\r\n\t\t\t\t\t\t\tformData.append('ref', 'business'); // optional, you need it if you want to link the image to an entry\r\n\t\t\t\t\t\t\tformData.append('refId', refId); // optional, you need it if you want to link the image to an entry\r\n\t\t\t\t\t\t\tformData.append('field', 'avatar'); // optional, you need it if you want to link the image to an entry\r\n\t\t\t\t\t\t\tconsole.log({ formData });\r\n\t\t\t\t\t\t\tupdateAvatar(formData)\r\n\t\t\t\t\t\t\t\t.then((request) => {\r\n\t\t\t\t\t\t\t\t\tthis.setState({loading: false})\r\n\t\t\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\t\t\tmessage: 'Business',\r\n\t\t\t\t\t\t\t\t\t\tdescription: 'Update Success',\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Business',\r\n\t\t\t\t\t\t\t\tdescription: 'Update Success',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Business',\r\n\t\t\t\t\t\t\tdescription: 'Sorry! Something went wrong. Please try again!',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonChange = (value) => {\r\n\t\tthis.setState({\r\n\t\t\tinputValue: value,\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\t// const { inputValue, username, email, name, bizName, description, address, phone, summary, loading, website } = this.state;\r\n\t\tconst { inputValue, username, email, bizName, description, address, phone, loading, website } = this.state;\r\n\t\t\r\n\t\tfunction formatter(value) {\r\n\t\t\treturn `${value}%`;\r\n\t\t}\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: { span: 16 },\r\n\t\t\t\tsm: { span: 8 },\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: { span: 16 },\r\n\t\t\t\tsm: { span: 8 } /*  */,\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst tailFormItemLayout = {\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {\r\n\t\t\t\t\tspan: 16,\r\n\t\t\t\t\toffset: 0,\r\n\t\t\t\t},\r\n\t\t\t\tsm: {\r\n\t\t\t\t\tspan: 16,\r\n\t\t\t\t\toffset: 8,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst uploadButton = (\r\n\t\t\t<div>\r\n\t\t\t\t<Icon type={this.state.loading ? 'loading' : 'plus'} />\r\n\t\t\t\t<div className=\"ant-upload-text\">Upload</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t\tconst { avatar } = this.state;\r\n\t\treturn (\r\n\t\t\t<Form {...formItemLayout} onSubmit={this.handleSubmit}>\r\n\t\t\t\t<Form.Item label=\"Avatar\">\r\n\t\t\t\t\t{getFieldDecorator('upfile', {\r\n\t\t\t\t\t\trules: [{ required: false, message: 'Please input your avatar!' }],\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Upload\r\n\t\t\t\t\t\t\tlistType=\"picture-card\"\r\n\t\t\t\t\t\t\tclassName=\"avatar-uploader\"\r\n\t\t\t\t\t\t\tshowUploadList={false}\r\n\t\t\t\t\t\t\taction=''\r\n\t\t\t\t\t\t\tbeforeUpload={beforeUpload}\r\n\t\t\t\t\t\t\tonChange={this.handleUpload}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{avatar ? <img src={avatar} alt=\"avatar\" style={{ width: '100%' }} /> : uploadButton}\r\n\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Username\">\r\n\t\t\t\t\t{getFieldDecorator('username', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your username!' }],\r\n\t\t\t\t\t\tinitialValue: username,\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"E-mail\">\r\n\t\t\t\t\t{getFieldDecorator('email', {\r\n\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: 'email',\r\n\t\t\t\t\t\t\t\tmessage: 'The input is not valid E-mail!',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: 'Please input your E-mail!',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tinitialValue: email,\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t{/* <Form.Item\r\n\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\tName&nbsp;\r\n\t\t\t\t\t\t\t<Tooltip title=\"What do you want others to call you?\">\r\n\t\t\t\t\t\t\t\t<Icon type=\"question-circle-o\" />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{getFieldDecorator('name', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your name!', whitespace: true }],\r\n\t\t\t\t\t\tinitialValue: name,\r\n\t\t\t\t\t})(<Input />)}\r\n\t\t\t\t</Form.Item> */}\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\tBusiness Name&nbsp;\r\n\t\t\t\t\t\t\t<Tooltip title=\"What do you want others to call your business?\">\r\n\t\t\t\t\t\t\t\t<Icon type=\"question-circle-o\" />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{getFieldDecorator('businessName', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your business name!', whitespace: true }],\r\n\t\t\t\t\t\tinitialValue: bizName,\r\n\t\t\t\t\t})(<Input />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Description\">\r\n\t\t\t\t\t{getFieldDecorator('description', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your description!' }],\r\n\t\t\t\t\t\tinitialValue: description,\r\n\t\t\t\t\t})(<Input />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Website\">\r\n\t\t\t\t\t{getFieldDecorator('website', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your website!' }],\r\n\t\t\t\t\t\tinitialValue: website,\r\n\t\t\t\t\t})(<Input />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Address\">\r\n\t\t\t\t\t{getFieldDecorator('address', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your address!' }],\r\n\t\t\t\t\t\tinitialValue: address,\r\n\t\t\t\t\t})(<Input />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Phone Number\">\r\n\t\t\t\t\t{getFieldDecorator('phone', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your phone number!' }],\r\n\t\t\t\t\t\tinitialValue: phone,\r\n\t\t\t\t\t})(<Input />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Token % Accepted\">\r\n\t\t\t\t\t{getFieldDecorator('tokenPercent', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please choose your token!' }],\r\n\t\t\t\t\t\tinitialValue: inputValue,\r\n\t\t\t\t\t})(<Slider tipFormatter={formatter} disabled/>)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t{/* <Form.Item label=\"Summary\">\r\n\t\t\t\t\t{getFieldDecorator('summary', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your summary!' }],\r\n\t\t\t\t\t\tinitialValue: summary,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<TextArea\r\n\t\t\t\t\t\t\tplaceholder=\"Autosize height with minimum and maximum number of lines\"\r\n\t\t\t\t\t\t\tautoSize={{ minRows: 2, maxRows: 6 }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item> */}\r\n\r\n\t\t\t\t<Form.Item {...tailFormItemLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n\t\t\t\t\t\tUpdate Profile\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Modal, Button, Form, notification, Input, Icon } from 'antd';\r\n\r\nimport { pledgeOrg } from '../../util/APIUtils';\r\n\r\nconst FormItem = Form.Item;\r\n\r\nexport default class PledgeComponent extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { visible: false };\r\n\t}\r\n\r\n\thandleOk = (e) => {\r\n\t\tconsole.log(e);\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t});\r\n\t};\r\n\r\n\thandleCancel = (e) => {\r\n\t\tconsole.log(e);\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t});\r\n\t};\r\n\trender() {\r\n\t\tconst { name, image, doing, goal, email, phone, address, detail, id, summary } = this.props;\r\n\t\tconst AntWrappedLoginForm = Form.create()(PledgeForm);\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"center img-pledge\">\r\n\t\t\t\t\t<img className=\"rounded w-img\" src={image} alt=\"\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<span className=\"text-center section\" style={{ color: '#313380' }}>\r\n\t\t\t\t\t<b>{name}</b>\r\n\t\t\t\t</span>\r\n\t\t\t\t<p className=\"text-center section\">{summary}</p>\r\n\t\t\t\t<p className=\"text-center section\">{doing}</p>\r\n\t\t\t\t<p className=\"text-center section\">Amount we are raising: {goal}</p>\r\n\t\t\t\t<div className=\"desc-center\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t<Icon type=\"mail\" style={{ fontSize: '16px', color: '#313380' }}></Icon> Email :{' '}\r\n\t\t\t\t\t\t\t\t<span>{email}</span>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t<Icon type=\"phone\" style={{ fontSize: '16px', color: '#313380' }}></Icon> Phone :{' '}\r\n\t\t\t\t\t\t\t\t<span>{phone}</span>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t<Icon type=\"environment\" style={{ fontSize: '16px', color: '#313380' }}></Icon> Address\r\n\t\t\t\t\t\t\t\t: <span>{address}</span>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t<Icon type=\"info-circle\" style={{ fontSize: '16px', color: '#313380' }}></Icon> Details\r\n\t\t\t\t\t\t\t\t: <span>{detail}</span>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<div className=\"text-center mt-2\">\r\n\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary \" onClick={this.props.onShowPledgeInfo}>\r\n\t\t\t\t\t\t\t\t\tPledge\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group text-center mt-4\"></div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle=\"Pledge\"\r\n\t\t\t\t\tvisible={this.state.visible}\r\n\t\t\t\t\tonOk={this.handleOk}\r\n\t\t\t\t\tonCancel={this.handleCancel}\r\n\t\t\t\t\tfooter={[\r\n\t\t\t\t\t\t<Button key=\"back\" onClick={this.handleCancel}>\r\n\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t</Button>,\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<AntWrappedLoginForm currid={id} handleOk={this.handleOk} />\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass PledgeForm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\tthis.state = { currid: this.props.currid, loading: false };\r\n\t}\r\n\thandleSubmit(event) {\r\n\t\tevent.preventDefault();\r\n\t\tthis.props.form.validateFields((err, values) => {\r\n\t\t\tif (!err) {\r\n\t\t\t\tthis.setState({ loading: true });\r\n\t\t\t\tconst pledgeRequest = Object.assign({}, values);\r\n\t\t\t\t// console.log(pledgeRequest);\r\n\t\t\t\tpledgeOrg(pledgeRequest)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Business',\r\n\t\t\t\t\t\t\tdescription: 'Congratulation, you just pledge on Organization!',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.props.handleOk();\r\n\t\t\t\t\t\tthis.setState({ loading: false });\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tif (error.statusCode === 400) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Business',\r\n\t\t\t\t\t\t\t\tdescription: 'Sorry! Something went wrong.',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Business',\r\n\t\t\t\t\t\t\t\tdescription: 'Sorry! Something went wrong. Please try again!',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\trender() {\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\tconst { currid, loading } = this.state;\r\n\t\treturn (\r\n\t\t\t<Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n\t\t\t\t<FormItem>\r\n\t\t\t\t\t{getFieldDecorator('organization_id', {\r\n\t\t\t\t\t\trules: [{ required: false, message: 'Please input your amount to pledge this organization' }],\r\n\t\t\t\t\t\tinitialValue: currid,\r\n\t\t\t\t\t})(<Input type=\"hidden\" name=\"organization_id\" />)}\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem>\r\n\t\t\t\t\t{getFieldDecorator('amount', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your amount to pledge this organization' }],\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Input prefix={<Icon type=\"wallet\" />} size=\"large\" name=\"amount\" placeholder=\"Amount Pledge\" />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</FormItem>\r\n\t\t\t\t<FormItem>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tclassName=\"login-form-button\"\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tPledge\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</FormItem>\r\n\t\t\t</Form>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from \"react\";\n\nexport default class PledgeInfo extends Component {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    return (\n      <>\n        <div>\n          <p>Thanks for supporting this worthy cause!</p>\n          <p>\n            To support this cause, please visit us at the Crowdcycle Kiosk at Jl. Raya Sanggingan 88x, Indomaret Sanggingan in Ubud or at a Crowdcycle Exchange Point near you.\n          </p>\n          <p>You may also contact us at <a href=\"mailto:contact@crowdcycle.io\">contact@crowdcycle.io</a> or WhatsApp <a href=\"https://wa.me/62817345516\">+62817345516</a>.</p>\n          <br/>\n          <iframe\n            title=\"map\"\n            width=\"100%\"\n            height=\"450\"\n            frameBorder=\"0\"\n            style={{ border: 0 }}\n            src={`https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3946.0249992470203!2d115.2506517755082!3d-8.49694989154463!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd23d3a170eaac7%3A0x15bcde261368514e!2sJl.%20Raya%20Sanggingan%20No.88X%2C%20Kedewatan%2C%20Kecamatan%20Ubud%2C%20Kabupaten%20Gianyar%2C%20Bali%2080571!5e0!3m2!1sid!2sid!4v1698656440789!5m2!1sid!2sid`}\n            allowFullScreen\n          ></iframe>\n          <br/>\n          <button type=\"submit\" className=\"btn btn-primary \" onClick={this.props.onShowPledgeInfo}>\n            Back\n          </button>\n        </div>\n      </>\n    )\n  }\n}","import React, { Component } from 'react';\r\nimport { getListPledges } from '../../util/APIUtils';\r\n\r\nimport StatsLists from './StatsLists';\r\nimport PledgeComponent from './PledgeComponent';\r\nimport { Carousel } from 'antd';\r\nimport { Helmet } from 'react-helmet';\r\nimport PledgeInfo from './PledgeInfo';\r\n\r\nexport default class Pledge extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { data: { datas: [] }, step: 0, amount: 0, showPledgeInfo: false };\r\n\t\tthis.carousel = React.createRef();\r\n\t}\r\n\tcomponentDidMount = () => {\r\n\t\tconst data = [];\r\n\t\tgetListPledges()\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconsole.log(response)\r\n\t\t\t\tresponse.map((item, key) => {\r\n\t\t\t\t\tlet image = \"\";\r\n\t\t\t\t\tif (item.organization.avatar === null) {\r\n\t\t\t\t\t\timage = \"\"\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\timage = item.organization.avatar.url\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\tname: item.organization.organizationName,\r\n\t\t\t\t\t\twhatwedo: item.organization.whatwedo,\r\n\t\t\t\t\t\tgoal: item.organization.goal,\r\n\t\t\t\t\t\temail: item.email,\r\n\t\t\t\t\t\tphone: item.organization.phone,\r\n\t\t\t\t\t\taddress: item.organization.address,\r\n\t\t\t\t\t\tdetails: item.organization.description,\r\n\t\t\t\t\t\timage: image,\r\n\t\t\t\t\t\tsummary: item.organization.summary,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdatas: data,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t});\r\n\t};\r\n\tnext = () => {\r\n\t\tthis.carousel.next();\r\n\t};\r\n\tprevious = () => {\r\n\t\tthis.carousel.prev();\r\n\t};\r\n\r\n\trenderSlideData() {\r\n\t\tconst dataSlide = this.state.data.datas.map((item, key) => {\r\n\t\t\tconst { id, name, whatwedo, goal, email, phone, address, details, image, summary } = item; //destructuring\r\n\t\t\treturn (\r\n\t\t\t\t<PledgeComponent\r\n\t\t\t\t\tid={id}\r\n\t\t\t\t\tname={name}\r\n\t\t\t\t\timage={image}\r\n\t\t\t\t\tdoing={whatwedo}\r\n\t\t\t\t\tgoal={goal}\r\n\t\t\t\t\temail={email}\r\n\t\t\t\t\tphone={phone}\r\n\t\t\t\t\taddress={address}\r\n\t\t\t\t\tdetail={details}\r\n\t\t\t\t\tsummary={summary}\r\n\t\t\t\t\tkey={id}\r\n\t\t\t\t\tonShowPledgeInfo={() => this.setState({ showPledgeInfo: !this.state.showPledgeInfo })}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t});\r\n\t\treturn dataSlide;\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"right_col\" role=\"main\">\r\n\t\t\t\t<Helmet>\r\n\t\t\t\t\t<title>Business</title>\r\n\t\t\t\t</Helmet>\r\n\t\t\t\t<StatsLists />\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-12 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t<div className=\"dashboard_graph\">\r\n\t\t\t\t\t\t\t<div className=\"row x_title\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-12\">\r\n\t\t\t\t\t\t\t\t\t<h3> Pledge </h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12\"></div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-12 col-sm-12 col-xs-12\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.showPledgeInfo ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className='x_panel'>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='x_content'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PledgeInfo onShowPledgeInfo={() => this.setState({ showPledgeInfo: !this.state.showPledgeInfo })} />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"prev available\" onClick={this.previous}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-chevron-left glyphicon glyphicon-chevron-left\"></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tPrevious\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"month\">-</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"next available\" onClick={this.next}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tNext{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-chevron-right glyphicon glyphicon-chevron-right\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Carousel autoplay ref={(node) => (this.carousel = node)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.renderSlideData()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Carousel>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Form, Input, Icon, Tooltip, Upload } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport { getCurrentUser } from '../../util/APIUtils';\r\nimport { Helmet } from 'react-helmet';\r\nimport StatsLists from './StatsLists';\r\n\r\n// const { TextArea } = Input;\r\nexport default class Profile extends Component {\r\n\trender() {\r\n\t\tconst AntWrappedProfileForm = Form.create()(ProfileForm);\r\n\t\treturn (\r\n\t\t\t<div className=\"right_col\" role=\"main\">\r\n\t\t\t\t<Helmet>\r\n\t\t\t\t\t<title>Organization</title>\r\n\t\t\t\t</Helmet>\r\n\t\t\t\t<StatsLists />\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-12 col-sm-12 \">\r\n\t\t\t\t\t\t<div className=\"dashboard_graph\">\r\n\t\t\t\t\t\t\t<div className=\"row x_title\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t<h3>Profile</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12\"></div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-12 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/edit-profile\" className=\"btn btn-primary\">\r\n\t\t\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t\t\t\t\t\t<AntWrappedProfileForm />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass ProfileForm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tusername: '',\r\n\t\t\temail: '',\r\n\t\t\tname: '',\r\n\t\t\torgName: '',\r\n\t\t\tdescription: '',\r\n\t\t\tgoal: '',\r\n\t\t\tphone: '',\r\n\t\t\taddress: '',\r\n\t\t\tbankName: '',\r\n\t\t\tbankAccountHolder: '',\r\n\t\t\tbankNumber: '',\r\n\t\t\twhatwedo: '',\r\n\t\t\tsummary: '',\r\n\t\t\twebsite: '',\r\n\t\t\tloading: false,\r\n\t\t\tavatar: '',\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tgetCurrentUser()\r\n\t\t\t.then((response) => {\r\n\t\t\t\t// console.log(response);\r\n\t\t\t\tlet image = '';\r\n\t\t\t\tif (response.organization.avatar === null) {\r\n\t\t\t\t\timage = '';\r\n\t\t\t\t} else {\r\n\t\t\t\t\timage = response.organization.avatar.url;\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(response)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tusername: response.username,\r\n\t\t\t\t\temail: response.email,\r\n\t\t\t\t\tname: response.organization.name,\r\n\t\t\t\t\torgName: response.organization.organizationName,\r\n\t\t\t\t\tdescription: response.organization.description,\r\n\t\t\t\t\tgoal: response.organization.goal,\r\n\t\t\t\t\tphone: response.organization.phone,\r\n\t\t\t\t\taddress: response.organization.address,\r\n\t\t\t\t\tbankName: response.organization.bankName,\r\n\t\t\t\t\tbankAccountHolder: response.organization.bankAccountHolder,\r\n\t\t\t\t\tbankNumber: response.organization.bankNumber,\r\n\t\t\t\t\twhatwedo: response.organization.whatwedo,\r\n\t\t\t\t\tsummary: response.organization.summary,\r\n\t\t\t\t\twebsite: response.organization.website,\r\n\t\t\t\t\tavatar: image,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tonChange = (value) => {\r\n\t\tthis.setState({\r\n\t\t\tinputValue: value,\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\t// const { username, email, name, orgName, description, address, bankName, bankAccountHolder, bankNumber, phone, summary, goal, whatwedo, website } = this.state;\r\n\t\tconst {\r\n\t\t\tusername,\r\n\t\t\temail,\r\n\t\t\torgName,\r\n\t\t\tdescription,\r\n\t\t\taddress,\r\n\t\t\tbankName,\r\n\t\t\tbankAccountHolder,\r\n\t\t\tbankNumber,\r\n\t\t\tphone,\r\n\t\t\tgoal,\r\n\t\t\twebsite,\r\n\t\t} = this.state;\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: { span: 16 },\r\n\t\t\t\tsm: { span: 8 },\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: { span: 16 },\r\n\t\t\t\tsm: { span: 8 } /*  */,\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst uploadButton = (\r\n\t\t\t<div>\r\n\t\t\t\t<Icon type={this.state.loading ? 'loading' : 'plus'} />\r\n\t\t\t\t<div className=\"ant-upload-text\">Upload</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t\tconst { avatar } = this.state;\r\n\t\treturn (\r\n\t\t\t<Form {...formItemLayout}>\r\n\t\t\t\t<Form.Item label=\"Avatar\">\r\n\t\t\t\t\t{getFieldDecorator('files.avatar', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your avatar!' }],\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Upload\r\n\t\t\t\t\t\t\tname=\"avatar\"\r\n\t\t\t\t\t\t\tlistType=\"picture-card\"\r\n\t\t\t\t\t\t\tclassName=\"avatar-uploader\"\r\n\t\t\t\t\t\t\tshowUploadList={false}\r\n\t\t\t\t\t\t\taction=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{avatar ? <img src={avatar} alt=\"avatar\" style={{ width: '100%' }} /> : uploadButton}\r\n\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Username\">\r\n\t\t\t\t\t{getFieldDecorator('username', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your username!' }],\r\n\t\t\t\t\t\tinitialValue: username,\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"E-mail\">\r\n\t\t\t\t\t{getFieldDecorator('email', {\r\n\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: 'email',\r\n\t\t\t\t\t\t\t\tmessage: 'The input is not valid E-mail!',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: 'Please input your E-mail!',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tinitialValue: email,\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t{/* <Form.Item\r\n\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\tName&nbsp;\r\n\t\t\t\t\t\t\t<Tooltip title=\"What do you want others to call you?\">\r\n\t\t\t\t\t\t\t\t<Icon type=\"question-circle-o\" />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{getFieldDecorator('name', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your name!', whitespace: true }],\r\n\t\t\t\t\t\tinitialValue: name,\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item> */}\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\tOrganization Name&nbsp;\r\n\t\t\t\t\t\t\t<Tooltip title=\"What do you want others to call your organization?\">\r\n\t\t\t\t\t\t\t\t<Icon type=\"question-circle-o\" />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{getFieldDecorator('organizationName', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your organization name!', whitespace: true }],\r\n\t\t\t\t\t\tinitialValue: orgName\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Description\">\r\n\t\t\t\t\t{getFieldDecorator('description', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your description!' }],\r\n\t\t\t\t\t\tinitialValue: description,\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Website\">\r\n\t\t\t\t\t{getFieldDecorator('website', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your website!' }],\r\n\t\t\t\t\t\tinitialValue: website,\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Fundraising Goal\">\r\n\t\t\t\t\t{getFieldDecorator('goal', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your fundraising goal!' }],\r\n\t\t\t\t\t\tinitialValue: goal,\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Phone Number\">\r\n\t\t\t\t\t{getFieldDecorator('phone', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your phone number!' }],\r\n\t\t\t\t\t\tinitialValue: phone,\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Address\">\r\n\t\t\t\t\t{getFieldDecorator('address', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your address!' }],\r\n\t\t\t\t\t\tinitialValue: address,\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Bank Name\">\r\n\t\t\t\t\t{getFieldDecorator('bankName', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your bank name!' }],\r\n\t\t\t\t\t\tinitialValue: bankName,\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Bank Account Holder\">\r\n\t\t\t\t\t{getFieldDecorator('bankAccount', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your bank account holder!' }],\r\n\t\t\t\t\t\tinitialValue: bankAccountHolder,\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Account Number\">\r\n\t\t\t\t\t{getFieldDecorator('bankNumber', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your account number!' }],\r\n\t\t\t\t\t\tinitialValue: bankNumber,\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t{/* <Form.Item label=\"What We Do\">\r\n\t\t\t\t\t{getFieldDecorator('whatwedo', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your What We Do!' }],\r\n\t\t\t\t\t\tinitialValue: whatwedo,\r\n\t\t\t\t\t})(<TextArea placeholder=\"What we do\" autoSize={{ minRows: 2, maxRows: 6 }} disabled />)}\r\n\t\t\t\t</Form.Item> */}\r\n\r\n\t\t\t\t{/* <Form.Item label=\"About Us\">\r\n\t\t\t\t\t{getFieldDecorator('summary', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your about us!' }],\r\n\t\t\t\t\t\tinitialValue: summary,\r\n\t\t\t\t\t})(<TextArea placeholder=\"About us\" autoSize={{ minRows: 2, maxRows: 6 }} disabled />)}\r\n\t\t\t\t</Form.Item> */}\r\n\t\t\t</Form>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Form, Input, Icon, Button, notification, Tooltip, Upload, message } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport { getCurrentUser, updateOrg, updateAvatar } from '../../util/APIUtils';\r\nimport { Helmet } from 'react-helmet';\r\nimport StatsLists from './StatsLists';\r\n\r\n// const { TextArea } = Input;\r\n\r\nfunction getBase64(img, callback) {\r\n\tconst reader = new FileReader();\r\n\treader.addEventListener('load', () => callback(reader.result));\r\n\treader.readAsDataURL(img);\r\n}\r\n\r\nfunction beforeUpload(file) {\r\n\tconst isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n\tif (!isJpgOrPng) {\r\n\t\tmessage.error('You can only upload JPG/PNG file!');\r\n\t}\r\n\tconst isLt2M = file.size / 1024 / 1024 < 2;\r\n\tif (!isLt2M) {\r\n\t\tmessage.error('Image must smaller than 2MB!');\r\n\t}\r\n\treturn isJpgOrPng && isLt2M;\r\n}\r\n\r\nexport default class ProfileEdit extends Component {\r\n\trender() {\r\n\t\tconst AntWrappedProfileForm = Form.create()(ProfileForm);\r\n\t\treturn (\r\n\t\t\t<div className=\"right_col\" role=\"main\">\r\n\t\t\t\t<Helmet>\r\n\t\t\t\t\t<title>Organization</title>\r\n\t\t\t\t</Helmet>\r\n\t\t\t\t<StatsLists />\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-12 col-sm-12 \">\r\n\t\t\t\t\t\t<div className=\"dashboard_graph\">\r\n\t\t\t\t\t\t\t<div className=\"row x_title\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t\t<h3>Profile</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12\"></div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-12 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<div className=\"x_panel\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"x_title\">\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/profile\" className=\"btn btn-warning\">\r\n\t\t\t\t\t\t\t\t\t\t\tBack\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"x_content\">\r\n\t\t\t\t\t\t\t\t\t\t<AntWrappedProfileForm />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass ProfileForm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tusername: '',\r\n\t\t\temail: '',\r\n\t\t\tname: '',\r\n\t\t\torgName: '',\r\n\t\t\tdescription: '',\r\n\t\t\tgoal: '',\r\n\t\t\tphone: '',\r\n\t\t\taddress: '',\r\n\t\t\tbankName: '',\r\n\t\t\tbankAccountHolder: '',\r\n\t\t\tbankNumber: '',\r\n\t\t\twhatwedo: '',\r\n\t\t\tsummary: '',\r\n\t\t\tloading: false,\r\n\t\t\trefId: 0,\r\n\t\t\tavatar: '',\r\n\t\t\tupload: null,\r\n\t\t\tfileList: [],\r\n\t\t\twebsite: ''\r\n\t\t};\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t}\r\n\r\n\thandleUpload = ({ fileList }) => {\r\n\t\tthis.setState({ fileList });\r\n\t\tgetBase64(fileList[0].originFileObj, (imageUrl) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tavatar: imageUrl,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tupload: 'iya',\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\thandleChange = (info) => {\r\n\t\tconsole.log(info);\r\n\t\t// if (info.file.status === 'uploading') {\r\n\t\t//   this.setState({ loading: true });\r\n\t\t//   return;\r\n\t\t// }\r\n\t\t// if (info.file.status === 'done') {\r\n\t\t//   // Get this url from response in real world.\r\n\t\tgetBase64(info.file.originFileObj, (imageUrl) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tavatar: imageUrl,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tupload: 'iya',\r\n\t\t\t});\r\n\t\t});\r\n\t\t// }\r\n\t};\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tgetCurrentUser()\r\n\t\t\t.then((response) => {\r\n\t\t\t\t// console.log(response)\r\n\t\t\t\tlet image = '';\r\n\t\t\t\tif (response.organization.avatar === null) {\r\n\t\t\t\t\timage = '';\r\n\t\t\t\t} else {\r\n\t\t\t\t\timage = response.organization.avatar.url;\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tusername: response.username,\r\n\t\t\t\t\temail: response.email,\r\n\t\t\t\t\tname: response.organization.name,\r\n\t\t\t\t\torgName: response.organization.organizationName,\r\n\t\t\t\t\tdescription: response.organization.description,\r\n\t\t\t\t\tgoal: response.organization.goal,\r\n\t\t\t\t\tphone: response.organization.phone,\r\n\t\t\t\t\taddress: response.organization.address,\r\n\t\t\t\t\tbankName: response.organization.bankName,\r\n\t\t\t\t\tbankAccountHolder: response.organization.bankAccountHolder,\r\n\t\t\t\t\tbankNumber: response.organization.bankNumber,\r\n\t\t\t\t\twhatwedo: response.organization.whatwedo,\r\n\t\t\t\t\tsummary: response.organization.summary,\r\n\t\t\t\t\tavatar: image,\r\n\t\t\t\t\trefId: response.organization.id,\r\n\t\t\t\t\twebsite: response.organization.website\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\thandleSubmit(event) {\r\n\t\tevent.preventDefault();\r\n\t\tthis.props.form.validateFields((err, values) => {\r\n\t\t\tif (!err) {\r\n\t\t\t\t// do update\r\n\t\t\t\tconst updateRequest = Object.assign({}, values);\r\n\t\t\t\tthis.setState({loading: true})\r\n\t\t\t\tupdateOrg(updateRequest)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tconst { upload, fileList, refId } = this.state;\r\n\t\t\t\t\t\tif (upload) {\r\n\t\t\t\t\t\t\tlet formData = new FormData();\r\n\t\t\t\t\t\t\tformData.append('files', fileList[0].originFileObj);\r\n\t\t\t\t\t\t\tformData.append('ref', 'organization'); // optional, you need it if you want to link the image to an entry\r\n\t\t\t\t\t\t\tformData.append('refId', refId); // optional, you need it if you want to link the image to an entry\r\n\t\t\t\t\t\t\tformData.append('field', 'avatar'); // optional, you need it if you want to link the image to an entry\r\n\t\t\t\t\t\t\tconsole.log({ formData });\r\n\t\t\t\t\t\t\tupdateAvatar(formData)\r\n\t\t\t\t\t\t\t\t.then((request) => {\r\n\t\t\t\t\t\t\t\t\tthis.setState({loading: false})\r\n\t\t\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\t\t\tmessage: 'Organization',\r\n\t\t\t\t\t\t\t\t\t\tdescription: 'Update Success',\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Organization',\r\n\t\t\t\t\t\t\t\tdescription: 'Update Success',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Organization',\r\n\t\t\t\t\t\t\tdescription: 'Sorry! Something went wrong. Please try again!',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonChange = (value) => {\r\n\t\tthis.setState({\r\n\t\t\tinputValue: value,\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\t// const { username, email, name, orgName, description, address, bankName, bankAccountHolder, bankNumber, phone, summary, goal, whatwedo, loading, website } = this.state;\r\n\r\n\t\tconst {\r\n\t\t\tusername,\r\n\t\t\temail,\r\n\t\t\torgName,\r\n\t\t\tdescription,\r\n\t\t\taddress,\r\n\t\t\tbankName,\r\n\t\t\tbankAccountHolder,\r\n\t\t\tbankNumber,\r\n\t\t\tphone,\r\n\t\t\tgoal,\r\n\t\t\tloading,\r\n\t\t\twebsite\r\n\t\t} = this.state;\r\n\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\tconst formItemLayout = {\r\n\t\t\tlabelCol: {\r\n\t\t\t\txs: { span: 16 },\r\n\t\t\t\tsm: { span: 8 },\r\n\t\t\t},\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: { span: 16 },\r\n\t\t\t\tsm: { span: 8 } /*  */,\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst tailFormItemLayout = {\r\n\t\t\twrapperCol: {\r\n\t\t\t\txs: {\r\n\t\t\t\t\tspan: 16,\r\n\t\t\t\t\toffset: 0,\r\n\t\t\t\t},\r\n\t\t\t\tsm: {\r\n\t\t\t\t\tspan: 16,\r\n\t\t\t\t\toffset: 8,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst uploadButton = (\r\n\t\t\t<div>\r\n\t\t\t\t<Icon type={this.state.loading ? 'loading' : 'plus'} />\r\n\t\t\t\t<div className=\"ant-upload-text\">Upload</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t\tconst { avatar } = this.state;\r\n\t\treturn (\r\n\t\t\t<Form {...formItemLayout} onSubmit={this.handleSubmit}>\r\n\t\t\t\t<Form.Item label=\"Avatar\">\r\n\t\t\t\t\t{getFieldDecorator('upfile', {\r\n\t\t\t\t\t\trules: [{ required: false, message: 'Please input your avatar!' }],\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<Upload\r\n\t\t\t\t\t\t\tlistType=\"picture-card\"\r\n\t\t\t\t\t\t\tclassName=\"avatar-uploader\"\r\n\t\t\t\t\t\t\tshowUploadList={false}\r\n\t\t\t\t\t\t\taction=''\r\n\t\t\t\t\t\t\tbeforeUpload={beforeUpload}\r\n\t\t\t\t\t\t\tonChange={this.handleUpload}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{avatar ? <img src={avatar} alt=\"avatar\" style={{ width: '100%' }} /> : uploadButton}\r\n\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Username\">\r\n\t\t\t\t\t{getFieldDecorator('username', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your username!' }],\r\n\t\t\t\t\t\tinitialValue: username,\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"E-mail\">\r\n\t\t\t\t\t{getFieldDecorator('email', {\r\n\t\t\t\t\t\trules: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: 'email',\r\n\t\t\t\t\t\t\t\tmessage: 'The input is not valid E-mail!',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: 'Please input your E-mail!',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tinitialValue: email,\r\n\t\t\t\t\t})(<Input disabled />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t{/* <Form.Item\r\n\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\tName&nbsp;\r\n\t\t\t\t\t\t\t<Tooltip title=\"What do you want others to call you?\">\r\n\t\t\t\t\t\t\t\t<Icon type=\"question-circle-o\" />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{getFieldDecorator('name', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your name!', whitespace: true }],\r\n\t\t\t\t\t\tinitialValue: name,\r\n\t\t\t\t\t})(<Input />)}\r\n\t\t\t\t</Form.Item> */}\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\tOrganization Name&nbsp;\r\n\t\t\t\t\t\t\t<Tooltip title=\"What do you want others to call your organization?\">\r\n\t\t\t\t\t\t\t\t<Icon type=\"question-circle-o\" />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{getFieldDecorator('organizationName', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your organization name!', whitespace: true }],\r\n\t\t\t\t\t\tinitialValue: orgName,\r\n\t\t\t\t\t})(<Input />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Description\">\r\n\t\t\t\t\t{getFieldDecorator('description', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your description!' }],\r\n\t\t\t\t\t\tinitialValue: description,\r\n\t\t\t\t\t})(<Input />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Website\">\r\n\t\t\t\t\t{getFieldDecorator('website', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your website!' }],\r\n\t\t\t\t\t\tinitialValue: website,\r\n\t\t\t\t\t})(<Input />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Fundraising Goal\">\r\n\t\t\t\t\t{getFieldDecorator('goal', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your fundraising goal!' }],\r\n\t\t\t\t\t\tinitialValue: goal,\r\n\t\t\t\t\t})(<Input />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Phone Number\">\r\n\t\t\t\t\t{getFieldDecorator('phone', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your phone number!' }],\r\n\t\t\t\t\t\tinitialValue: phone,\r\n\t\t\t\t\t})(<Input />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Address\">\r\n\t\t\t\t\t{getFieldDecorator('address', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your address!' }],\r\n\t\t\t\t\t\tinitialValue: address,\r\n\t\t\t\t\t})(<Input />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Bank Name\">\r\n\t\t\t\t\t{getFieldDecorator('bankName', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your bank name!' }],\r\n\t\t\t\t\t\tinitialValue: bankName,\r\n\t\t\t\t\t})(<Input />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Bank Account Holder\">\r\n\t\t\t\t\t{getFieldDecorator('bankAccountHolder', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your bank account holder!' }],\r\n\t\t\t\t\t\tinitialValue: bankAccountHolder,\r\n\t\t\t\t\t})(<Input />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Account Number\">\r\n\t\t\t\t\t{getFieldDecorator('bankNumber', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your account number!' }],\r\n\t\t\t\t\t\tinitialValue: bankNumber,\r\n\t\t\t\t\t})(<Input />)}\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t{/* <Form.Item label=\"What We Do\">\r\n\t\t\t\t\t{getFieldDecorator('whatwedo', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your What We Do!' }],\r\n\t\t\t\t\t\tinitialValue: whatwedo,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<TextArea\r\n\t\t\t\t\t\t\tplaceholder=\"Autosize height with minimum and maximum number of lines\"\r\n\t\t\t\t\t\t\tautoSize={{ minRows: 2, maxRows: 6 }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item> */}\r\n\r\n\t\t\t\t{/* <Form.Item label=\"About Us\">\r\n\t\t\t\t\t{getFieldDecorator('summary', {\r\n\t\t\t\t\t\trules: [{ required: true, message: 'Please input your about us!' }],\r\n\t\t\t\t\t\tinitialValue: summary,\r\n\t\t\t\t\t})(\r\n\t\t\t\t\t\t<TextArea\r\n\t\t\t\t\t\t\tplaceholder=\"Autosize height with minimum and maximum number of lines\"\r\n\t\t\t\t\t\t\tautoSize={{ minRows: 2, maxRows: 6 }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form.Item> */}\r\n\r\n\t\t\t\t<Form.Item {...tailFormItemLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n\t\t\t\t\t\tUpdate Profile\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport { Spin, Icon } from 'antd';\r\n\r\nexport default function LoadingIndicator(props) {\r\n    const antIcon = <Icon type=\"loading-3-quarters\" style={{ fontSize: 30 }} spin />;\r\n    return (\r\n        <Spin indicator={antIcon} style = {{display: 'block', textAlign: 'center', marginTop: 30}} />\r\n    );\r\n}","import React, { Component } from 'react';\r\nimport './NotFound.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from 'antd';\r\n\r\nclass NotFound extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"page-not-found\">\r\n                <h1 className=\"title\">\r\n                    404\r\n                </h1>\r\n                <div className=\"desc\">\r\n                    The Page you're looking for was not found.\r\n                </div>\r\n                <Link to=\"/\"><Button className=\"go-back-btn\" type=\"primary\" size=\"large\">Go Back</Button></Link>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NotFound;","import React, { Component } from 'react';\r\nimport './ServerError.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from 'antd';\r\n\r\nclass ServerError extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"server-error-page\">\r\n                <h1 className=\"server-error-title\">\r\n                    500\r\n                </h1>\r\n                <div className=\"server-error-desc\">\r\n                    Oops! Something went wrong at our Server. Why don't you go back?\r\n                </div>\r\n                <Link to=\"/\"><Button className=\"server-error-go-back-btn\" type=\"primary\" size=\"large\">Go Back</Button></Link>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ServerError;","import { createContext } from 'react'\r\n\r\nexport const Context = createContext({\r\n    sidebarType: 'nav-md',\r\n    onChangeSidebar: () => {}\r\n})","import { useState, useEffect } from 'react';\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  let act;\r\n  if(height > 1024  || width > 768){\r\n    act = false\r\n  }else{\r\n    act = true\r\n  }\r\n  return {\r\n    width,\r\n    height,\r\n    act,\r\n  };\r\n}\r\n\r\nexport default function useWindowDimensions() {\r\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}","import React, { useContext } from 'react';\r\nimport { Context } from '../../../context';\r\nimport useWindowDimensions from '../../../util/useWindowDimensions';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction List(props) {\r\n\tconst { act } = useWindowDimensions();\r\n\tconst {onChangeSidebar} = useContext(Context);\r\n\tconst { link, isActive, icon, name } = props;\r\n\treturn (\r\n\t\t<li className={isActive ? 'active' : ''}>\r\n\t\t\t<Link to={link} onClick={ act ? onChangeSidebar : ''}>\r\n\t\t\t\t<i className={icon}></i> {name}\r\n\t\t\t</Link>\r\n\t\t</li>\r\n\t);\r\n}\r\n\r\nexport default List","import React, { Component } from 'react';\r\nimport List from './List'\r\n\r\nclass PlatformCoordinator extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            isActive: false,\r\n        }\r\n    }\r\n    handleActive = (e) => {\r\n        // console.log(this.props.loc)\r\n        if(this.props.loc === e){\r\n            return true\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"sidebar-menu\" className=\"main_menu_side hidden-print main_menu\">\r\n\t\t\t\t<div className=\"menu_section\">\r\n\t\t\t\t\t<h3>General</h3>\r\n\t\t\t\t\t<ul className=\"nav side-menu\">\r\n\t\t\t\t\t\t{/* <List isActive={this.handleActive(\"/settings\")} icon=\"fa fa-edit\" link=\"/settings\" name=\"Settings\" /> */}\r\n                        <List isActive={this.handleActive(\"/\")} icon=\"fa fa-home\" link=\"/\" name=\"Home\" />\r\n                        <List isActive={this.handleActive(\"/finances\")} icon=\"fa fa-bar-chart-o\" link=\"/finances\" name=\"Finances\" />\r\n                        <List isActive={this.handleActive(\"/reports\")} icon=\"fa fa-table\" link=\"/reports\" name=\"Reports\" />\r\n                        <List isActive={this.handleActive(\"/users\")} icon=\"fa fa-users\" link=\"/users\" name=\"Users List\" />\r\n                        {/* <List isActive={this.handleActive(\"/confirmations\")} icon=\"fa fa-check\" link=\"/confirmations\" name=\"Users Confirmation\" /> */}\r\n                    </ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default PlatformCoordinator;\r\n","import React, { Component } from 'react'\r\nimport List from './List'\r\n\r\nclass Organization extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            isActive: false,\r\n        }\r\n    }\r\n    handleActive = (e) => {\r\n        // console.log(this.props.loc)\r\n        if(this.props.loc === e){\r\n            return true\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div id=\"sidebar-menu\" className=\"main_menu_side hidden-print main_menu\">\r\n\t\t\t\t<div className=\"menu_section\">\r\n\t\t\t\t\t<h3>General</h3>\r\n\t\t\t\t\t<ul className=\"nav side-menu\">\r\n                        <List isActive={this.handleActive(\"/\")} icon=\"fa fa-home\" link=\"/\" name=\"Home\" />\r\n\t\t\t\t\t\t<List isActive={this.handleActive(\"/profile\")} icon=\"fa fa-user\" link=\"/profile\" name=\"Profile\" />\r\n                    </ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Organization","import React, { Component } from 'react'\r\nimport List from './List'\r\n\r\nclass Business extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            isActive: false,\r\n        }\r\n    }\r\n    handleActive = (e) => {\r\n        // console.log(this.props.loc)\r\n        if(this.props.loc === e){\r\n            return true\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div id=\"sidebar-menu\" className=\"main_menu_side hidden-print main_menu\">\r\n\t\t\t\t<div className=\"menu_section\">\r\n\t\t\t\t\t<h3>General</h3>\r\n\t\t\t\t\t<ul className=\"nav side-menu\">\r\n                        <List isActive={this.handleActive(\"/\")} icon=\"fa fa-home\" link=\"/\" name=\"Home\" />\r\n\t\t\t\t\t\t<List isActive={this.handleActive(\"/profile\")} icon=\"fa fa-user\" link=\"/profile\" name=\"Profile\" />\r\n                        <List isActive={this.handleActive(\"/pledge\")} icon=\"fa fa-gift\" link=\"/pledge\" name=\"Pledge\" />\r\n                    </ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Business","import React, { Component } from 'react';\r\nimport { PlatformCoordinator, Business, Organization } from './sidebar-list'\r\nimport { Context } from '../../context';\r\nimport { Link } from 'react-router-dom'\r\n\r\nlet loc = \"\";\r\nexport default class Sidebar extends Component {\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\trole: \"\",\r\n\t\t\ttitleRole: \"\",\r\n\t\t\tusername: \"\",\r\n\t\t\tavatar: null,\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tloc = this.props.location.location\r\n\t\tthis.setState({\r\n\t\t\tlocation: this.props.location.location,\r\n\t\t\trole: this.props.userStatus,\r\n\t\t\tusername: this.props.userInfo.username\r\n\t\t})\r\n\t\tif(this.props.userStatus === 'business'){\r\n\t\t\tthis.setState({titleRole: 'Business'})\r\n\t\t\tif(this.props.userInfo.business.avatar !== null){\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tavatar: this.props.userInfo.business.avatar.url,\r\n\t\t\t\t\tusername: this.props.userInfo.business.businessName\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}else if(this.props.userStatus === 'organization'){\r\n\t\t\tthis.setState({titleRole: 'Organization'})\r\n\t\t\tif(this.props.userInfo.organization.avatar !== null){\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tavatar: this.props.userInfo.organization.avatar.url,\r\n\t\t\t\t\tusername: this.props.userInfo.organization.organizationName\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tthis.setState({titleRole: 'Coordinator'})\r\n\t\t}\r\n\t}\r\n\tcomponentWillUpdate(nextProps, nextState){\r\n\t\tloc = nextProps.location.location.pathname\r\n\t}\r\n\trenderProfile = () => {\r\n\t\tif(this.state.avatar !== null){\r\n\t\t\treturn <img src={this.state.avatar} alt=\"...\" className=\"img-circle profile_img\" />\r\n\t\t}else{\r\n\t\t\t// return <img src=\"images/img.jpg\" alt=\"...\" className=\"img-circle profile_img\" />\r\n\t\t\treturn \"\"\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\tconst { role, username} = this.state\r\n\t\treturn (\r\n\t\t\t<div className=\"col-md-3 left_col\">\r\n\t\t\t\t<div className=\"left_col scroll-view\">\r\n\t\t\t\t\t<div className=\"navbar nav_title\" style={{ border: '0' }}>\r\n\t\t\t\t\t\t<Link to={'/'} className=\"site_title\" onClick={this.context.onChangeSidebar}>\r\n\t\t\t\t\t\t<img src=\"CrowdCycle-logo.jpg\" alt=\"Logo\" style={{  height: '32px', marginLeft: '8px' }} /> <span className=\"blue\">  {this.state.titleRole}</span>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"clearfix\"></div>\r\n\r\n\t\t\t\t\t<div className=\"profile clearfix\">\r\n\t\t\t\t\t\t<div className=\"profile_pic\">\r\n\t\t\t\t\t\t\t{this.renderProfile()}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"profile_info\">\r\n\t\t\t\t\t\t\t<span>Welcome,</span>\r\n\t\t\t\t\t\t\t<h2>{username}</h2>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<br />\r\n\r\n\t\t\t\t\t{/* ini list nya */}\r\n\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trole === \"cordinator\" ? <PlatformCoordinator loc={loc} /> : \r\n\t\t\t\t\t\trole === \"business\" ? <Business loc={loc} /> :\r\n\t\t\t\t\t\trole === \"organization\" ? <Organization loc={loc} /> : \"\"\t\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nSidebar.contextType = Context;","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction ProfileList(props) {\r\n\r\n\treturn (\r\n\t\t<ul className=\"dropdown-menu dropdown-usermenu pull-right\">\r\n\t\t\t{/* <li>\r\n\t\t\t\t<Link to=\"/profile\"> Profile</Link>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<Link to=\"/setting\">\r\n\t\t\t\t\t<span className=\"badge bg-red pull-right\">50%</span>\r\n\t\t\t\t\t<span>Settings</span>\r\n\t\t\t\t</Link>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<Link to=\"/help\">Help</Link>\r\n\t\t\t</li> */}\r\n\t\t\t<li>\r\n\t\t\t\t<Link onClick={() => props.handleLogout('/login', 'error', 'You have been logged out. Please login to vote')}>\r\n\t\t\t\t\t<i className=\"fa fa-sign-out pull-right\"></i> Log Out\r\n\t\t\t\t</Link>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t);\r\n}\r\n\r\nexport default ProfileList;\r\n","import React, { useContext, useState, useEffect } from 'react';\r\nimport { Context } from '../../context';\r\nimport { Link } from 'react-router-dom'\r\nimport { notification } from 'antd';\r\nimport { ACCESS_TOKEN } from '../../constants';\r\n\r\n\r\nimport ProfileList from './topnav-list/ProfileList'\r\nfunction Topnav(props) {\r\n\tconst { onChangeSidebar } = useContext(Context);\r\n\tconst [username, setUsername] = useState(\"\");\r\n\tconst [avatar, setAvatar] = useState(null);\r\n\tconst [role, setRole] = useState(\"Coordinator\");\r\n\r\n\tuseEffect(() => {\r\n\t\tsetUsername(props.userInfo.username);\r\n\t\tif(props.userInfo.role.type === 'organization'){\r\n\t\t\tif(props.userInfo.organization.avatar !== null){\r\n\t\t\t\tsetAvatar(props.userInfo.organization.avatar.url)\r\n\t\t\t\tsetUsername(props.userInfo.organization.organizationName)\r\n\t\t\t\tsetRole(\"Organization\")\r\n\t\t\t}\r\n\t\t}else if(props.userInfo.role.type === 'business'){\r\n\t\t\tif(props.userInfo.business.avatar !== null){\r\n\t\t\t\tsetAvatar(props.userInfo.business.avatar.url)\r\n\t\t\t\tsetUsername(props.userInfo.business.businessName)\r\n\t\t\t\tsetRole(\"Business\")\r\n\t\t\t}\r\n\t\t}else{\r\n\r\n\t\t}\r\n\t}, [props.userInfo]);\r\n\r\n\tconst handleLogout = (notificationType=\"success\", description=\"You're successfully logged out.\") => {\r\n\t\tlocalStorage.removeItem(ACCESS_TOKEN);\r\n\t\r\n\t\tnotification[notificationType]({\r\n\t\t  message: role,\r\n\t\t  description: description,\r\n\t\t});\r\n\r\n\t\tsetTimeout((props) => {\r\n\t\t\twindow.location.reload();\r\n\t\t}, 3000)\r\n\t  }\r\n\tconst renderProfile = () => {\r\n\t\tif(avatar !== null){\r\n\t\t\treturn <img src={avatar} alt=\"...\" />\r\n\t\t}else{\r\n\t\t\treturn \"\"\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"top_nav\">\r\n\t\t\t<div className=\"nav_menu\">\r\n\t\t\t\t<nav>\r\n\t\t\t\t\t<div className=\"nav toggle\">\r\n\t\t\t\t\t\t<Link onClick={onChangeSidebar} >\r\n\t\t\t\t\t\t\t<i className=\"fa fa-bars\"></i>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<ul className=\"nav navbar-nav navbar-right\">\r\n\t\t\t\t\t\t<li className=\"\">\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tclassName=\"user-profile dropdown-toggle\"\r\n\t\t\t\t\t\t\t\tdata-toggle=\"dropdown\"\r\n\t\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ renderProfile() }\r\n\t\t\t\t\t\t\t\t{ username }\r\n\t\t\t\t\t\t\t\t<span className=\" fa fa-angle-down\"></span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<ProfileList handleLogout={() => handleLogout()} />\r\n\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t{/* <li role=\"presentation\" className=\"dropdown\">\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tclassName=\"dropdown-toggle info-number\"\r\n\t\t\t\t\t\t\t\tdata-toggle=\"dropdown\"\r\n\t\t\t\t\t\t\t\taria-expanded=\"false\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i className=\"fa fa-envelope-o\"></i>\r\n\t\t\t\t\t\t\t\t<span className=\"badge bg-green\">6</span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<AnnounceLists />\r\n\t\t\t\t\t\t</li> */}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</nav>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Topnav;\r\n","import React, { Component } from 'react';\r\n\r\nclass Footer extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<footer>\r\n\t\t\t\t<div className=\"pull-right\">\r\n\t\t\t\t\tGentelella - Bootstrap Admin Template by\r\n\t\t\t\t\t<a href=\"https://colorlib.com\">Colorlib</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"clearfix\"></div>\r\n\t\t\t</footer>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Footer","import React, { Component } from 'react'\nimport {\n\tLoginPage,\n\tForgotPage,\n\tPlatformDashboard,\n\tPlatformFinances,\n\tPlatformReports,\n\tPlatformUsers,\n\tBusinessDashboard,\n\tBusinessProfile,\n\tBusinessProfileEdit,\n\tBusinessPledge,\n\tOrganizationDasboard,\n\tOrganizationProfile,\n\tOrganizationProfileEdit,\n} from '../pages';\nimport { getCurrentUser } from '../util/APIUtils';\nimport { notification } from 'antd';\nimport { Switch, Route, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { setUser, clearUser } from '../actions';\nimport { Loading } from '../common';\nimport { Sidebar, Topnav, Footer } from '../components';\nimport { Context } from '../context';\n\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onChangeSidebar = () => {\n\t\t\tthis.setState((prevState) => ({\n\t\t\t\tsidebarType: prevState.sidebarType === 'nav-md' ? 'nav-sm' : 'nav-md',\n\t\t\t}));\n\t\t};\n\t\tthis.state = {\n\t\t\tsidebarType: 'nav-md',\n\t\t\tonChangeSidebar: this.onChangeSidebar,\n\t\t\tuserStatus: '',\n\t\t\tuserInfo: '',\n\t\t\tisAuthenticated: false,\n\t\t\tisLoading: false,\n\t\t};\n\t\tnotification.config({\n\t\t\tplacement: 'topRight',\n\t\t\ttop: 70,\n\t\t\tduration: 3,\n\t\t});\n\t}\n\tcomponentDidMount() {\n\t\tgetCurrentUser()\n\t\t\t.then((response) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tuserStatus: response.role.type,\n\t\t\t\t\tuserInfo: response\n\t\t\t\t});\n\t\t\t\tthis.props.setUser(response);\n\t\t\t\tthis.props.history.push('/');\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tthis.props.history.push('/login');\n\t\t\t\tthis.props.clearUser();\n\t\t\t});\n\t}\n\n\tloadCurrentUser = () => {\n\t\tgetCurrentUser()\n\t\t\t.then((response) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tuserStatus: response.role.type,\n\t\t\t\t\tuserInfo: response\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tisLoading: false,\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\thandleLogin = (user) => {\n\t\tconst role = user.user.role.type\n\t\tif(role === \"cordinator\"){\n\t\t\tnotification.success({\n\t\t\t\tmessage: 'Platform Coordinator',\n\t\t\t\tdescription: \"you're successfully logged in.\",\n\t\t\t});\n\t\t}else if(role === \"business\"){\n\t\t\tnotification.success({\n\t\t\t\tmessage: 'Business',\n\t\t\t\tdescription: \"you're successfully logged in.\",\n\t\t\t});\n\t\t}else if(role === \"organization\"){\n\t\t\tnotification.success({\n\t\t\t\tmessage: 'Organization',\n\t\t\t\tdescription: \"you're successfully logged in.\",\n\t\t\t});\n\t\t}\n\t\n\t\tsetTimeout((props) => {\n\t\t\twindow.location.reload();\n\t\t\tthis.loadCurrentUser();\n\t\t}, 3000)\n\t};\n\n\trender() {\n\t\tif (this.props.isLoading) {\n\t\t\treturn <Loading />;\n\t\t}\n\t\tif (this.state.userStatus === 'business') {\n\t\t\treturn (\n\t\t\t\t<Context.Provider value={this.state}>\n\t\t\t\t\t<div className={this.state.sidebarType}>\n\t\t\t\t\t\t<div className=\"container body\">\n\t\t\t\t\t\t\t<div className=\"main_container\">\n\t\t\t\t\t\t\t\t<Sidebar location={this.props.history} userStatus={this.state.userStatus} userInfo={this.state.userInfo} />\n\t\t\t\t\t\t\t\t<Topnav userInfo={this.state.userInfo} />\n\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/\" render={(props) => <BusinessDashboard userInfo={this.state.userInfo}/>} />\n\t\t\t\t\t\t\t\t\t<Route path=\"/profile\" component={BusinessProfile} />\n\t\t\t\t\t\t\t\t\t<Route path=\"/edit-profile\" component={BusinessProfileEdit} />\n\t\t\t\t\t\t\t\t\t<Route path=\"/pledge\" component={BusinessPledge} />\n\t\t\t\t\t\t\t\t\t<Footer />\n\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Context.Provider>\n\t\t\t);\n\t\t} else if (this.state.userStatus === 'cordinator') {\n\t\t\treturn (\n\t\t\t\t<Context.Provider value={this.state}>\n\t\t\t\t\t<div className={this.state.sidebarType}>\n\t\t\t\t\t\t<div className=\"container body\">\n\t\t\t\t\t\t\t<div className=\"main_container\">\n\t\t\t\t\t\t\t\t<Sidebar location={this.props.history} userStatus={this.state.userStatus} userInfo={this.state.userInfo} />\n\t\t\t\t\t\t\t\t<Topnav userInfo={this.state.userInfo} />\n\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/\" component={PlatformDashboard} />\n\t\t\t\t\t\t\t\t\t{/* <Route path=\"/settings\" component={PlatformSetting} /> */}\n\t\t\t\t\t\t\t\t\t{/* <Route path=\"/edit-settings\" component={PlatformSettingEdit} /> */}\n\t\t\t\t\t\t\t\t\t<Route path=\"/finances\" component={PlatformFinances} />\n\t\t\t\t\t\t\t\t\t<Route path=\"/reports\" component={PlatformReports} />\n\t\t\t\t\t\t\t\t\t{/* <Route path=\"/confirmations\" component={PlatformConfirmations} /> */}\n\t\t\t\t\t\t\t\t\t<Route path=\"/users\" component={PlatformUsers} />\n\t\t\t\t\t\t\t\t\t<Footer />\n\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Context.Provider>\n\t\t\t);\n\t\t} else if (this.state.userStatus === 'organization') {\n\t\t\treturn (\n\t\t\t\t<Context.Provider value={this.state}>\n\t\t\t\t\t<div className={this.state.sidebarType}>\n\t\t\t\t\t\t<div className=\"container body\">\n\t\t\t\t\t\t\t<div className=\"main_container\">\n\t\t\t\t\t\t\t\t<Sidebar location={this.props.history} userStatus={this.state.userStatus} userInfo={this.state.userInfo} />\n\t\t\t\t\t\t\t\t<Topnav userInfo={this.state.userInfo} />\n\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/\" render={(props) => <OrganizationDasboard userInfo={this.state.userInfo}/>} />\n\t\t\t\t\t\t\t\t\t<Route path=\"/profile\" component={OrganizationProfile} />\n\t\t\t\t\t\t\t\t\t<Route path=\"/edit-profile\" component={OrganizationProfileEdit} />\n\t\t\t\t\t\t\t\t\t<Footer />\n\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Context.Provider>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Switch>\n\t\t\t\t\t{/* <Route exact path=\"/\" component={App} /> */}\n\t\t\t\t\t<Route path=\"/login\" render={(props) => <LoginPage onLogin={this.handleLogin} {...props} />} />\n\t\t\t\t\t<Route path=\"/forgot\" render={(props) => <ForgotPage onLogin={this.handleLogin} {...props} />} />\n\t\t\t\t</Switch>\n\t\t\t);\n\t\t}\n\t}\n}\n\nconst mapStateFromProps = (state) => ({\n\tisLoading: state.user.isLoading,\n});\n\nconst RootWithAuth = withRouter(connect(mapStateFromProps, { setUser, clearUser })(App));\n\nexport default RootWithAuth","import * as actionTypes from './types'\r\n\r\nexport const setUser = user => {\r\n    return{\r\n        type: actionTypes.SET_USER,\r\n        payload: {\r\n            currentUser: user\r\n        }\r\n    }\r\n}\r\n\r\nexport const clearUser = () => {\r\n    return {\r\n        type: actionTypes.CLEAR_USER\r\n    }\r\n}","export const SET_USER = 'SET_USER'\r\nexport const CLEAR_USER = 'CLEAR_USER'","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { combineReducers } from 'redux'\r\nimport * as actionTypes from '../actions/types'\r\n\r\nconst initialUserState = {\r\n    currentUser: null,\r\n    isLoading: true\r\n}\r\n\r\nconst user_reducer = (state = initialUserState,action) => {\r\n    switch(action.type){\r\n        case actionTypes.SET_USER:\r\n            return{\r\n                currentUser: action.payload.currentUser,\r\n                isLoading: false\r\n            }\r\n        case actionTypes.CLEAR_USER:\r\n            return{\r\n                ...initialUserState,\r\n                isLoading: false \r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n    user: user_reducer\r\n})\r\n\r\nexport default rootReducer","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport './App.css'\nimport App from './app/App';\n// import Test from './pages/organization/Test'\nimport * as serviceWorker from './serviceWorker';\n\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport { createStore } from 'redux';\nimport rootReducer from './reducers';\nimport {Provider} from 'react-redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nconst store = createStore(rootReducer, composeWithDevTools());\n\nReactDOM.render(\n    <Provider store={store}>\n      <Router>\n        {/* <Test /> */}\n        <App/>\n      </Router>\n    </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}