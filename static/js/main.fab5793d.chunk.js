(this.webpackJsonpplatform=this.webpackJsonpplatform||[]).push([[0],{1165:function(e,t,a){},1166:function(e,t,a){},1167:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(13),o=a.n(r),i=(a(507),a(508),a(4)),c=a(5),s=a(6),u=a(7),m=a(55),d=(a(318),a(23)),p=a(17),h=a.n(p),g=a(24),f="https://api.bali.crowdcycle.io",v=a(307),E=a.n(v),b=function(e){var t=new Headers({"Content-Type":"application/json"});localStorage.getItem("accessToken")&&!e.url.includes("/auth/local")&&t.append("Authorization","Bearer "+localStorage.getItem("accessToken"));var a={headers:t};return e=Object.assign({},a,e),fetch(e.url,e).then((function(e){return e.json().then((function(t){return e.ok?t:Promise.reject(t)}))}))};function y(){return localStorage.getItem("accessToken")?b({url:f+"/users/me",method:"GET"}):Promise.reject("No access token set.")}function N(e,t){return b({url:f+"/reportings/users/summary?_endSpan="+t+"&_startSpan="+e,method:"GET"})}function w(){return b({url:f+"/reportings/users/summary",method:"GET"})}function x(e,t,a){return b({url:f+"/reportings/transactions/timebyamount?_endSpan="+t+"&_startSpan="+e+"&timetype=UNIQDATEMONTHYEAR&user_id="+a,method:"GET"})}function O(e,t){return b({url:f+"/reportings/transactions/summary?_endSpan="+t+"&_startSpan="+e,method:"GET"})}function S(){return b({url:f+"/reportings/transactions/summary",method:"GET"})}function k(){return b({url:f+"/cordinators/unverifiedBusiness",method:"GET"})}function T(){return b({url:f+"/reportings/pledges/bybusiness",method:"GET"})}function j(){return b({url:f+"/reportings/pledges/byorganization",method:"GET"})}function C(){return b({url:f+"/reportings/topup/byindividual",method:"GET"})}function P(){return b({url:f+"/cordinators/unverifiedOrganization",method:"GET"})}function D(e){return b({url:f+"/cordinators/verify",method:"POST",body:JSON.stringify(e)})}function z(e){return b(""===e?{url:f+"/businesses/individualSpentOnMe",method:"GET"}:{url:f+"/businesses/individualSpentOnMe?_limit="+e+"&_sort=spentTotal:DESC",method:"GET"})}function A(e){return b(""===e?{url:f+"/businesses/whoIPledged",method:"GET"}:{url:f+"/businesses/whoIPledged?_limit="+e+"&_sort=pledgedTotal:DESC",method:"GET"})}function I(){return b({url:f+"/organizations",method:"GET"})}function _(e){return function(e){var t=new Headers;return localStorage.getItem("accessToken")&&t.append("Authorization","Bearer "+localStorage.getItem("accessToken")),E.a.post(f+"/upload",e,{headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")}})}(e)}function F(){return(F=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get(f+"/businesses?_limit=100");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return b({url:f+"/cordinators/unverify",method:"POST",body:JSON.stringify(e)})}var R=a(1175),M=a(1179),L=a(1169),Y=a(1176),W=a(14),U=a(70),G=R.a.Item,V=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=R.a.create()(q);return l.a.createElement("div",{className:"login-container"},l.a.createElement("div",{className:"login-body"},l.a.createElement("img",{src:"Logo.png",alt:"Logo",style:{height:"128px"}}),l.a.createElement("h3",null,"Login to Platform"),l.a.createElement(M.a,{bordered:!1,style:{width:300}},l.a.createElement("div",{className:"login-content"},l.a.createElement(e,{onLogin:this.props.onLogin})))))}}]),a}(n.Component),q=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={loading:!1},n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields((function(e,a){e||(t.setState({loading:!0}),function(e){return b({url:f+"/auth/local",method:"POST",body:JSON.stringify(e)})}(Object.assign({},a)).then((function(e){localStorage.setItem("accessToken",e.jwt),t.props.onLogin(e)})).catch((function(e){t.setState({loading:!1}),console.log(),400===e.statusCode?L.a.error({message:"Platform",description:e.message[0].messages[0].message}):L.a.error({message:"Platform",description:"Sorry! Something went wrong. Please try again!"})})))}))}},{key:"render",value:function(){var e=this.state.loading,t=this.props.form.getFieldDecorator;return l.a.createElement(R.a,{onSubmit:this.handleSubmit},l.a.createElement(G,null,t("identifier",{rules:[{required:!0,message:"Please input your username or email!"}]})(l.a.createElement(Y.a,{prefix:l.a.createElement(W.a,{type:"user"}),size:"large",name:"identifier",placeholder:"Username or Email"}))),l.a.createElement(G,null,t("password",{rules:[{required:!0,message:"Please input your Password!"}]})(l.a.createElement(Y.a.Password,{prefix:l.a.createElement(W.a,{type:"lock"}),size:"large",name:"password",type:"password",placeholder:"Password"}))),l.a.createElement(G,null,l.a.createElement(U.a,{type:"primary",htmlType:"submit",size:"large",className:"login-form-button",loading:e},"Login"),l.a.createElement(d.b,{to:"/forgot"},"Forgot Password ? ")))}}]),a}(n.Component),H=V,J=a(203),K=a(69),Q=(a(661),a(485)),X=R.a.Item,$=(n.Component,R.a.Item),Z=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=R.a.create()(ee);return l.a.createElement("div",{className:"login-container"},l.a.createElement("div",{className:"login-body"},l.a.createElement("img",{src:"Logo.png",alt:"Logo",style:{height:"128px"}}),l.a.createElement("h3",null,"Forgot Password"),l.a.createElement(M.a,{bordered:!1,style:{width:300}},l.a.createElement("div",{className:"login-content"},l.a.createElement(e,{onLogin:this.props.onLogin})))))}}]),a}(n.Component),ee=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.form.validateFields((function(e,t){if(!e){var a=Object.assign({},t);(n=a,b({url:f+"/auth/forgot-password",method:"POST",body:JSON.stringify(n)})).then((function(e){L.a.success({message:"Platform-Coordinator",description:"Link has send in your email"})})).catch((function(e){400===e.statusCode?L.a.error({message:"Platform-Coordinator",description:"Your email is incorrect. Please try again!"}):L.a.error({message:"Platform-Coordinator",description:"Sorry! Something went wrong. Please try again!"})}))}var n}))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return l.a.createElement(R.a,{onSubmit:this.handleSubmit,className:"login-form"},l.a.createElement($,null,e("email",{rules:[{required:!0,message:"Please input your email!"}]})(l.a.createElement(Y.a,{prefix:l.a.createElement(W.a,{type:"mail"}),size:"large",name:"email",placeholder:"Email"}))),l.a.createElement($,null,l.a.createElement(U.a,{type:"primary",htmlType:"submit",size:"large",className:"login-form-button"},"Send"),l.a.createElement(d.b,{to:"/login"},"Back ")))}}]),a}(n.Component),te=Z,ae=a(316),ne=a(27),le=a.n(ne),re=a(28),oe=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).saveAsExcelBiz=Object(g.a)(h.a.mark((function t(){var a,n,l,r,o,i,c,s,u,m;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new le.a.Workbook,n=a.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=["Name","Amount"],1,o=e.props.biz,i=o.filter((function(t){return t.create===e.props.mbiz})),c=i.sort((function(e,t){return t-e})).slice(0,5),n.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},c.map((function(e,t){return l.push([e.name,e.amount]),null})),(s=n.addRow(["Top Pledging Businesses-month "+e.props.mbiz])).alignment={vertical:"middle",horizontal:"center"},n.mergeCells("A1:B1"),s.font={bold:!0},n.addRow(),n.addRow(r).font={bold:!0},l.map((function(e,t){return n.addRow(e),null})),u="TopPledgingBusinesses-"+e.props.mbiz+".xlsx",t.next=19,a.xlsx.writeBuffer();case 19:m=t.sent,Object(re.saveAs)(new Blob([m]),u);case 21:case"end":return t.stop()}}),t)}))),e.saveAsExcelOrg=Object(g.a)(h.a.mark((function t(){var a,n,l,r,o,i,c,s,u,m;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new le.a.Workbook,n=a.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=["Name","Amount"],1,o=e.props.org,i=o.filter((function(t){return t.create===e.props.morg})),c=i.sort((function(e,t){return t-e})).slice(0,5),n.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},c.map((function(e,t){return l.push([e.name,e.amount]),null})),(s=n.addRow(["Top Receiving Organizations-month "+e.props.morg])).alignment={vertical:"middle",horizontal:"center"},n.mergeCells("A1:B1"),s.font={bold:!0},n.addRow(),n.addRow(r).font={bold:!0},l.map((function(e,t){return n.addRow(e),null})),u="TopReceivingOrganizations-"+e.props.morg+".xlsx",t.next=19,a.xlsx.writeBuffer();case 19:m=t.sent,Object(re.saveAs)(new Blob([m]),u);case 21:case"end":return t.stop()}}),t)}))),e.saveAsExcelInd=Object(g.a)(h.a.mark((function t(){var a,n,l,r,o,i,c,s,u,m;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new le.a.Workbook,n=a.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=["Name","Email","Amount"],1,o=e.props.ind,i=o.filter((function(t){return t.create===e.props.mind})),c=i.sort((function(e,t){return t-e})).slice(0,5),n.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},c.map((function(e,t){return l.push([e.name,e.email,e.amount]),null})),(s=n.addRow(["Top Purchasing Individuals-month "+e.props.mind])).alignment={vertical:"middle",horizontal:"center"},n.mergeCells("A1:C1"),s.font={bold:!0},n.addRow(),n.addRow(r).font={bold:!0},l.map((function(e,t){return n.addRow(e),null})),u="TopPurchasingIndividuals-"+e.props.mind+".xlsx",t.next=19,a.xlsx.writeBuffer();case 19:m=t.sent,Object(re.saveAs)(new Blob([m]),u);case 21:case"end":return t.stop()}}),t)}))),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-7 col-xs-12"},l.a.createElement("h4",null,"Top Pledging Businesses")),l.a.createElement("div",{className:"col-lg-5 col-xs-12 text-right"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcelBiz()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))),l.a.createElement("div",{className:"x_content table-responsive"},this.props.dataBiz))),l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-7 col-xs-12"},l.a.createElement("h4",null,"Top Receiving Organizations")),l.a.createElement("div",{className:"col-lg-5 col-xs-12 text-right"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcelOrg()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))),l.a.createElement("div",{className:"x_content table-responsive"},this.props.dataOrg))),l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-7 col-xs-12"},l.a.createElement("h4",null,"Top Purchasing Individuals")),l.a.createElement("div",{className:"col-lg-5 col-xs-12 text-right"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcelInd()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))),l.a.createElement("div",{className:"x_content table-responsive"},this.props.dataInd))))}}]),a}(n.Component),ie=a(75),ce=a.n(ie);function se(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),l=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[l,a,n].join("-")}function ue(e){var t=new Date(e);return t.getDate()+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]}var me=["#2980b9","#1ABB9C","#E74C3C","#B36BB6","#c4c4c4","#2d6187","#a8dda8"],de=["January","February","March","April","May","June","July","August","September","October","November","December"],pe=function(e,t){return(100*(e/t).toFixed(2)).toFixed(1)};function he(e){var t=e.indexOf(" ");return-1===t?e:e.substr(0,t)}var ge=a(1180),fe=ae.a.TabPane,ve=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){j().then((function(e){var t=[];e.map((function(e,a){var n;return n=0===Object.keys(e.organization).length?"Data is deleted":e.organization.organization.organizationName,t.push({name:n,amount:e.pledgeReceived,create:new Date(e.organization.created_at).getMonth()+1}),null})),n.setState({dataOrg:t})})).catch((function(e){})),C().then((function(e){var t=[];e.map((function(e,a){return t.push({name:e.individual.individual.name,email:e.individual.email,amount:e.toppedup,create:new Date(e.individual.created_at).getMonth()+1}),null})),n.setState({dataIndividual:t})})).catch((function(e){})),T().then((function(e){var t=[];e.map((function(e,a){return t.push({name:e.business.business.businessName,amount:e.pledged,create:new Date(e.business.created_at).getMonth()+1}),null})),n.setState({dataBiz:t})})).catch((function(e){}))},n.saveAsExcel=Object(g.a)(h.a.mark((function e(){var t,a,l,r,o,i,c,s,u,m,d,p,g,f,v,E,b,y;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new le.a.Workbook,a=t.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=[],o=[],i=1,c=["Name","Amount","Month"],s=["Name","Email","Amount","Month"],u=["Name","Amount","Month"],m=n.state,d=m.dataBiz,p=m.dataIndividual,g=m.dataOrg,console.log(d),a.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},d.map((function(e,t){return l.push([e.name,e.amount,e.create]),null})),p.map((function(e,t){return r.push([e.name,e.email,e.amount,e.create]),null})),g.map((function(e,t){return o.push([e.name,e.amount,e.create]),null})),f=a.addRow(["Top Pledging Businesses-"+(new Date).getFullYear()]),a.mergeCells("A"+i+":C"+i),i+=1,f.font={bold:!0},f.alignment={vertical:"middle",horizontal:"center"},a.addRow(c).font={bold:!0},i+=1,l.map((function(e,t){return a.addRow(e),i+=1,null})),a.addRow(),i+=1,v=a.addRow(["Top Purchasing Individuals-"+(new Date).getFullYear()]),a.mergeCells("A"+i+":D"+i),i+=1,v.font={bold:!0},v.alignment={vertical:"middle",horizontal:"center"},a.addRow(s).font={bold:!0},i+=1,r.map((function(e,t){return a.addRow(e),i+=1,null})),a.addRow(),i+=1,E=a.addRow(["Top Receiving Organizations-"+(new Date).getFullYear()]),a.mergeCells("A"+i+":C"+i),i+=1,E.font={bold:!0},E.alignment={vertical:"middle",horizontal:"center"},a.addRow(u).font={bold:!0},o.map((function(e,t){return a.addRow(e),null})),b="MonthlyReport-"+(new Date).getFullYear()+".xlsx",e.next=42,t.xlsx.writeBuffer();case 42:y=e.sent,Object(re.saveAs)(new Blob([y]),b);case 44:case"end":return e.stop()}}),e)}))),n.state={dataOrg:[],dataIndividual:[],dataBiz:[],year:(new Date).getFullYear()},n}return Object(c.a)(a,[{key:"onChange",value:function(e,t){console.log(e,t)}},{key:"renderTableOrg",value:function(e){if(0===this.state.dataOrg.length)return l.a.createElement(ge.a,{active:!0});var t=0,a=this.state.dataOrg.filter((function(t){return t.create===e})).sort((function(e,t){return t-e})).slice(0,5).map((function(e,a){var n=e.name,r=e.amount;return t+=r,l.a.createElement("tr",{key:a},l.a.createElement("td",null,n),l.a.createElement("td",null,r.toLocaleString(void 0,{minimumFractionDigits:0})))})),n=t.toLocaleString(void 0,{minimumFractionDigits:0});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,a,l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,n))))}},{key:"renderTableIndividual",value:function(e){if(0===this.state.dataIndividual.length)return l.a.createElement(ge.a,{active:!0});var t=0,a=this.state.dataIndividual.filter((function(t){return t.create===e})).sort((function(e,t){return t-e})).slice(0,5).map((function(e,a){var n=e.name,r=e.email,o=e.amount;return t+=o,l.a.createElement("tr",{key:a},l.a.createElement("td",null,l.a.createElement("a",{href:"mailto:"+r},he(n))),l.a.createElement("td",null,o.toLocaleString(void 0,{minimumFractionDigits:0})))})),n=t.toLocaleString(void 0,{minimumFractionDigits:0});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,a,l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,n))))}},{key:"renderTableBiz",value:function(e){if(0===this.state.dataBiz.length)return l.a.createElement(ge.a,{active:!0});var t=0,a=this.state.dataBiz.filter((function(t){return t.create===e})).sort((function(e,t){return t-e})).slice(0,5).map((function(e,a){var n=e.name,r=e.amount;return t+=r,l.a.createElement("tr",{key:a},l.a.createElement("td",null,n),l.a.createElement("td",null,r.toLocaleString(void 0,{minimumFractionDigits:0})))})),n=t.toLocaleString(void 0,{minimumFractionDigits:0});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,a,l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,n))))}},{key:"renderTabPane",value:function(){var e=this;return de.map((function(t,a){return l.a.createElement(fe,{tab:t,key:a+1},l.a.createElement(oe,{dataBiz:e.renderTableBiz(a+1),biz:e.state.dataBiz,mbiz:a+1,dataOrg:e.renderTableOrg(a+1),org:e.state.dataOrg,morg:a+1,dataInd:e.renderTableIndividual(a+1),ind:e.state.dataIndividual,mind:a+1}))}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 col-xs-12"},l.a.createElement("h4",null,"Monthly Reports")),l.a.createElement("div",{className:"col-lg-6 col-xs-12 text-right"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8 col-xs-12"}),l.a.createElement("div",{className:"col-lg-4 col-xs-12"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcel()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))))),l.a.createElement("div",{className:"x_title"},l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content"},l.a.createElement(ae.a,{defaultActiveKey:"1"},this.renderTabPane())))}}]),a}(n.Component),Ee=a(46),be=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).renderChart=function(e,t){var a=[],l=[],r=[],o=[],i=[],c=[],s=[],u=[];(function(e,t){return b({url:f+"/reportings/transactions/timebyamount?_endSpan="+t+"&_startSpan="+e+"&timetype=UNIQDATEMONTHYEAR",method:"GET"})})(e,t).then((function(e){n.setState({loading:!0}),e.reverse().map((function(e,t){return a.push(ue(e.time)),e.summary.map((function(e,t){return"FEE"===e.type?l.push(e.fiatAmount):"WITHDRAW"===e.type?r.push(e.fiatAmount):"TOPUP"===e.type?o.push(e.amount):"SPENT"===e.type?i.push(e.amount):"TRANSFER"===e.type?s.push(e.amount):"PLEDGE"===e.type&&c.push(e.amount),null})),l.length!==t+1&&l.push(0),r.length!==t+1&&r.push(0),o.length!==t+1&&o.push(0),i.length!==t+1&&i.push(0),s.length!==t+1&&s.push(0),c.length!==t+1&&c.push(0),null}));var t=l.filter((function(e){return 0!==e})),m=r.filter((function(e){return 0!==e})),d=o.filter((function(e){return 0!==e})),p=i.filter((function(e){return 0!==e})),h=s.filter((function(e){return 0!==e})),g=c.filter((function(e){return 0!==e}));0!==t.length&&u.push({label:"Fee",backgroundColor:me[0],data:l}),0!==m.length&&u.push({label:"Withdraw",backgroundColor:me[1],data:r}),0!==d.length&&u.push({label:"Top Up",backgroundColor:me[2],data:o}),0!==p.length&&u.push({label:"Spent",backgroundColor:me[3],data:i}),0!==h.length&&u.push({label:"Transfer",backgroundColor:me[4],data:s}),0!==g.length&&u.push({label:"Pledge",backgroundColor:me[5],data:c}),n.setState({label:a})})).catch((function(e){})),n.setState({data:{labels:a,datasets:u},loading:!1})},n.setGradientColor=function(e,t){var a=e.getContext("2d").createLinearGradient(0,0,600,550);return a.addColorStop(0,t),a.addColorStop(.95,"rgba(133,122,144,0.5)"),a},n.getChartData=function(e){var t=n.state.data;if(t.datasets){var a=me;t.datasets.forEach((function(e,t){e.backgroundColor=a[t],e.borderColor="white",e.borderWidth=2}))}return t},n.saveAsExcel=Object(g.a)(h.a.mark((function e(){var t,a,l,r,o,i,c,s,u,m;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new le.a.Workbook,a=t.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=[""],o=n.state.data,a.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},o.labels.map((function(e,t){return r.push(e),null})),o.datasets.map((function(e,t){var a=[];return a.push(e.label),e.data.map((function(e,t){return a.push(e),null})),l.push(a),null})),a.addRow(r).font={bold:!0},l.map((function(e,t){return a.addRow(e),null})),i=new Date,c=[new Date(i.getFullYear(),i.getMonth(),1),new Date(i.getFullYear(),i.getMonth()+1,0)],s=null!==n.state.date?n.state.date:c,u="PlatformActivity-"+s+".xlsx",e.next=16,t.xlsx.writeBuffer();case 16:m=e.sent,Object(re.saveAs)(new Blob([m]),u);case 18:case"end":return e.stop()}}),e)}))),n.displayChart=function(){return n.state.loading?l.a.createElement(Ee.Line,{options:{responsive:!0},data:n.getChartData}):l.a.createElement(ge.a,{active:!0})},n.state={data:{},label:[],date:null,check:null,loading:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=new Date,t=se(new Date(e.getFullYear(),e.getMonth(),1)),a=se(new Date(e.getFullYear(),e.getMonth()+1,0));this.renderChart(t,a)}},{key:"componentDidUpdate",value:function(e,t){if(t.date!==this.props.date){this.setState({date:this.props.date});var a=this.props.date[0]._d,n=this.props.date[1]._d;this.renderChart(a,n)}}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-9"}),l.a.createElement("div",{className:"col-lg-3 col-xs-12"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcel()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))),this.displayChart())}}]),a}(n.Component),ye=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=new Date,t=se(new Date(e.getFullYear(),e.getMonth(),1)),a=se(new Date(e.getFullYear(),e.getMonth()+1,0)),l=[],r=[],o=[],i=[];O(t,a).then((function(e){e.map((function(e,t){return"FEE"===e.type&&(o.push(me[0]),l.push(e.type),r.push(e.fiatAmount),i.push({data:e.fiatAmount,label:e.type})),"WITHDRAW"===e.type&&(o.push(me[1]),l.push(e.type),r.push(e.fiatAmount),i.push({data:e.fiatAmount,label:e.type})),"TOPUP"===e.type&&(o.push(me[2]),l.push(e.type),r.push(e.amount),i.push({data:e.amount,label:e.type})),"SPENT"===e.type&&(o.push(me[3]),l.push(e.type),r.push(e.amount),i.push({data:e.amount,label:e.type})),"TRANSFER"===e.type&&(o.push(me[4]),l.push(e.type),r.push(e.amount),i.push({data:e.amount,label:e.type})),"PLEDGE"===e.type&&(o.push(me[5]),l.push(e.type),r.push(e.amount),i.push({data:e.amount,label:e.type})),null})),n.setState({data:{labels:l,datasets:[{backgroundColor:o,data:r}]},exports:i})})).catch((function(e){}))},n.saveAsExcel=Object(g.a)(h.a.mark((function e(){var t,a,l,r,o,i,c,s,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new le.a.Workbook,a=t.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=[],o=n.state.exports,a.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},console.log(o),o.map((function(e,t){return l.push(e.label),r.push(e.data),null})),a.addRow(l).font={bold:!0},a.addRow(r),i=new Date,c=[new Date(i.getFullYear(),i.getMonth(),1),new Date(i.getFullYear(),i.getMonth()+1,0)],s="ThisMonthDougnut-"+c+".xlsx",e.next=15,t.xlsx.writeBuffer();case 15:u=e.sent,Object(re.saveAs)(new Blob([u]),s);case 17:case"end":return e.stop()}}),e)}))),n.renderBar=function(){var e=n.state.data;return console.log(e),null===e?l.a.createElement(ge.a,{active:!0}):0===e.labels.length?l.a.createElement("h3",null,"This month is empty"):l.a.createElement(Ee.Doughnut,{options:{responsive:!0},height:250,data:n.state.data})},n.state={data:null,exports:{}},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("h4",null,"This Month")),l.a.createElement("div",{className:"col-lg-6 col-xs-12 text-right"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcel()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))),l.a.createElement("div",{className:"x_title"},l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"col-md-12 col-sm-12"},this.renderBar()))}}]),a}(n.Component),Ne=(n.Component,function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={data:{datas:[]}},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[];T().then((function(a){a.map((function(e,a){return t.push({name:e.business.business.businessName,amount:e.pledged}),null}));var n=t.sort((function(e,t){return t-e})).slice(0,5);e.setState({data:{datas:n}})})).catch((function(e){}))}},{key:"renderTableData",value:function(){if(0===this.state.data.datas.length)return l.a.createElement(ge.a,{active:!0});var e=0,t=this.state.data.datas.map((function(t,a){var n=t.name,r=t.amount;return e+=r,l.a.createElement("tr",{key:a},l.a.createElement("td",null,n),l.a.createElement("td",null,r.toLocaleString(void 0,{minimumFractionDigits:0})))})),a=e.toLocaleString(void 0,{minimumFractionDigits:0});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,t,l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,a))))}},{key:"render",value:function(){return l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"x_title"},l.a.createElement("h4",null,"Top Pledging Businesses"),l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content table-responsive"},this.renderTableData()))}}]),a}(n.Component)),we=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=[];b({url:f+"/reportings/transactions/role/business",method:"GET"}).then((function(t){t.map((function(t,a){return e.push({name:t.business.business.businessName,pledge:t.pledgeFrom,spent:t.spentTo,balance:t.balance.token}),null}));var a=e.sort((function(e,t){return t-e})).slice(0,5);n.setState({data:{datas:a}})})).catch((function(e){}))},n.saveAsExcel=Object(g.a)(h.a.mark((function e(){var t,a,l,r,o,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new le.a.Workbook,a=t.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=["Name","Pledged From","Spent To","Balance Token"],o=n.state.data,a.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},o.datas.map((function(e,t){return l.push([e.name,e.pledge,e.spent,e.balance]),null})),a.addRow(r).font={bold:!0},l.map((function(e,t){return a.addRow(e),null})),i="Pledge vs Spending-"+de[(new Date).getMonth()]+".xlsx",e.next=12,t.xlsx.writeBuffer();case 12:c=e.sent,Object(re.saveAs)(new Blob([c]),i);case 14:case"end":return e.stop()}}),e)}))),n.state={data:{datas:[]}},n}return Object(c.a)(a,[{key:"renderTableData",value:function(){if(0===this.state.data.datas.length)return l.a.createElement(ge.a,{active:!0});var e=this.state.data.datas.map((function(e,t){var a=e.name,n=e.pledge,r=e.spent,o=e.balance;return l.a.createElement("tr",{key:t},l.a.createElement("td",null,a),l.a.createElement("td",null,n.toLocaleString(void 0,{minimumFractionDigits:0})),l.a.createElement("td",null,r.toLocaleString(void 0,{minimumFractionDigits:0})),l.a.createElement("td",null,o.toLocaleString(void 0,{minimumFractionDigits:0})))}));return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Pledged From"),l.a.createElement("th",null,"Spent To"),l.a.createElement("th",null,"Balance Token"))),l.a.createElement("tbody",null,e))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8 col-xs-12"},l.a.createElement("h4",null,"Pledge vs Spending")),l.a.createElement("div",{className:"col-lg-4 col-xs-12 text-right"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcel()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))),l.a.createElement("div",{className:"x_title"},l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content table-responsive"},this.renderTableData()))}}]),a}(n.Component);function xe(e){var t,a=e.title,n=e.body,r=e.sender,o=e.createdAt;return l.a.createElement("li",null,l.a.createElement("div",{className:"block"},l.a.createElement("div",{className:"block_content"},l.a.createElement("h2",{className:"title"},a)," ",n,l.a.createElement("div",{className:"byline"},l.a.createElement("span",null,(t=o,ce()().startOf(t).fromNow()))," By - ",r))))}n.Component,n.Component;var Oe=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=[];j().then((function(t){t.map((function(t,a){var n;return n=0===Object.keys(t.organization).length?"Data is deleted":t.organization.organization.organizationName,e.push({name:n,amount:t.pledgeReceived}),null}));var a=e.sort((function(e,t){return t-e})).slice(0,5);n.setState({data:{datas:a}})})).catch((function(e){}))},n.state={data:{datas:[]}},n}return Object(c.a)(a,[{key:"renderTableData",value:function(){if(0===this.state.data.datas.length)return l.a.createElement(ge.a,{active:!0});var e=0,t=this.state.data.datas.map((function(t,a){var n=t.name,r=t.amount;return e+=r,l.a.createElement("tr",{key:a},l.a.createElement("td",null,n),l.a.createElement("td",null,r.toLocaleString(void 0,{minimumFractionDigits:0})))})),a=e.toLocaleString(void 0,{minimumFractionDigits:0});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,t,l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,a))))}},{key:"render",value:function(){return l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"x_title"},l.a.createElement("h4",null,"Top Receiving Organizations"),l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content table-responsive"},this.renderTableData()))}}]),a}(n.Component),Se=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=[];b({url:f+"/reportings/transactions/role/organization",method:"GET"}).then((function(t){t.map((function(t,a){return e.push({name:t.organization.organization.organizationName,goal:parseInt(t.organization.organization.goal),contribute:t.topupFrom,balance:t.balance.token}),null}));var a=e.sort((function(e,t){return t-e})).slice(0,5);n.setState({data:{datas:a}})})).catch((function(e){}))},n.saveAsExcel=Object(g.a)(h.a.mark((function e(){var t,a,l,r,o,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new le.a.Workbook,a=t.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=["Name","Goal","Contribution","Balance"],o=n.state.data,a.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},o.datas.map((function(e,t){return l.push([e.name,e.goal,e.contribute,e.balance]),null})),a.addRow(r).font={bold:!0},l.map((function(e,t){return a.addRow(e),null})),i="Goal vs Contribution-"+de[(new Date).getMonth()]+".xlsx",e.next=12,t.xlsx.writeBuffer();case 12:c=e.sent,Object(re.saveAs)(new Blob([c]),i);case 14:case"end":return e.stop()}}),e)}))),n.state={data:{datas:[]}},n}return Object(c.a)(a,[{key:"renderTableData",value:function(){if(0===this.state.data.datas.length)return l.a.createElement(ge.a,{active:!0});var e=this.state.data.datas.map((function(e,t){var a=e.name,n=e.goal,r=e.contribute,o=e.balance;return l.a.createElement("tr",{key:t},l.a.createElement("td",null,a),l.a.createElement("td",null,n.toLocaleString(void 0,{minimumFractionDigits:0})),l.a.createElement("td",null,r.toLocaleString(void 0,{minimumFractionDigits:0})),l.a.createElement("td",null,o.toLocaleString(void 0,{minimumFractionDigits:0})))}));return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Goal"),l.a.createElement("th",null,"Contributions"),l.a.createElement("th",null,"Balance"))),l.a.createElement("tbody",null,e))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8 col-xs-12"},l.a.createElement("h4",null,"Goal vs Contribution")),l.a.createElement("div",{className:"col-lg-4 col-xs-12 text-right"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcel()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))),l.a.createElement("div",{className:"x_title"},l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content table-responsive"},this.renderTableData()))}}]),a}(n.Component),ke=(n.Component,n.Component,function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=[];C().then((function(t){t.map((function(t,a){return e.push({name:t.individual.individual.name,email:t.individual.email,amount:t.toppedup}),null}));var a=e.sort((function(e,t){return t-e})).slice(0,5);n.setState({data:{datas:a}})})).catch((function(e){}))},n.state={data:{datas:[]}},n}return Object(c.a)(a,[{key:"renderTableData",value:function(){if(0===this.state.data.datas.length)return l.a.createElement(ge.a,{active:!0});var e=0,t=this.state.data.datas.map((function(t,a){var n=t.name,r=t.email,o=t.amount;return e+=o,l.a.createElement("tr",{key:a},l.a.createElement("td",null,l.a.createElement("a",{href:"mailto:"+r},he(n))),l.a.createElement("td",null,o.toLocaleString(void 0,{minimumFractionDigits:0})))})),a=e.toLocaleString(void 0,{minimumFractionDigits:0});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,t,l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,a))))}},{key:"render",value:function(){return l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"x_title"},l.a.createElement("h4",null,"Top Purchasing Individuals"),l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content table-responsive"},this.renderTableData()))}}]),a}(n.Component)),Te=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=[];b({url:f+"/reportings/transactions/role/individual",method:"GET"}).then((function(t){t.map((function(t,a){return e.push({name:t.individual.individual.name,topup:t.topup,spent:t.spent,balance:t.balance.token}),null}));var a=e.sort((function(e,t){return t-e})).slice(0,5);n.setState({data:{datas:a}})})).catch((function(e){}))},n.saveAsExcel=Object(g.a)(h.a.mark((function e(){var t,a,l,r,o,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new le.a.Workbook,a=t.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=["Name","Purchased","Spent","Balance"],o=n.state.data,a.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},o.datas.map((function(e,t){return l.push([e.name,e.topup,e.spent,e.balance]),null})),a.addRow(r).font={bold:!0},l.map((function(e,t){return a.addRow(e),null})),i="Purchased vs Spent-"+de[(new Date).getMonth()]+".xlsx",e.next=12,t.xlsx.writeBuffer();case 12:c=e.sent,Object(re.saveAs)(new Blob([c]),i);case 14:case"end":return e.stop()}}),e)}))),n.state={data:{datas:[]}},n}return Object(c.a)(a,[{key:"renderTableData",value:function(){if(0===this.state.data.datas.length)return l.a.createElement(ge.a,{active:!0});var e=this.state.data.datas.map((function(e,t){var a=e.name,n=e.topup,r=e.spent,o=e.balance;return l.a.createElement("tr",{key:t},l.a.createElement("td",null,a),l.a.createElement("td",null,n.toLocaleString(void 0,{minimumFractionDigits:0})),l.a.createElement("td",null,r.toLocaleString(void 0,{minimumFractionDigits:0})),l.a.createElement("td",null,o.toLocaleString(void 0,{minimumFractionDigits:0})))}));return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Purchased"),l.a.createElement("th",null,"Spent"),l.a.createElement("th",null,"Balance"))),l.a.createElement("tbody",null,e))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8 col-xs-12"},l.a.createElement("h4",null,"Purchased vs Spent")),l.a.createElement("div",{className:"col-lg-4  col-xs-12 text-right"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcel()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))),l.a.createElement("div",{className:"x_title"},l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content table-responsive"},this.renderTableData()))}}]),a}(n.Component),je=(n.Component,function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e,t=[];(e=5,b({url:f+"/notifications?_limit="+e+"&_sort=created_at:DESC",method:"GET"})).then((function(e){e.map((function(e,a){return t.push({title:e.data.title,body:e.data.body,sender:e.sender.username,createdAt:e.created_at}),null})),n.setState({data:{datas:t}})})).catch((function(e){}))},n.saveAsExcel=Object(g.a)(h.a.mark((function e(){var t,a,l,r,o,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new le.a.Workbook,a=t.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=["Title","Body","Sender","Create At"],o=n.state.data,a.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},o.datas.map((function(e,t){return l.push([e.title,e.body,e.sender,e.createdAt]),null})),a.addRow(r).font={bold:!0},l.map((function(e,t){return a.addRow(e),null})),e.next=11,t.xlsx.writeBuffer();case 11:i=e.sent,Object(re.saveAs)(new Blob([i]),"Top 5 Recent Notifications.xlsx");case 13:case"end":return e.stop()}}),e)}))),n.state={data:{datas:[]}},n}return Object(c.a)(a,[{key:"renderTableData",value:function(){if(0===this.state.data.datas.length)return l.a.createElement(ge.a,{active:!0});var e=this.state.data.datas.map((function(e,t){var a=e.title,n=e.body,r=e.sender,o=e.createdAt;return l.a.createElement(xe,{key:t,title:a,body:n,sender:r,createdaAt:o})}));return l.a.createElement("div",{className:"dashboard-widget-content"},l.a.createElement("ul",{className:"list-unstyled timeline widget"},e))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-10"},l.a.createElement("h4",null,"Recent Notifications")),l.a.createElement("div",{className:"col-lg-2 col-xs-12 text-right"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcel()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))),l.a.createElement("div",{className:"x_title"},l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content"},this.renderTableData()))}}]),a}(n.Component)),Ce=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).renderComponent=function(){if(null===e.props.percentage)return l.a.createElement(ge.a,{active:!0,paragraph:{rows:1}});var t,a=e.props,n=a.icon,r=a.title,o=a.data,i=a.all;return t=e.props.percentage>=0?function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"green"},l.a.createElement("i",{className:"fa fa-sort-asc"}),e.props.percentage,"%")," ","From last month")}:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"red"},l.a.createElement("i",{className:"fa fa-sort-desc"}),e.props.percentage,"%")," ","From last month")},l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"count_top"},l.a.createElement("i",{className:n})," ",r),l.a.createElement("div",{className:"count"},i),l.a.createElement("span",{className:"count_bottom"},o," In this month"),l.a.createElement("br",null),l.a.createElement("span",{className:"count_bottom"},t()))},e}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"col-md-2 col-sm-4 col-xs-6 tile_stats_count"},this.renderComponent())}}]),a}(n.Component),Pe=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={allIndividual:0,allBusiness:0,allOrganization:0,allPledge:0,allTopup:0,allSpent:0,totalIndividual:0,totalBusiness:0,totalOrganization:0,totalPledge:0,totalTopup:0,totalSpent:0,percentTotalIndividual:null,percentTotalBusiness:null,percentTotalOrganization:null,percentTotalPledge:null,percentTotalTopup:null,percentTotalSpent:null},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new Date,a=se(new Date(t.getFullYear(),t.getMonth(),1)),n=se(new Date(t.getFullYear(),t.getMonth()+1,0)),l=se(new Date(t.getFullYear(),t.getMonth()-1,1)),r=se(new Date(t.getFullYear(),t.getMonth()-1+1,0));w().then((function(t){console.log(t),e.setState({allIndividual:t.individualCount,allBusiness:t.businessCount,allOrganization:t.organizationCount})})).catch((function(e){console.log(e)})),N(a,n).then((function(t){e.setState({totalIndividual:t.individualCount,totalBusiness:t.businessCount,totalOrganization:t.organizationCount}),N(l,r).then((function(t){var a=e.state,n=a.totalIndividual,r=a.totalBusiness,o=a.totalOrganization,i=a.allIndividual,c=a.allBusiness,s=a.allOrganization;e.setState({percentTotalIndividual:pe(n-t.individualCount,i),percentTotalBusiness:pe(r-t.businessCount,c),percentTotalOrganization:pe(o-t.organizationCount,s)}),console.log(t+"Pada tanggal"+l)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),S().then((function(t){t.map((function(t){return"PLEDGE"===t.type?e.setState({allPledge:t.amount}):"TOPUP"===t.type?e.setState({allTopup:t.amount}):"SPENT"===t.type&&e.setState({allSpent:t.amount}),null}))})).catch((function(e){console.log(e)})),O(a,n).then((function(t){console.log(t);var a={totalPledge:0,totalTopup:0,totalSpent:0};t.map((function(t){var n=t.amount.toLocaleString(void 0,{minimumFractionDigits:0});return"PLEDGE"===t.type?(e.setState({totalPledge:n}),a.totalPledge=t.amount):"TOPUP"===t.type?(e.setState({totalTopup:n}),a.totalTopup=t.amount):"SPENT"===t.type&&(e.setState({totalSpent:n}),a.totalSpent=t.amount),null})),O(l,r).then((function(t){console.log(t);var n=a.totalPledge,l=a.totalTopup,r=a.totalSpent;if(0===t.length)e.setState({percentTotalPledge:pe(100,100)}),e.setState({percentTotalTopup:pe(100,100)}),e.setState({percentTotalSpent:pe(100,100)});else{var o=e.state,i=o.allPledge,c=o.allTopup,s=o.allSpent;t.map((function(t){return"PLEDGE"===t.type?e.setState({percentTotalPledge:pe(n-t.amount,i)}):e.setState({percentTotalPledge:pe(n-0,i)}),"TOPUP"===t.type?e.setState({percentTotalTopup:pe(l-t.amount,c)}):e.setState({percentTotalTopup:pe(l-0,c)}),"SPENT"===t.type?e.setState({percentTotalSpent:pe(r-t.amount,s)}):e.setState({percentTotalSpent:pe(r-0,s)}),null}))}})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.allIndividual,a=e.allBusiness,n=e.allOrganization,r=e.allPledge,o=e.allTopup,i=e.allSpent,c=e.totalIndividual,s=e.totalBusiness,u=e.totalOrganization,m=e.totalPledge,d=e.totalTopup,p=e.totalSpent,h=e.percentTotalBusiness,g=e.percentTotalIndividual,f=e.percentTotalOrganization,v=e.percentTotalPledge,E=e.percentTotalSpent,b=e.percentTotalTopup;return l.a.createElement("div",{className:"row tile_count"},l.a.createElement(Ce,{icon:"fa fa-user",title:"Total Individuals",data:c,all:t,percentage:g}),l.a.createElement(Ce,{icon:"fa fa-user",title:"Total Businesses",data:s,all:a,percentage:h}),l.a.createElement(Ce,{icon:"fa fa-user",title:"Total Organizations",data:u,all:n,percentage:f}),l.a.createElement(Ce,{icon:"fa fa-money",title:"Total Pledged",data:m,all:r.toLocaleString(void 0,{minimumFractionDigits:0}),percentage:v}),l.a.createElement(Ce,{icon:"fa fa-money",title:"Total Topup",data:d,all:o.toLocaleString(void 0,{minimumFractionDigits:0}),percentage:b}),l.a.createElement(Ce,{icon:"fa fa-money",title:"Total Spent",data:p,all:i.toLocaleString(void 0,{minimumFractionDigits:0}),percentage:E}))}}]),a}(n.Component),De=a(1173),ze=De.a.RangePicker,Ae=new Date,Ie=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeRange=function(e,t){n.setState({date:e})},n.onOkRange=function(e){console.log("onOk: ",e)},n.state={date:null},n}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"right_col",role:"main"},l.a.createElement(Pe,null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},l.a.createElement("div",{className:"dashboard_graph"},l.a.createElement("div",{className:"row x_title"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",null,"Platform Activity ",l.a.createElement("br",null),l.a.createElement("small",null,"Pledged vs Purchased"))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{id:"reportrange",className:"pull-right",style:{background:"#fff",padding:"5px 10px"}},l.a.createElement(ze,{defaultValue:[ce()(new Date(Ae.getFullYear(),Ae.getMonth(),1),"DD-MM-YYYY"),ce()(new Date(Ae.getFullYear(),Ae.getMonth()+1,0),"DD-MM-YYYY")],format:"DD-MM-YYYY",onChange:this.onChangeRange,onOk:this.onOkRange})))),l.a.createElement("div",{className:"col-md-8 col-sm-12 col-xs-12"},l.a.createElement(be,{date:this.state.date})),l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12 bg-white "},l.a.createElement(ye,{date:this.state.date})),l.a.createElement("div",{className:"clearfix"})))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},l.a.createElement(Ne,null)),l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},l.a.createElement(Oe,null)),l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},l.a.createElement(ke,null))),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},l.a.createElement(we,null)),l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},l.a.createElement(Se,null)),l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},l.a.createElement(Te,null))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},l.a.createElement(je,null))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},l.a.createElement(ve,null))))}}]),a}(n.Component),_e=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).saveAsExcelPledge=Object(g.a)(h.a.mark((function t(){var a,n,l,r,o,i,c,s,u,m;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new le.a.Workbook,n=a.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=["Name","Amount"],1,o=e.props.biz,i=o.filter((function(t){return t.create===e.props.mbiz})),c=i.sort((function(e,t){return t-e})).slice(0,5),n.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},c.map((function(e,t){return l.push([e.name,e.amount]),null})),(s=n.addRow(["My Pledges to Organizations-month "+e.props.mbiz])).alignment={vertical:"middle",horizontal:"center"},n.mergeCells("A1:B1"),s.font={bold:!0},n.addRow(),n.addRow(r).font={bold:!0},l.map((function(e,t){return n.addRow(e),null})),u="MyPledgestoOrganizations-"+e.props.mbiz+".xlsx",t.next=19,a.xlsx.writeBuffer();case 19:m=t.sent,Object(re.saveAs)(new Blob([m]),u);case 21:case"end":return t.stop()}}),t)}))),e.saveAsExcelSpent=Object(g.a)(h.a.mark((function t(){var a,n,l,r,o,i,c,s,u,m;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new le.a.Workbook,n=a.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=["Name","Amount"],1,o=e.props.org,i=o.filter((function(t){return t.create===e.props.morg})),c=i.sort((function(e,t){return t-e})).slice(0,5),n.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},c.map((function(e,t){return l.push([e.name,e.amount]),null})),(s=n.addRow(["My Top Purchasing Individuals-month "+e.props.morg])).alignment={vertical:"middle",horizontal:"center"},n.mergeCells("A1:B1"),s.font={bold:!0},n.addRow(),n.addRow(r).font={bold:!0},l.map((function(e,t){return n.addRow(e),null})),u="MyTopPurchasingIndividuals-"+e.props.morg+".xlsx",t.next=19,a.xlsx.writeBuffer();case 19:m=t.sent,Object(re.saveAs)(new Blob([m]),u);case 21:case"end":return t.stop()}}),t)}))),e.saveAsExcelOrg=Object(g.a)(h.a.mark((function t(){var a,n,l,r,o,i,c,s,u,m;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new le.a.Workbook,n=a.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=["Name","Amount"],1,o=e.props.ind,i=o.filter((function(t){return t.create===e.props.mind})),c=i.sort((function(e,t){return t-e})).slice(0,5),n.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},c.map((function(e,t){return l.push([e.name,e.amount]),null})),(s=n.addRow(["Top Receiving Organizations-month "+e.props.mind])).alignment={vertical:"middle",horizontal:"center"},n.mergeCells("A1:C1"),s.font={bold:!0},n.addRow(),n.addRow(r).font={bold:!0},l.map((function(e,t){return n.addRow(e),null})),u="TopReceivingOrganizations-"+e.props.mind+".xlsx",t.next=19,a.xlsx.writeBuffer();case 19:m=t.sent,Object(re.saveAs)(new Blob([m]),u);case 21:case"end":return t.stop()}}),t)}))),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-7 col-xs-12"},l.a.createElement("h4",null,"My Pledges to Organizations")),l.a.createElement("div",{className:"col-lg-5 col-xs-12 text-right"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcelPledge()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))),l.a.createElement("div",{className:"x_content table-responsive"},this.props.dataBiz))),l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-7 col-xs-12"},l.a.createElement("h4",null,"My Top Purchasing Individuals")),l.a.createElement("div",{className:"col-lg-5 col-xs-12 text-right"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcelSpent()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))),l.a.createElement("div",{className:"x_content table-responsive"},this.props.dataOrg))),l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-7 col-xs-12"},l.a.createElement("h4",null,"Top Receiving Organizations")),l.a.createElement("div",{className:"col-lg-5 col-xs-12 text-right"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcelOrg()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))),l.a.createElement("div",{className:"x_content table-responsive"},this.props.dataInd))))}}]),a}(n.Component),Fe=ae.a.TabPane,Be=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){A(5).then((function(e){var t=[];e.map((function(e,a){return t.push({name:e.to.organization.organizationName,amount:e.pledgedTotal,create:new Date(e.to.created_at).getMonth()+1}),null})),n.setState({dataPledged:t})})).catch((function(e){})),z(5).then((function(e){var t=[];0===e.length?t.push({name:"DataIsempty"}):e.map((function(e,a){return t.push({name:e.from.individual.name,amount:e.spentTotal,create:new Date(e.from.created_at).getMonth()+1}),null})),n.setState({dataSpent:t})})).catch((function(e){})),j().then((function(e){var t=[];e.map((function(e,a){var n,l;return 0===Object.keys(e.organization).length?(n="Data is deleted",l=13):(n=e.organization.organization.organizationName,l=new Date(e.organization.organization.created_at).getMonth()+1),t.push({name:n,amount:e.pledgeReceived,create:l}),null})),n.setState({dataOrg:t})})).catch((function(e){}))},n.saveAsExcel=Object(g.a)(h.a.mark((function e(){var t,a,l,r,o,i,c,s,u,m,d,p,g,f,v,E,b,y;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new le.a.Workbook,a=t.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=[],o=[],i=1,c=["Name","Amount","Month"],s=["Name","Amount","Month"],u=["Name","Amount","Month"],m=n.state,d=m.dataPledged,p=m.dataSpent,g=m.dataOrg,a.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},d.map((function(e,t){return l.push([e.name,e.amount,e.create]),null})),p.map((function(e,t){return r.push([e.name,e.amount,e.create]),null})),g.map((function(e,t){return o.push([e.name,e.amount,e.create]),null})),f=a.addRow(["My Pledges to Organizations-"+(new Date).getFullYear()]),a.mergeCells("A"+i+":C"+i),i+=1,f.font={bold:!0},f.alignment={vertical:"middle",horizontal:"center"},a.addRow(c).font={bold:!0},i+=1,l.map((function(e,t){return a.addRow(e),i+=1,null})),a.addRow(),i+=1,v=a.addRow(["My Top Purchasing Individuals-"+(new Date).getFullYear()]),a.mergeCells("A"+i+":C"+i),i+=1,v.font={bold:!0},v.alignment={vertical:"middle",horizontal:"center"},a.addRow(s).font={bold:!0},i+=1,r.map((function(e,t){return a.addRow(e),i+=1,null})),a.addRow(),i+=1,E=a.addRow(["Top Receiving Organizations-"+(new Date).getFullYear()]),a.mergeCells("A"+i+":C"+i),i+=1,E.font={bold:!0},E.alignment={vertical:"middle",horizontal:"center"},a.addRow(u).font={bold:!0},o.map((function(e,t){return a.addRow(e),null})),b="MonthlyReport-"+(new Date).getFullYear()+".xlsx",e.next=41,t.xlsx.writeBuffer();case 41:y=e.sent,Object(re.saveAs)(new Blob([y]),b);case 43:case"end":return e.stop()}}),e)}))),n.state={dataPledged:[],dataSpent:[],dataOrg:[]},n}return Object(c.a)(a,[{key:"renderTablePledged",value:function(e){if(0===this.state.dataPledged.length)return l.a.createElement(ge.a,{active:!0});var t=0,a=this.state.dataPledged.filter((function(t){return t.create===e})).sort((function(e,t){return t-e})).slice(0,5).map((function(e,a){var n=e.name,r=e.amount;return t+=r,l.a.createElement("tr",{key:a},l.a.createElement("td",null,n),l.a.createElement("td",null,r.toLocaleString(void 0,{minimumFractionDigits:0})))})),n=t.toLocaleString(void 0,{minimumFractionDigits:0});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,a,l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,n))))}},{key:"renderTableSpent",value:function(e){if(0===this.state.dataSpent.length)return l.a.createElement(ge.a,{active:!0});var t,a=0,n=this.state.dataSpent.filter((function(t){return t.create===e})).sort((function(e,t){return t-e})).slice(0,5);t="DataIsempty"===this.state.dataSpent[0].name?function(){return l.a.createElement("tr",null,l.a.createElement("td",null,"Data is empty"),l.a.createElement("td",null))}:n.map((function(e,t){var n=e.name,r=e.amount;return a+=r,l.a.createElement("tr",{key:t},l.a.createElement("td",null,n),l.a.createElement("td",null,r.toLocaleString(void 0,{minimumFractionDigits:0})))}));var r=a.toLocaleString(void 0,{minimumFractionDigits:0});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,t,l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,r))))}},{key:"renderTableOrg",value:function(e){if(0===this.state.dataOrg.length)return l.a.createElement(ge.a,{active:!0});var t=0,a=this.state.dataOrg.filter((function(t){return t.create===e})).sort((function(e,t){return t-e})).slice(0,5).map((function(e,a){var n=e.name,r=e.amount;return t+=r,l.a.createElement("tr",{key:a},l.a.createElement("td",null,n),l.a.createElement("td",null,r.toLocaleString(void 0,{minimumFractionDigits:0})))})),n=t.toLocaleString(void 0,{minimumFractionDigits:0});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,a,l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,n))))}},{key:"renderTabPane",value:function(){var e=this;return de.map((function(t,a){return l.a.createElement(Fe,{tab:t,key:a+1},l.a.createElement(_e,{dataBiz:e.renderTablePledged(a+1),biz:e.state.dataPledged,mbiz:a+1,dataOrg:e.renderTableSpent(a+1),org:e.state.dataSpent,morg:a+1,dataInd:e.renderTableOrg(a+1),ind:e.state.dataOrg,mind:a+1}))}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 col-xs-12"},l.a.createElement("h4",null,"Monthly Reports")),l.a.createElement("div",{className:"col-lg-6 col-xs-12 text-right"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8 col-xs-12"}),l.a.createElement("div",{className:"col-lg-4 col-xs-12"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcel()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))))),l.a.createElement("div",{className:"x_title"},l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content"},l.a.createElement(ae.a,{defaultActiveKey:"1"},this.renderTabPane())))}}]),a}(n.Component),Re=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).renderChart=function(e,t,a){console.log(a);var l=[],r=[],o=[],i=[],c=[],s=[],u=[],m=[];x(e,t,a).then((function(e){console.log(e),n.setState({loading:!0}),e.reverse().map((function(e,t){return l.push(ue(e.time)),e.summary.map((function(e,t){return"FEE"===e.type?r.push(e.fiatAmount):"WITHDRAW"===e.type?o.push(e.fiatAmount):"TOPUP"===e.type?i.push(e.amount):"SPENT"===e.type?c.push(e.amount):"TRANSFER"===e.type?u.push(e.amount):"PLEDGE"===e.type&&s.push(e.amount),null})),r.length!==t+1&&r.push(0),o.length!==t+1&&o.push(0),i.length!==t+1&&i.push(0),c.length!==t+1&&c.push(0),u.length!==t+1&&u.push(0),s.length!==t+1&&s.push(0),null}));var t=c.filter((function(e){return 0!==e}));0!==s.filter((function(e){return 0!==e})).length&&m.push({label:"Pledged",backgroundColor:me[1],data:s}),0!==t.length&&m.push({label:"Received",backgroundColor:me[0],data:c}),n.setState({label:l})})).catch((function(e){})),n.setState({data:{labels:l,datasets:m},loading:!1})},n.setGradientColor=function(e,t){var a=e.getContext("2d").createLinearGradient(0,0,600,550);return a.addColorStop(0,t),a.addColorStop(.95,"rgba(133,122,144,0.5)"),a},n.getChartData=function(e){var t=n.state.data;if(t.datasets){var a=me;t.datasets.forEach((function(e,t){e.backgroundColor=a[t],e.borderColor="white",e.borderWidth=2}))}return t},n.saveAsExcel=Object(g.a)(h.a.mark((function e(){var t,a,l,r,o,i,c,s,u,m;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new le.a.Workbook,a=t.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=[""],o=n.state.data,a.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},o.labels.map((function(e,t){return r.push(e),null})),o.datasets.map((function(e,t){var a=[];return a.push(e.label),e.data.map((function(e,t){return a.push(e),null})),l.push(a),null})),a.addRow(r).font={bold:!0},l.map((function(e,t){return a.addRow(e),null})),i=new Date,c=[new Date(i.getFullYear(),i.getMonth(),1),new Date(i.getFullYear(),i.getMonth()+1,0)],s=null!==n.state.date?n.state.date:c,u="PlatformActivity-"+s+".xlsx",e.next=16,t.xlsx.writeBuffer();case 16:m=e.sent,Object(re.saveAs)(new Blob([m]),u);case 18:case"end":return e.stop()}}),e)}))),n.displayChart=function(){return n.state.loading?l.a.createElement(Ee.Line,{options:{responsive:!0},data:n.getChartData}):l.a.createElement(ge.a,{active:!0})},n.state={data:{},label:[],date:null,check:null,loading:!1,id:e.user.id},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=new Date,t=se(new Date(e.getFullYear(),e.getMonth(),1)),a=se(new Date(e.getFullYear(),e.getMonth()+1,0)),n=this.state.id;this.renderChart(t,a,n)}},{key:"componentDidUpdate",value:function(e,t){if(t.date!==this.props.date){this.setState({date:this.props.date});var a=this.props.date[0]._d,n=this.props.date[1]._d;this.renderChart(a,n)}}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-9"}),l.a.createElement("div",{className:"col-lg-3 col-xs-12"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcel()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))),this.displayChart())}}]),a}(n.Component),Me=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=new Date,t=se(new Date(e.getFullYear(),e.getMonth(),1)),a=se(new Date(e.getFullYear(),e.getMonth()+1,0)),l=[],r=[],o=[],i=[];O(t,a).then((function(e){e.map((function(e,t){return o.push(me[t]),"SPENT"===e.type&&(l.push("Received"),r.push(e.amount),i.push({data:e.amount,label:"Received"})),"PLEDGE"===e.type&&(l.push("Pledged"),r.push(e.amount),i.push({data:e.amount,label:"Pledged"})),null})),n.setState({data:{labels:l,datasets:[{backgroundColor:o,data:r}]},exports:i})})).catch((function(e){}))},n.saveAsExcel=Object(g.a)(h.a.mark((function e(){var t,a,l,r,o,i,c,s,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new le.a.Workbook,a=t.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=[],o=n.state.exports,a.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},console.log(o),o.map((function(e,t){return l.push(e.label),r.push(e.data),null})),a.addRow(l).font={bold:!0},a.addRow(r),i=new Date,c=[new Date(i.getFullYear(),i.getMonth(),1),new Date(i.getFullYear(),i.getMonth()+1,0)],s="ThisMonthDougnut-"+c+".xlsx",e.next=15,t.xlsx.writeBuffer();case 15:u=e.sent,Object(re.saveAs)(new Blob([u]),s);case 17:case"end":return e.stop()}}),e)}))),n.renderBar=function(){var e=n.state.data;return null===e?l.a.createElement(ge.a,{active:!0}):0===e.labels.length?l.a.createElement("h3",null,"This month is empty"):l.a.createElement(Ee.Doughnut,{options:{responsive:!0},height:250,data:n.state.data})},n.state={data:null,exports:{}},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("h4",null,"This Month")),l.a.createElement("div",{className:"col-lg-6 col-xs-12 text-right"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcel()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))),l.a.createElement("div",{className:"x_title"},l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"col-md-12 col-sm-12"},this.renderBar()))}}]),a}(n.Component),Le=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=[];A(5).then((function(t){console.log(t),t.map((function(t,a){return e.push({name:t.to.organization.organizationName,amount:t.pledgedTotal}),null}));var a=e.sort((function(e,t){return t-e})).slice(0,5);n.setState({data:{datas:a}})})).catch((function(e){}))},n.state={data:{datas:[]}},n}return Object(c.a)(a,[{key:"renderTableData",value:function(){if(0===this.state.data.datas.length)return l.a.createElement(ge.a,{active:!0});var e=0,t=this.state.data.datas.map((function(t,a){var n=t.name,r=t.amount;return e+=r,l.a.createElement("tr",{key:a},l.a.createElement("td",null,n),l.a.createElement("td",null,r.toLocaleString(void 0,{minimumFractionDigits:0})))})),a=e.toLocaleString(void 0,{minimumFractionDigits:0});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,t,l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,a))))}},{key:"render",value:function(){return l.a.createElement("div",{className:"x_panel"},l.a.createElement("h4",null,"My Pledges to Organizations"),l.a.createElement("div",{className:"x_title"},l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content table-responsive"},this.renderTableData()))}}]),a}(n.Component),Ye=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=[];z(5).then((function(t){0===t.length?e.push({name:"DataIsempty"}):t.map((function(t,a){return e.push({name:t.from.individual.name,email:t.from.individual.email,amount:t.spentTotal}),null}));var a=e.sort((function(e,t){return t-e})).slice(0,5);n.setState({data:{datas:a}})})).catch((function(e){}))},n.state={data:{datas:[]}},n}return Object(c.a)(a,[{key:"renderTableData",value:function(){if(0===this.state.data.datas.length)return l.a.createElement(ge.a,{active:!0});var e,t=0;e="DataIsempty"===this.state.data.datas[0].name?function(){return l.a.createElement("tr",null,l.a.createElement("td",null,"Data is empty"),l.a.createElement("td",null))}:this.state.data.datas.map((function(e,a){var n=e.name,r=e.email,o=e.amount;return t+=o,l.a.createElement("tr",{key:a},l.a.createElement("td",null,l.a.createElement("a",{href:"mailto:"+r},he(n))),l.a.createElement("td",null,o.toLocaleString(void 0,{minimumFractionDigits:0})))}));var a=t.toLocaleString(void 0,{minimumFractionDigits:0});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,e,l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,a))))}},{key:"render",value:function(){return l.a.createElement("div",{className:"x_panel"},l.a.createElement("h4",null,"My Top Purchasing Individuals"),l.a.createElement("div",{className:"x_title"},l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content table-responsive"},this.renderTableData()))}}]),a}(n.Component),We=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=[];j().then((function(t){t.map((function(t,a){var n;return n=0===Object.keys(t.organization).length?"Data is deleted":t.organization.organization.organizationName,e.push({name:n,amount:t.pledgeReceived}),null}));var a=e.sort((function(e,t){return t-e})).slice(0,5);n.setState({data:{datas:a}})})).catch((function(e){}))},n.state={data:{datas:[]}},n}return Object(c.a)(a,[{key:"renderTableData",value:function(){if(0===this.state.data.datas.length)return l.a.createElement(ge.a,{active:!0});var e=0,t=this.state.data.datas.map((function(t,a){var n=t.name,r=t.amount;return e+=r,l.a.createElement("tr",{key:a},l.a.createElement("td",null,n),l.a.createElement("td",null,r.toLocaleString(void 0,{minimumFractionDigits:0})))})),a=e.toLocaleString(void 0,{minimumFractionDigits:0});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,t,l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,a))))}},{key:"render",value:function(){return l.a.createElement("div",{className:"x_panel"},l.a.createElement("h4",null,"Top Receiving Organizations"),l.a.createElement("div",{className:"x_title"},l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content table-responsive"},this.renderTableData()))}}]),a}(n.Component),Ue=(n.Component,n.Component,n.Component,function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).renderComponent=function(){if(null===e.props.percentage)return l.a.createElement(ge.a,{active:!0,paragraph:{rows:1}});var t,a=e.props,n=a.icon,r=a.title,o=a.data,i=a.all;return t=e.props.percentage>=0?function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"green"},l.a.createElement("i",{className:"fa fa-sort-asc"}),e.props.percentage,"%")," ","From last month")}:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"red"},l.a.createElement("i",{className:"fa fa-sort-desc"}),e.props.percentage,"%")," ","From last month")},l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"count_top"},l.a.createElement("i",{className:n})," ",r),l.a.createElement("div",{className:"count"},i),l.a.createElement("span",{className:"count_bottom"},o," In this month"),l.a.createElement("br",null),l.a.createElement("span",{className:"count_bottom"},t()))},e}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"col-md-2 col-sm-4 col-xs-6 tile_stats_count"},this.renderComponent())}}]),a}(n.Component)),Ge=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={allIndividual:0,allBusiness:0,allOrganization:0,allPledge:0,allTopup:0,allSpent:0,totalIndividual:0,totalBusiness:0,totalOrganization:0,totalPledge:0,totalTopup:0,totalSpent:0,percentTotalIndividual:null,percentTotalBusiness:null,percentTotalOrganization:null,percentTotalPledge:null,percentTotalTopup:null,percentTotalSpent:null},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new Date,a=se(new Date(t.getFullYear(),t.getMonth(),1)),n=se(new Date(t.getFullYear(),t.getMonth()+1,0)),l=se(new Date(t.getFullYear(),t.getMonth()-1,1)),r=se(new Date(t.getFullYear(),t.getMonth()-1+1,0));w().then((function(t){e.setState({allIndividual:t.individualCount,allBusiness:t.businessCount,allOrganization:t.organizationCount})})).catch((function(e){console.log(e)})),N(a,n).then((function(t){e.setState({totalIndividual:t.individualCount,totalBusiness:t.businessCount,totalOrganization:t.organizationCount}),N(l,r).then((function(t){var a=e.state,n=a.totalIndividual,l=a.totalBusiness,r=a.totalOrganization,o=a.allIndividual,i=a.allBusiness,c=a.allOrganization;e.setState({percentTotalIndividual:pe(n-t.individualCount,o),percentTotalBusiness:pe(l-t.businessCount,i),percentTotalOrganization:pe(r-t.organizationCount,c)})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),S().then((function(t){t.map((function(t){return"PLEDGE"===t.type?e.setState({allPledge:t.amount}):"TOPUP"===t.type?e.setState({allTopup:t.amount}):"SPENT"===t.type&&e.setState({allSpent:t.amount}),null}))})).catch((function(e){console.log(e)})),O(a,n).then((function(t){var a={totalPledge:0,totalTopup:0,totalSpent:0};t.map((function(t){var n=t.amount.toLocaleString(void 0,{minimumFractionDigits:0});return"PLEDGE"===t.type?(e.setState({totalPledge:n}),a.totalPledge=t.amount):"TOPUP"===t.type?(e.setState({totalTopup:n}),a.totalTopup=t.amount):"SPENT"===t.type&&(e.setState({totalSpent:n}),a.totalSpent=t.amount),null})),O(l,r).then((function(t){console.log(t);var n=a.totalPledge,l=a.totalTopup,r=a.totalSpent;if(0===t.length)e.setState({percentTotalPledge:pe(100,100)}),e.setState({percentTotalTopup:pe(100,100)}),e.setState({percentTotalSpent:pe(100,100)});else{var o=e.state,i=o.allPledge,c=o.allTopup,s=o.allSpent;t.map((function(t){return"PLEDGE"===t.type?e.setState({percentTotalPledge:pe(n-t.amount,i)}):e.setState({percentTotalPledge:pe(n-0,i)}),"TOPUP"===t.type?e.setState({percentTotalTopup:pe(l-t.amount,c)}):e.setState({percentTotalTopup:pe(l-0,c)}),"SPENT"===t.type?e.setState({percentTotalSpent:pe(r-t.amount,s)}):e.setState({percentTotalSpent:pe(r-0,s)}),null}))}})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.allIndividual,a=e.allBusiness,n=e.allOrganization,r=e.allPledge,o=e.allTopup,i=e.allSpent,c=e.totalIndividual,s=e.totalBusiness,u=e.totalOrganization,m=e.totalPledge,d=e.totalTopup,p=e.totalSpent,h=e.percentTotalBusiness,g=e.percentTotalIndividual,f=e.percentTotalOrganization,v=e.percentTotalPledge,E=e.percentTotalSpent,b=e.percentTotalTopup;return l.a.createElement("div",{className:"row tile_count"},l.a.createElement(Ue,{icon:"fa fa-user",title:"Total Individuals",data:c,all:t,percentage:g}),l.a.createElement(Ue,{icon:"fa fa-user",title:"Total Businesses",data:s,all:a,percentage:h}),l.a.createElement(Ue,{icon:"fa fa-user",title:"Total Organizations",data:u,all:n,percentage:f}),l.a.createElement(Ue,{icon:"fa fa-money",title:"Total Pledged",data:m,all:r.toLocaleString(void 0,{minimumFractionDigits:0}),percentage:v}),l.a.createElement(Ue,{icon:"fa fa-money",title:"Total Topup",data:d,all:o.toLocaleString(void 0,{minimumFractionDigits:0}),percentage:b}),l.a.createElement(Ue,{icon:"fa fa-money",title:"Total Spent",data:p,all:i.toLocaleString(void 0,{minimumFractionDigits:0}),percentage:E}))}}]),a}(n.Component),Ve=a(57),qe=De.a.RangePicker,He=new Date,Je=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeRange=function(e,t){n.setState({date:e})},n.onOkRange=function(e){console.log("onOk: ",e)},n.state={date:null},n}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"right_col",role:"main"},l.a.createElement(Ve.a,null,l.a.createElement("title",null,"Business")),l.a.createElement(Ge,null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},l.a.createElement("div",{className:"dashboard_graph"},l.a.createElement("div",{className:"row x_title"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",null,"Platform Activity ",l.a.createElement("br",null),l.a.createElement("small",null,"Pledged vs Received"))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{id:"reportrange",className:"pull-right",style:{background:"#fff",padding:"5px 10px"}},l.a.createElement(qe,{defaultValue:[ce()(new Date(He.getFullYear(),He.getMonth(),1),"DD/MM/YYYY"),ce()(new Date(He.getFullYear(),He.getMonth()+1,0),"DD/MM/YYYY")],format:"DD/MM/YYYY",onChange:this.onChangeRange,onOk:this.onOkRange})))),l.a.createElement("div",{className:"col-md-8 col-sm-12 col-xs-12"},l.a.createElement(Re,{date:this.state.date,user:this.props.userInfo})),l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12 bg-white "},l.a.createElement(Me,{user:this.props.userInfo})),l.a.createElement("div",{className:"clearfix"})))),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},l.a.createElement(Le,null)),l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},l.a.createElement(Ye,null)),l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},l.a.createElement(We,null))),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},l.a.createElement(Be,null))))}}]),a}(n.Component),Ke=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).saveAsExcelBiz=Object(g.a)(h.a.mark((function t(){var a,n,l,r,o,i,c,s,u,m;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new le.a.Workbook,n=a.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=["Name","Amount"],1,o=e.props.biz,i=o.filter((function(t){return t.create===e.props.mbiz})),c=i.sort((function(e,t){return t-e})).slice(0,5),n.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},c.map((function(e,t){return l.push([e.name,e.amount]),null})),(s=n.addRow(["Pledges Received from Businesses-"+e.props.mbiz])).alignment={vertical:"middle",horizontal:"center"},n.mergeCells("A1:B1"),s.font={bold:!0},n.addRow(),n.addRow(r).font={bold:!0},l.map((function(e,t){return n.addRow(e),null})),u="PledgesReceivedfromBusinesses-"+e.props.mbiz+".xlsx",t.next=19,a.xlsx.writeBuffer();case 19:m=t.sent,Object(re.saveAs)(new Blob([m]),u);case 21:case"end":return t.stop()}}),t)}))),e.saveAsExcelOrg=Object(g.a)(h.a.mark((function t(){var a,n,l,r,o,i,c,s,u,m;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new le.a.Workbook,n=a.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=["Name","Amount"],1,o=e.props.org,i=o.filter((function(t){return t.create===e.props.morg})),c=i.sort((function(e,t){return t-e})).slice(0,5),n.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},c.map((function(e,t){return l.push([e.name,e.amount]),null})),(s=n.addRow(["Top Receiving Organizations-month "+e.props.morg])).alignment={vertical:"middle",horizontal:"center"},n.mergeCells("A1:B1"),s.font={bold:!0},n.addRow(),n.addRow(r).font={bold:!0},l.map((function(e,t){return n.addRow(e),null})),u="TopReceivingOrganizations-"+e.props.morg+".xlsx",t.next=19,a.xlsx.writeBuffer();case 19:m=t.sent,Object(re.saveAs)(new Blob([m]),u);case 21:case"end":return t.stop()}}),t)}))),e.saveAsExcelInd=Object(g.a)(h.a.mark((function t(){var a,n,l,r,o,i,c,s,u,m;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new le.a.Workbook,n=a.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=["Name","Email","Amount"],1,o=e.props.ind,i=o.filter((function(t){return t.create===e.props.mind})),c=i.sort((function(e,t){return t-e})).slice(0,5),n.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},c.map((function(e,t){return l.push([e.name,e.email,e.amount]),null})),(s=n.addRow(["Top Supporting Individuals-month "+e.props.mind])).alignment={vertical:"middle",horizontal:"center"},n.mergeCells("A1:C1"),s.font={bold:!0},n.addRow(),n.addRow(r).font={bold:!0},l.map((function(e,t){return n.addRow(e),null})),u="TopSupportingIndividuals-"+e.props.mind+".xlsx",t.next=19,a.xlsx.writeBuffer();case 19:m=t.sent,Object(re.saveAs)(new Blob([m]),u);case 21:case"end":return t.stop()}}),t)}))),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 col-sm-4  "},l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"col-lg-7 col-xs-12"},l.a.createElement("h4",null,"Pledges Received",l.a.createElement("br",null),"from Businesses")),l.a.createElement("div",{className:"col-lg-5 col-xs-12 text-right"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcelBiz()},block:!0},l.a.createElement(W.a,{type:"save"})," Export")),l.a.createElement("div",{className:"x_content table-responsive"},this.props.dataBiz))),l.a.createElement("div",{className:"col-md-4 col-sm-4  "},l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-7 col-xs-12"},l.a.createElement("h4",null,"Top Supporting",l.a.createElement("br",null),"Individuals")),l.a.createElement("div",{className:"col-lg-5 col-xs-12 text-right"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcelOrg()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))),l.a.createElement("div",{className:"x_content table-responsive"},this.props.dataInd))),l.a.createElement("div",{className:"col-md-4 col-sm-4  "},l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-7 col-xs-12"},l.a.createElement("h4",null,"Top Receiving Organizations")),l.a.createElement("div",{className:"col-lg-5 col-xs-12 text-right"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcelInd()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))),l.a.createElement("div",{className:"x_content table-responsive"},this.props.dataOrg))))}}]),a}(n.Component),Qe=ae.a.TabPane,Xe=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){j().then((function(e){var t=[];e.map((function(e,a){var n,l;return 0===Object.keys(e.organization).length?(n="Data is deleted",l=13):(n=e.organization.organization.organizationName,l=new Date(e.organization.organization.created_at).getMonth()+1),t.push({name:n,amount:e.pledgeReceived,create:l}),null})),n.setState({dataOrg:t})})).catch((function(e){})),C().then((function(e){var t=[];e.map((function(e,a){return t.push({name:e.individual.individual.name,email:e.individual.email,amount:e.toppedup,create:new Date(e.individual.created_at).getMonth()+1}),null})),n.setState({dataIndividual:t})})).catch((function(e){})),T().then((function(e){var t=[];e.map((function(e,a){return t.push({name:e.business.business.businessName,amount:e.pledged,create:new Date(e.business.created_at).getMonth()+1}),null})),n.setState({dataBiz:t})})).catch((function(e){}))},n.saveAsExcel=Object(g.a)(h.a.mark((function e(){var t,a,l,r,o,i,c,s,u,m,d,p,g,f,v,E,b,y;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new le.a.Workbook,a=t.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=[],o=[],i=1,c=["Name","Amount","Month"],s=["Name","Email","Amount","Month"],u=["Name","Amount","Month"],m=n.state,d=m.dataBiz,p=m.dataIndividual,g=m.dataOrg,console.log(d),a.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},d.map((function(e,t){return l.push([e.name,e.amount,e.create]),null})),p.map((function(e,t){return r.push([e.name,e.email,e.amount,e.create]),null})),g.map((function(e,t){return o.push([e.name,e.amount,e.create]),null})),f=a.addRow(["Pledges Received from Businesses-"+(new Date).getFullYear()]),a.mergeCells("A"+i+":C"+i),i+=1,f.font={bold:!0},f.alignment={vertical:"middle",horizontal:"center"},a.addRow(c).font={bold:!0},i+=1,l.map((function(e,t){return a.addRow(e),i+=1,null})),a.addRow(),i+=1,v=a.addRow(["Top Supporting Individuals-"+(new Date).getFullYear()]),a.mergeCells("A"+i+":D"+i),i+=1,v.font={bold:!0},v.alignment={vertical:"middle",horizontal:"center"},a.addRow(s).font={bold:!0},i+=1,r.map((function(e,t){return a.addRow(e),i+=1,null})),a.addRow(),i+=1,E=a.addRow(["Top Receiving Organizations-"+(new Date).getFullYear()]),a.mergeCells("A"+i+":C"+i),i+=1,E.font={bold:!0},E.alignment={vertical:"middle",horizontal:"center"},a.addRow(u).font={bold:!0},o.map((function(e,t){return a.addRow(e),null})),b="MonthlyReport-"+(new Date).getFullYear()+".xlsx",e.next=42,t.xlsx.writeBuffer();case 42:y=e.sent,Object(re.saveAs)(new Blob([y]),b);case 44:case"end":return e.stop()}}),e)}))),n.state={dataOrg:[],dataIndividual:[],dataBiz:[]},n}return Object(c.a)(a,[{key:"renderTableOrg",value:function(e){if(0===this.state.dataOrg.length)return l.a.createElement(ge.a,{active:!0});var t=0,a=this.state.dataOrg.filter((function(t){return t.create===e})).sort((function(e,t){return t-e})).slice(0,5).map((function(e,a){var n=e.name,r=e.amount;return t+=r,l.a.createElement("tr",{key:a},l.a.createElement("td",null,n),l.a.createElement("td",null,r.toLocaleString(void 0,{minimumFractionDigits:0})))})),n=t.toLocaleString(void 0,{minimumFractionDigits:0});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,a,l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,n))))}},{key:"renderTableIndividual",value:function(e){if(0===this.state.dataIndividual.length)return l.a.createElement(ge.a,{active:!0});var t=0,a=this.state.dataIndividual.filter((function(t){return t.create===e})).sort((function(e,t){return t-e})).slice(0,5).map((function(e,a){var n=e.name,r=e.amount,o=e.email;return t+=r,l.a.createElement("tr",{key:a},l.a.createElement("td",null,l.a.createElement("a",{href:"mailto:"+o},he(n))),l.a.createElement("td",null,r.toLocaleString(void 0,{minimumFractionDigits:0})))})),n=t.toLocaleString(void 0,{minimumFractionDigits:0});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,a,l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,n))))}},{key:"renderTableBiz",value:function(e){if(0===this.state.dataBiz.length)return l.a.createElement(ge.a,{active:!0});var t=0,a=this.state.dataBiz.filter((function(t){return t.create===e})).sort((function(e,t){return t-e})).slice(0,5).map((function(e,a){var n=e.name,r=e.amount;return t+=r,l.a.createElement("tr",{key:a},l.a.createElement("td",null,n),l.a.createElement("td",null,r.toLocaleString(void 0,{minimumFractionDigits:0})))})),n=t.toLocaleString(void 0,{minimumFractionDigits:0});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,a,l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,n))))}},{key:"renderTabPane",value:function(){var e=this;return de.map((function(t,a){return l.a.createElement(Qe,{tab:t,key:a+1},l.a.createElement(Ke,{dataOrg:e.renderTableOrg(a+1),org:e.state.dataOrg,morg:a+1,dataInd:e.renderTableIndividual(a+1),ind:e.state.dataIndividual,mind:a+1,dataBiz:e.renderTableBiz(a+1),biz:e.state.dataBiz,mbiz:a+1}))}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 col-xs-12"},l.a.createElement("h4",null,"Monthly Reports")),l.a.createElement("div",{className:"col-lg-6 col-xs-12 text-right"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8 col-xs-12"}),l.a.createElement("div",{className:"col-lg-4 col-xs-12"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcel()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))))),l.a.createElement("div",{className:"x_title"},l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content"},l.a.createElement(ae.a,{defaultActiveKey:"1"},this.renderTabPane())))}}]),a}(n.Component),$e=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).renderChart=function(e,t,a){console.log(a);var l=[],r=[],o=[],i=[],c=[],s=[],u=[],m=[];x(e,t,a).then((function(e){n.setState({loading:!0}),e.reverse().map((function(e,t){return l.push(ue(e.time)),e.summary.map((function(e,t){return"FEE"===e.type?r.push(e.fiatAmount):"WITHDRAW"===e.type?o.push(e.fiatAmount):"TOPUP"===e.type?i.push(e.amount):"SPENT"===e.type?c.push(e.amount):"TRANSFER"===e.type?u.push(e.amount):"PLEDGE"===e.type&&s.push(e.amount),null})),r.length!==t+1&&r.push(0),o.length!==t+1&&o.push(0),i.length!==t+1&&i.push(0),c.length!==t+1&&c.push(0),u.length!==t+1&&u.push(0),s.length!==t+1&&s.push(0),null}));var t=i.filter((function(e){return 0!==e}));0!==s.filter((function(e){return 0!==e})).length&&m.push({label:"Amount Pledged",backgroundColor:me[0],data:s}),0!==t.length&&m.push({label:"Amount Purchased",backgroundColor:me[1],data:i}),n.setState({label:l})})).catch((function(e){})),n.setState({data:{labels:l,datasets:m},loading:!1})},n.setGradientColor=function(e,t){var a=e.getContext("2d").createLinearGradient(0,0,600,550);return a.addColorStop(0,t),a.addColorStop(.95,"rgba(133,122,144,0.5)"),a},n.getChartData=function(e){var t=n.state.data;if(t.datasets){var a=me;t.datasets.forEach((function(e,t){e.backgroundColor=a[t],e.borderColor="white",e.borderWidth=2}))}return t},n.saveAsExcel=Object(g.a)(h.a.mark((function e(){var t,a,l,r,o,i,c,s,u,m;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new le.a.Workbook,a=t.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=[""],o=n.state.data,a.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},o.labels.map((function(e,t){return r.push(e),null})),o.datasets.map((function(e,t){var a=[];return a.push(e.label),e.data.map((function(e,t){return a.push(e),null})),l.push(a),null})),a.addRow(r).font={bold:!0},l.map((function(e,t){return a.addRow(e),null})),i=new Date,c=[new Date(i.getFullYear(),i.getMonth(),1),new Date(i.getFullYear(),i.getMonth()+1,0)],s=null!==n.state.date?n.state.date:c,u="PlatformActivity-"+s+".xlsx",e.next=16,t.xlsx.writeBuffer();case 16:m=e.sent,Object(re.saveAs)(new Blob([m]),u);case 18:case"end":return e.stop()}}),e)}))),n.displayChart=function(){return n.state.loading?l.a.createElement(Ee.Line,{options:{responsive:!0},data:n.getChartData}):l.a.createElement(ge.a,{active:!0})},n.state={data:{},label:[],date:null,check:null,loading:!1,id:e.user.id},console.log(e),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=new Date,t=se(new Date(e.getFullYear(),e.getMonth(),1)),a=se(new Date(e.getFullYear(),e.getMonth()+1,0)),n=this.state.id;this.renderChart(t,a,n)}},{key:"componentDidUpdate",value:function(e,t){if(t.date!==this.props.date){this.setState({date:this.props.date});var a=this.props.date[0]._d,n=this.props.date[1]._d;this.renderChart(a,n)}}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-9"}),l.a.createElement("div",{className:"col-lg-3 col-xs-12"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcel()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))),this.displayChart())}}]),a}(n.Component),Ze=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=new Date,t=se(new Date(e.getFullYear(),e.getMonth(),1)),a=se(new Date(e.getFullYear(),e.getMonth()+1,0)),l=[],r=[],o=[],i=[];O(t,a).then((function(e){e.map((function(e,t){return"PLEDGE"===e.type&&(o.push(me[0]),l.push("Amount Pledge"),r.push(e.amount),i.push({data:e.amount,label:"Amount Pledge"})),"TOPUP"===e.type&&(o.push(me[1]),l.push("Amount Purchased"),r.push(e.amount),i.push({data:e.amount,label:"Amount Purchased"})),null})),n.setState({data:{labels:l,datasets:[{backgroundColor:o,data:r}]},exports:i})})).catch((function(e){}))},n.saveAsExcel=Object(g.a)(h.a.mark((function e(){var t,a,l,r,o,i,c,s,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new le.a.Workbook,a=t.addWorksheet("sheet",{pageSetup:{paperSize:9,orientation:"landscape"}}),l=[],r=[],o=n.state.exports,a.pageSetup.margins={left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},console.log(o),o.map((function(e,t){return l.push(e.label),r.push(e.data),null})),a.addRow(l).font={bold:!0},a.addRow(r),i=new Date,c=[new Date(i.getFullYear(),i.getMonth(),1),new Date(i.getFullYear(),i.getMonth()+1,0)],s="ThisMonthDougnut-"+c+".xlsx",e.next=15,t.xlsx.writeBuffer();case 15:u=e.sent,Object(re.saveAs)(new Blob([u]),s);case 17:case"end":return e.stop()}}),e)}))),n.renderBar=function(){var e=n.state.data;return null===e?l.a.createElement(ge.a,{active:!0}):0===e.labels.length?l.a.createElement("h3",null,"This month is empty"):l.a.createElement(Ee.Doughnut,{options:{responsive:!0},height:250,data:n.state.data})},n.state={data:null,exports:{}},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("h4",null,"This Month")),l.a.createElement("div",{className:"col-lg-6 col-xs-12 text-right"},l.a.createElement(U.a,{type:"primary",onClick:function(){return e.saveAsExcel()},block:!0},l.a.createElement(W.a,{type:"save"})," Export"))),l.a.createElement("div",{className:"x_title"},l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"col-md-12 col-sm-12"},this.renderBar()))}}]),a}(n.Component),et=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=[];j().then((function(t){t.map((function(t,a){var n;return n=0===Object.keys(t.organization).length?"Data is deleted":t.organization.organization.organizationName,e.push({name:n,amount:t.pledgeReceived}),null}));var a=e.sort((function(e,t){return t-e})).slice(0,5);n.setState({data:{datas:a}})})).catch((function(e){}))},n.state={data:{datas:[]}},n}return Object(c.a)(a,[{key:"renderTableData",value:function(){if(0===this.state.data.datas.length)return l.a.createElement(ge.a,{active:!0});var e=0,t=this.state.data.datas.map((function(t,a){var n=t.name,r=t.amount;return e+=r,l.a.createElement("tr",{key:a},l.a.createElement("td",null,n),l.a.createElement("td",null,r.toLocaleString(void 0,{minimumFractionDigits:0})))})),a=e.toLocaleString(void 0,{minimumFractionDigits:0});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,t,l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,a))))}},{key:"render",value:function(){return l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"x_title"},l.a.createElement("h4",null,"Top Receiving",l.a.createElement("br",null),"Organizations"),l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content table-responsive"},this.renderTableData()))}}]),a}(n.Component),tt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=[];C().then((function(t){t.map((function(t,a){return e.push({name:t.individual.individual.name,email:t.individual.email,amount:t.toppedup}),null}));var a=e.sort((function(e,t){return t-e})).slice(0,5);n.setState({data:{datas:a}})})).catch((function(e){}))},n.state={data:{datas:[]}},n}return Object(c.a)(a,[{key:"renderTableData",value:function(){if(0===this.state.data.datas.length)return l.a.createElement(ge.a,{active:!0});var e=0,t=this.state.data.datas.map((function(t,a){var n=t.name,r=t.email,o=t.amount;return e+=o,l.a.createElement("tr",{key:a},l.a.createElement("td",null,l.a.createElement("a",{href:"mailto:"+r},he(n))),l.a.createElement("td",null,o.toLocaleString(void 0,{minimumFractionDigits:0})))})),a=e.toLocaleString(void 0,{minimumFractionDigits:0});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,t,l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,a))))}},{key:"render",value:function(){return l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"x_title"},l.a.createElement("h4",null,"Top Supporting",l.a.createElement("br",null),"Individuals"),l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content table-responsive"},this.renderTableData()))}}]),a}(n.Component),at=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=[];T().then((function(t){t.map((function(t,a){return e.push({name:t.business.business.businessName,amount:t.pledged}),null}));var a=e.sort((function(e,t){return t-e})).slice(0,5);n.setState({data:{datas:a}})})).catch((function(e){}))},n.state={data:{datas:[]}},n}return Object(c.a)(a,[{key:"renderTableData",value:function(){if(0===this.state.data.datas.length)return l.a.createElement(ge.a,{active:!0});var e=0,t=this.state.data.datas.map((function(t,a){var n=t.name,r=t.amount;return e+=r,l.a.createElement("tr",{key:a},l.a.createElement("td",null,n),l.a.createElement("td",null,r.toLocaleString(void 0,{minimumFractionDigits:0})))})),a=e.toLocaleString(void 0,{minimumFractionDigits:0});return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Amount"))),l.a.createElement("tbody",null,t,l.a.createElement("tr",null,l.a.createElement("td",null,"Total:"),l.a.createElement("td",null,a))))}},{key:"render",value:function(){return l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"x_title"},l.a.createElement("h4",null,"Pledges Received",l.a.createElement("br",null),"from Businesses"),l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content table-responsive"},this.renderTableData()))}}]),a}(n.Component),nt=(n.Component,n.Component,n.Component,function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).renderComponent=function(){if(null===e.props.percentage)return l.a.createElement(ge.a,{active:!0,paragraph:{rows:1}});var t,a=e.props,n=a.icon,r=a.title,o=a.data,i=a.all;return t=e.props.percentage>=0?function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"green"},l.a.createElement("i",{className:"fa fa-sort-asc"}),e.props.percentage,"%")," ","From last month")}:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"red"},l.a.createElement("i",{className:"fa fa-sort-desc"}),e.props.percentage,"%")," ","From last month")},l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"count_top"},l.a.createElement("i",{className:n})," ",r),l.a.createElement("div",{className:"count"},i),l.a.createElement("span",{className:"count_bottom"},o," In this month"),l.a.createElement("br",null),l.a.createElement("span",{className:"count_bottom"},t()))},e}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"col-md-2 col-sm-4 col-xs-6 tile_stats_count"},this.renderComponent())}}]),a}(n.Component)),lt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={allIndividual:0,allBusiness:0,allOrganization:0,allPledge:0,allTopup:0,allSpent:0,totalIndividual:0,totalBusiness:0,totalOrganization:0,totalPledge:0,totalTopup:0,totalSpent:0,percentTotalIndividual:null,percentTotalBusiness:null,percentTotalOrganization:null,percentTotalPledge:null,percentTotalTopup:null,percentTotalSpent:null},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new Date,a=se(new Date(t.getFullYear(),t.getMonth(),1)),n=se(new Date(t.getFullYear(),t.getMonth()+1,0)),l=se(new Date(t.getFullYear(),t.getMonth()-1,1)),r=se(new Date(t.getFullYear(),t.getMonth()-1+1,0));w().then((function(t){e.setState({allIndividual:t.individualCount,allBusiness:t.businessCount,allOrganization:t.organizationCount})})).catch((function(e){console.log(e)})),N(a,n).then((function(t){e.setState({totalIndividual:t.individualCount,totalBusiness:t.businessCount,totalOrganization:t.organizationCount}),N(l,r).then((function(t){var a=e.state,n=a.totalIndividual,l=a.totalBusiness,r=a.totalOrganization,o=a.allIndividual,i=a.allBusiness,c=a.allOrganization;e.setState({percentTotalIndividual:pe(n-t.individualCount,o),percentTotalBusiness:pe(l-t.businessCount,i),percentTotalOrganization:pe(r-t.organizationCount,c)}),console.log(o)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),S().then((function(t){t.map((function(t){return"PLEDGE"===t.type?e.setState({allPledge:t.amount}):"TOPUP"===t.type?e.setState({allTopup:t.amount}):"SPENT"===t.type&&e.setState({allSpent:t.amount}),null}))})).catch((function(e){console.log(e)})),O(a,n).then((function(t){var a={totalPledge:0,totalTopup:0,totalSpent:0};t.map((function(t){var n=t.amount.toLocaleString(void 0,{minimumFractionDigits:0});return"PLEDGE"===t.type?(e.setState({totalPledge:n}),a.totalPledge=t.amount):"TOPUP"===t.type?(e.setState({totalTopup:n}),a.totalTopup=t.amount):"SPENT"===t.type&&(e.setState({totalSpent:n}),a.totalSpent=t.amount),null})),O(l,r).then((function(t){console.log(t);var n=a.totalPledge,l=a.totalTopup,r=a.totalSpent;if(0===t.length)e.setState({percentTotalPledge:pe(100,100)}),e.setState({percentTotalTopup:pe(100,100)}),e.setState({percentTotalSpent:pe(100,100)});else{var o=e.state,i=o.allPledge,c=o.allTopup,s=o.allSpent;t.map((function(t){return"PLEDGE"===t.type?e.setState({percentTotalPledge:pe(n-t.amount,i)}):e.setState({percentTotalPledge:pe(n-0,i)}),"TOPUP"===t.type?e.setState({percentTotalTopup:pe(l-t.amount,c)}):e.setState({percentTotalTopup:pe(l-0,c)}),"SPENT"===t.type?e.setState({percentTotalSpent:pe(r-t.amount,s)}):e.setState({percentTotalSpent:pe(r-0,s)}),null}))}})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.allIndividual,a=e.allBusiness,n=e.allOrganization,r=e.allPledge,o=e.allTopup,i=e.allSpent,c=e.totalIndividual,s=e.totalBusiness,u=e.totalOrganization,m=e.totalPledge,d=e.totalTopup,p=e.totalSpent,h=e.percentTotalBusiness,g=e.percentTotalIndividual,f=e.percentTotalOrganization,v=e.percentTotalPledge,E=e.percentTotalSpent,b=e.percentTotalTopup;return l.a.createElement("div",{className:"row tile_count"},l.a.createElement(nt,{icon:"fa fa-user",title:"Total Individuals",data:c,all:t,percentage:g}),l.a.createElement(nt,{icon:"fa fa-user",title:"Total Businesses",data:s,all:a,percentage:h}),l.a.createElement(nt,{icon:"fa fa-user",title:"Total Organizations",data:u,all:n,percentage:f}),l.a.createElement(nt,{icon:"fa fa-money",title:"Total Pledged",data:m,all:r.toLocaleString(void 0,{minimumFractionDigits:0}),percentage:v}),l.a.createElement(nt,{icon:"fa fa-money",title:"Total Topup",data:d,all:o.toLocaleString(void 0,{minimumFractionDigits:0}),percentage:b}),l.a.createElement(nt,{icon:"fa fa-money",title:"Total Spent",data:p,all:i.toLocaleString(void 0,{minimumFractionDigits:0}),percentage:E}))}}]),a}(n.Component),rt=De.a.RangePicker,ot=new Date,it=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeRange=function(e,t){n.setState({date:e})},n.onOkRange=function(e){console.log("onOk: ",e)},n.state={date:null},n}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"right_col",role:"main"},l.a.createElement(Ve.a,null,l.a.createElement("title",null,"Organization")),l.a.createElement(lt,null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},l.a.createElement("div",{className:"dashboard_graph"},l.a.createElement("div",{className:"row x_title"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",null,"Platform Activity ",l.a.createElement("br",null),l.a.createElement("small",null,"Amount Pledged vs Amount Purchased"))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{id:"reportrange",className:"pull-right",style:{background:"#fff",padding:"5px 10px"}},l.a.createElement(rt,{defaultValue:[ce()(new Date(ot.getFullYear(),ot.getMonth(),1),"DD/MM/YYYY"),ce()(new Date(ot.getFullYear(),ot.getMonth()+1,0),"DD/MM/YYYY")],format:"DD/MM/YYYY",onChange:this.onChangeRange,onOk:this.onOkRange})))),l.a.createElement("div",{className:"col-md-8 col-sm-12 col-xs-12"},l.a.createElement($e,{date:this.state.date,user:this.props.userInfo})),l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12 bg-white "},l.a.createElement(Ze,{user:this.props.userInfo})),l.a.createElement("div",{className:"clearfix"})))),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},l.a.createElement(at,null)),l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},l.a.createElement(tt,null)),l.a.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},l.a.createElement(et,null))),l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},l.a.createElement(Xe,null))))}}]),a}(n.Component),ct=(n.Component,n.Component,a(1178)),st=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"x_content table-responsive"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Transaction"),l.a.createElement("th",null,"From"),l.a.createElement("th",null,"To"),l.a.createElement("th",null,"Token Amount"),l.a.createElement("th",null,"Cash Amount"))),l.a.createElement("tbody",null,this.props.data))))))}}]),a}(n.Component),ut=ae.a.TabPane,mt=R.a.Item,dt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).showModal=function(){n.setState({visible:!0})},n.handleOk=function(e){console.log(e),n.setState({visible:!1})},n.handleCancel=function(e){console.log(e),n.setState({visible:!1})},n.renderTable=function(e){var t=0,a=0,r=n.state.dataFinance.filter((function(t){return t.create===e})).map((function(e,n){var r=e.date,o=e.transaction,i=e.from,c=e.to,s=e.token,u=e.cash;return t+=s,a+=u,l.a.createElement("tr",{key:n},l.a.createElement("td",null,r),l.a.createElement("td",null,o),l.a.createElement("td",null,i),l.a.createElement("td",null,c),l.a.createElement("td",null,s),l.a.createElement("td",null,u))})),o=t.toLocaleString(void 0,{minimumFractionDigits:0}),i=a.toLocaleString(void 0,{minimumFractionDigits:0});return l.a.createElement(l.a.Fragment,null,r,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"4"},"Totals:"),l.a.createElement("td",null,o),l.a.createElement("td",null,i)))},n.state={id:n.props.id,dataFinance:[],visible:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.id,a=new Date;(function(e,t,a){return b({url:f+"/reportings/transactions/byuser?_endSpan="+t+"&_startSpan="+e+"&user_id="+a,method:"GET"})})(se(new Date(a.getFullYear(),0,1)),se(new Date(a.getFullYear(),12,0)),t).then((function(t){var a=[];t.map((function(e,t){var n=0;return n=null!==e.tied?e.tied.amount:0,a.push({date:e.created_at,transaction:e.type,from:e.from.username,to:e.to.username,token:e.amount,cash:n,create:new Date(e.created_at).getMonth()+1}),null})),e.setState({dataFinance:a})})).catch((function(e){}))}},{key:"renderTabPane",value:function(){var e=this;return de.map((function(t,a){return l.a.createElement(ut,{tab:t,key:a+1},l.a.createElement(st,{data:e.renderTable(a+1)}))}))}},{key:"render",value:function(){var e=this.props.name,t=this.state.id,a=R.a.create()(pt);return l.a.createElement("div",{className:"x_content"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-10"},l.a.createElement("h3",null,e)),l.a.createElement("div",{className:"col-lg-2 col-xs-12"},l.a.createElement(U.a,{type:"primary",onClick:this.showModal,block:!0},l.a.createElement(W.a,{type:"wallet"})," Withdraw"))),l.a.createElement(ct.a,{title:"Withdraw on "+e,visible:this.state.visible,onCancel:this.handleCancel,footer:[l.a.createElement(U.a,{key:"back",onClick:this.handleCancel},"Cancel")]},l.a.createElement(a,{currid:t,currname:e,handleOk:this.handleOk})),l.a.createElement(ae.a,{defaultActiveKey:"1"},this.renderTabPane()))}}]),a}(n.Component),pt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).renderItem=function(){var e=n.state,t=e.currid,a=e.fiat,r=e.feePercent,o=e.loading;if(null===a)return l.a.createElement(ge.a,{active:!0});var i=n.props.form.getFieldDecorator,c=a*r,s=a-c;return l.a.createElement(R.a,{onSubmit:n.handleSubmit,className:"login-form"},l.a.createElement(mt,null,i("organization_id",{rules:[{required:!1,message:"Please input your amount to pledge this organization"}],initialValue:t})(l.a.createElement(Y.a,{type:"hidden",name:"organization_id"}))),l.a.createElement(mt,{label:"Fiat Balance"},l.a.createElement(Y.a,{prefix:l.a.createElement(W.a,{type:"wallet"}),size:"large",placeholder:"Fiat Balance",value:a,disabled:!0})),l.a.createElement(mt,{label:"Fiat Amount"},i("fiatamount",{rules:[{required:!0,message:"Please input your fiat amount to withdraw this organization"}],initialValue:s})(l.a.createElement(Y.a,{prefix:l.a.createElement(W.a,{type:"wallet"}),size:"large",name:"fiatamount",placeholder:"Fiat Amount"}))),l.a.createElement(mt,{label:"Fiat Fee"},i("fiatfee",{rules:[{required:!0,message:"Please input your fiat fee to withdraw this organization"}],initialValue:c})(l.a.createElement(Y.a,{prefix:l.a.createElement(W.a,{type:"wallet"}),size:"large",name:"fiatfee",placeholder:"Fiat Fee"}))),l.a.createElement(mt,null,l.a.createElement(U.a,{type:"primary",htmlType:"submit",size:"large",className:"login-form-button",loading:o},"Withdraw")))},n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n.state={currid:n.props.currid,currname:n.props.currname,feePercent:null,fiat:null,loading:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;b({url:f+"/serverinfos/compatibility",method:"GET"}).then((function(e){t.setState({feePercent:e.feePercent})})).catch((function(e){})),(e=this.state.currid,b({url:f+"/reportings/balances/byuser?id="+e,method:"GET"})).then((function(e){t.setState({fiat:e.fiat})})).catch((function(e){}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.currname;this.props.form.validateFields((function(e,n){if(!e){t.setState({loading:!0});var l=Object.assign({},n);(r=l,b({url:f+"/reportings/recordwithdraw",method:"POST",body:JSON.stringify(r)})).then((function(e){L.a.success({message:"Platform-Coordinator",description:"Congratulation, withdraw on "+a}),t.props.handleOk(),t.setState({loading:!1})})).catch((function(e){400===e.statusCode?L.a.error({message:"Platform-Coordinator",description:e.message}):L.a.error({message:"Platform-Coordinator",description:"Sorry! Something went wrong. Please try again!"})}))}var r}))}},{key:"render",value:function(){return this.renderItem()}}]),a}(n.Component),ht=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).renderOrg=function(){return n.state.data.datas.map((function(e,t){var a=e.id,n=e.name;return l.a.createElement(dt,{name:n,id:a,key:t})}))},n.state={data:{datas:[]}},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[];I().then((function(a){a.map((function(e,a){return t.push({id:e.id,name:e.organization.organizationName+" - "+(new Date).getFullYear()}),null})),e.setState({data:{datas:t}})})).catch((function(e){}))}},{key:"render",value:function(){return this.renderOrg()}}]),a}(n.Component),gt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"right_col",role:"main"},l.a.createElement(Pe,null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},l.a.createElement("div",{className:"x_panel"},l.a.createElement("h3",null,"Finances - By Organization"),l.a.createElement("div",{className:"x_title"},l.a.createElement("div",{className:"clearfix"})),l.a.createElement(ht,null)))))}}]),a}(n.Component),ft=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"right_col",role:"main"},l.a.createElement(Pe,null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"x_title"},l.a.createElement("h3",null,"Monthly Reports"),l.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},l.a.createElement("li",null,l.a.createElement(d.b,{className:"collapse-link"},l.a.createElement("i",{className:"fa fa-chevron-up"})))),l.a.createElement("div",{className:"clearfix"})),l.a.createElement(ve,null)))))}}]),a}(n.Component),vt=a(206),Et=a.n(vt),bt=a(1172),yt=ct.a.confirm,Nt=(n.Component,a(495)),wt=ct.a.confirm,xt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getColumnSearchProps=function(e){return{filterDropdown:function(t){var a=t.setSelectedKeys,r=t.selectedKeys,o=t.confirm,i=t.clearFilters;return l.a.createElement("div",{style:{padding:8}},l.a.createElement(Y.a,{ref:function(e){n.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return n.handleSearch(r,o,e)},style:{width:188,marginBottom:8,display:"block"}}),l.a.createElement(U.a,{type:"primary",onClick:function(){return n.handleSearch(r,o,e)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),l.a.createElement(U.a,{onClick:function(){return n.handleReset(i)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return l.a.createElement(W.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return n.searchInput.select()}))},render:function(t){return n.state.searchedColumn===e?l.a.createElement(Et.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[n.state.searchText],autoEscape:!0,textToHighlight:t.toString()}):t}}},n.handleSearch=function(e,t,a){t(),n.setState({searchText:e[0],searchedColumn:a})},n.handleReset=function(e){e(),n.setState({searchText:""})},n.confirmOrg=function(e){wt({title:"Do you want to confirm these organization?",content:"When clicked the OK button, this dialog will be closed after 1 second",onOk:function(){return new Promise((function(t,a){var n={organization_id:e};console.log(n),D(n).then((function(e){L.a.success({message:"Platform-Coordinator",description:"Organization successfully confirmed"})})).catch((function(e){L.a.success({message:"Platform-Coordinator",description:"Organization successfully confirmed"})})),setTimeout(Math.random()>.5?t:a,1e3)})).catch((function(){return console.log()}))},onCancel:function(){}})},n.confirmBiz=function(e){wt({title:"Do you want to confirm these business?",content:"When clicked the OK button, this dialog will be closed after 1 second",onOk:function(){return new Promise((function(t,a){var n={business_id:e};console.log(n),D(n).then((function(e){L.a.success({message:"Platform-Coordinator",description:"Business successfully confirmed"})})).catch((function(e){L.a.success({message:"Platform-Coordinator",description:"Business successfully confirmed"})})),setTimeout(Math.random()>.5?t:a,1e3)})).catch((function(){return console.log()}))},onCancel:function(){}})},n.unverifyBiz=function(e){wt({title:"Do you want to unverify these account?",content:"When clicked the OK button, this dialog will be closed after 1 second",onOk:function(){return new Promise((function(t,a){var n={business_id:e};console.log(n),B(n).then((function(e){L.a.success({message:"Platform-Coordinator",description:"Account successfully unverify"})})).catch((function(e){L.a.success({message:"Platform-Coordinator",description:"Account successfully unverify"})})),setTimeout(Math.random()>.5?t:a,1e3)})).catch((function(){return console.log()}))},onCancel:function(){}})},n.unverifyOrg=function(e){wt({title:"Do you want to unverify these account?",content:"When clicked the OK button, this dialog will be closed after 1 second",onOk:function(){return new Promise((function(t,a){var n={organization_id:e};console.log(n),B(n).then((function(e){L.a.success({message:"Platform-Coordinator",description:"Account successfully unverify"})})).catch((function(e){L.a.success({message:"Platform-Coordinator",description:"Account successfully unverify"})})),setTimeout(Math.random()>.5?t:a,1e3)})).catch((function(){return console.log()}))},onCancel:function(){}})},n.unblockUser=function(e){wt({title:"Do you want to unblock these account?",content:"When clicked the OK button, this dialog will be closed after 1 second",onOk:function(){return new Promise((function(t,a){var n,l={user_id:e};console.log(l),(n=l,b({url:f+"/cordinators/unblock",method:"POST",body:JSON.stringify(n)})).then((function(e){L.a.success({message:"Platform-Coordinator",description:"Account successfully unblock"})})).catch((function(e){L.a.success({message:"Platform-Coordinator",description:"Account successfully unblock"})})),setTimeout(Math.random()>.5?t:a,1e3)})).catch((function(){return console.log()}))},onCancel:function(){}})},n.blockUser=function(e){wt({title:"Do you want to block these account?",content:"When clicked the OK button, this dialog will be closed after 1 second",onOk:function(){return new Promise((function(t,a){var n,l={user_id:e};console.log(l),(n=l,b({url:f+"/cordinators/block",method:"POST",body:JSON.stringify(n)})).then((function(e){L.a.success({message:"Platform-Coordinator",description:"Account successfully blocked"})})).catch((function(e){L.a.success({message:"Platform-Coordinator",description:"Account successfully blocked"})})),setTimeout(Math.random()>.5?t:a,1e3)})).catch((function(){return console.log()}))},onCancel:function(){}})},n.state={searchText:"",searchedColumn:"",dataOrg:[],dataBiz:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(){return F.apply(this,arguments)})().then((function(t){var a=[];t.map((function(e,t){if(null!==e){var n={id:t+1,key:e.id,email:e.email,role:e.role.type,blocked:e.blocked,confirm:e.confirmed,verified:e.business.verified};a.push(n)}return null})),e.setState({dataBiz:a})})).catch((function(e){console.log(e)})),b({url:f+"/organizations?_limit=100",method:"GET"}).then((function(t){console.log(t);var a=[];t.map((function(e,t){if(null!==e){var n={id:t+1,key:e.id,email:e.email,role:e.role.type,blocked:e.blocked,confirm:e.confirmed,verified:e.organization.verified};a.push(n)}return null})),e.setState({dataOrg:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=[{title:"ID",dataIndex:"key",key:"key",fixed:"left"},Object(K.a)({title:"Email",dataIndex:"email",key:"email",width:"30%"},this.getColumnSearchProps("email")),{title:"Blocked",dataIndex:"blocked",key:"blocked",render:function(e,t){return t.blocked?l.a.createElement(Nt.a,{color:"red"},"Yes"):l.a.createElement(Nt.a,{color:"green"},"No")}},{title:"Confirmed",dataIndex:"confirm",key:"confirm",render:function(e,t){return t.confirm?l.a.createElement(Nt.a,{color:"green"},"Yes"):l.a.createElement(Nt.a,{color:"red"},"No")}},{title:"Verified",dataIndex:"verified",key:"verified",render:function(e,t){return t.verified?l.a.createElement(Nt.a,{color:"green"},"Yes"):l.a.createElement(Nt.a,{color:"red"},"No")}},{title:"Action",dataIndex:"action",key:"action",width:"30%",render:function(t,a){return l.a.createElement("span",null,a.verified?l.a.createElement(U.a,{className:"ml-2",onClick:function(){return e.unverifyOrg(a.key)}},"Unverify"):l.a.createElement(U.a,{className:"ml-2",type:"primary",onClick:function(){return e.confirmOrg(a.key)}},"Verify"),a.blocked?l.a.createElement(U.a,{className:"ml-2",onClick:function(){return e.unblockUser(a.key)}},"Unblock"):l.a.createElement(U.a,{className:"ml-2",type:"danger",onClick:function(){return e.blockUser(a.key)}},"Block"))}}],a=[{title:"ID",dataIndex:"key",key:"key",fixed:"left"},Object(K.a)({title:"Email",dataIndex:"email",key:"email",width:"30%"},this.getColumnSearchProps("email")),{title:"Blocked",dataIndex:"blocked",key:"blocked",render:function(e,t){return t.blocked?l.a.createElement(Nt.a,{color:"red"},"Yes"):l.a.createElement(Nt.a,{color:"green"},"No")}},{title:"Confirmed",dataIndex:"confirm",key:"confirm",render:function(e,t){return t.confirm?l.a.createElement(Nt.a,{color:"green"},"Yes"):l.a.createElement(Nt.a,{color:"red"},"No")}},{title:"Verified",dataIndex:"verified",key:"verified",render:function(e,t){return t.verified?l.a.createElement(Nt.a,{color:"green"},"Yes"):l.a.createElement(Nt.a,{color:"red"},"No")}},{title:"Action",dataIndex:"action",key:"action",width:"30%",render:function(t,a){return l.a.createElement("span",null,a.verified?l.a.createElement(U.a,{className:"ml-2",onClick:function(){return e.unverifyBiz(a.key)}},"Unverify"):l.a.createElement(U.a,{className:"ml-2",type:"primary",onClick:function(){return e.confirmBiz(a.key)}},"Verify"),a.blocked?l.a.createElement(U.a,{className:"ml-2",onClick:function(){return e.unblockUser(a.key)}},"Unblock"):l.a.createElement(U.a,{className:"ml-2",type:"danger",onClick:function(){return e.blockUser(a.key)}},"Block"))}}],n=this.state,r=n.dataOrg,o=n.dataBiz;return l.a.createElement("div",{className:"right_col",role:"main"},l.a.createElement("div",null,l.a.createElement("div",{className:"page-title"},l.a.createElement("div",{className:"title_left"},l.a.createElement("h4",null,"Users List"))),l.a.createElement("div",{className:"clearfix"}),l.a.createElement("div",{className:"x_panel"},l.a.createElement("h4",null,"Organization List"),l.a.createElement("div",{className:"x_title"},l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content"},l.a.createElement(bt.a,{columns:t,dataSource:r,scroll:{x:500}})),l.a.createElement("h4",null,"Business List"),l.a.createElement("div",{className:"x_title"},l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content"},l.a.createElement(bt.a,{columns:a,dataSource:o,scroll:{x:500}})))))}}]),a}(n.Component),Ot=a(1174),St=a(137),kt=a(1177),Tt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=R.a.create()(jt);return l.a.createElement("div",{className:"right_col",role:"main"},l.a.createElement(Ve.a,null,l.a.createElement("title",null,"Business")),l.a.createElement(Ge,null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 col-sm-12 "},l.a.createElement("div",{className:"dashboard_graph"},l.a.createElement("div",{className:"row x_title"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",null,"Profile"))),l.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12"}),l.a.createElement("div",{className:"col-md-12 col-sm-12"},l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"x_title"},l.a.createElement(d.b,{to:"/edit-profile",className:"btn btn-primary"},"Edit"),l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content"},l.a.createElement(e,null)))),l.a.createElement("div",{className:"clearfix"})))))}}]),a}(n.Component),jt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){y().then((function(e){console.log(e);var t="";t=null===e.business.avatar?"":e.business.avatar.url,n.setState({inputValue:e.business.tokenPercent,username:e.username,email:e.email,name:e.business.name,bizName:e.business.businessName,description:e.business.description,address:e.business.address,phone:e.business.phone,summary:e.business.summary,avatar:t,website:e.business.website})})).catch((function(e){console.log(e)}))},n.onChange=function(e){n.setState({inputValue:e})},n.state={inputValue:0,username:"",email:"",name:"",bizName:"",description:"",address:"",phone:"",summary:"",loading:!1,avatar:"",website:""},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.inputValue,a=e.username,n=e.email,r=e.bizName,o=e.description,i=e.address,c=e.phone,s=e.website;var u=this.props.form.getFieldDecorator,m={labelCol:{xs:{span:16},sm:{span:8}},wrapperCol:{xs:{span:16},sm:{span:8}}},d=l.a.createElement("div",null,l.a.createElement(W.a,{type:this.state.loading?"loading":"plus"}),l.a.createElement("div",{className:"ant-upload-text"},"Upload")),p=this.state.avatar;return l.a.createElement(R.a,m,l.a.createElement(R.a.Item,{label:"Avatar"},u("files.avatar",{rules:[{required:!0,message:"Please input your avatar!"}]})(l.a.createElement(Ot.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",disabled:!0},p?l.a.createElement("img",{src:p,alt:"avatar",style:{width:"100%"}}):d))),l.a.createElement(R.a.Item,{label:"Username"},u("username",{rules:[{required:!0,message:"Please input your username!"}],initialValue:a})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:"E-mail"},u("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],initialValue:n})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:l.a.createElement("span",null,"Business Name\xa0",l.a.createElement(St.a,{title:"What do you want others to call your business?"},l.a.createElement(W.a,{type:"question-circle-o"})))},u("businessName",{rules:[{required:!0,message:"Please input your business name!",whitespace:!0}],initialValue:r})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:"Description"},u("description",{rules:[{required:!0,message:"Please input your description!"}],initialValue:o})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:"Website"},u("website",{rules:[{required:!0,message:"Please input your website!"}],initialValue:s})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:"Address"},u("address",{rules:[{required:!0,message:"Please input your address!"}],initialValue:i})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:"Phone Number"},u("phone",{rules:[{required:!0,message:"Please input your phone number!"}],initialValue:c})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:"Token % Accepted"},u("tokenPercent",{rules:[{required:!0,message:"Please choose your token!"}],initialValue:t})(l.a.createElement(kt.a,{tipFormatter:function(e){return"".concat(e,"%")},disabled:!0}))))}}]),a}(n.Component),Ct=a(1170);function Pt(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||Ct.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||Ct.a.error("Image must smaller than 2MB!"),t&&a}var Dt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=R.a.create()(zt);return l.a.createElement("div",{className:"right_col",role:"main"},l.a.createElement(Ve.a,null,l.a.createElement("title",null,"Platform Business")),l.a.createElement(Ge,null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 col-sm-12 "},l.a.createElement("div",{className:"dashboard_graph"},l.a.createElement("div",{className:"row x_title"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",null,"Profile"))),l.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12"}),l.a.createElement("div",{className:"col-md-12 col-sm-12"},l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"x_title"},l.a.createElement(d.b,{to:"/profile",className:"btn btn-warning"},"Back"),l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content"},l.a.createElement(e,null)))),l.a.createElement("div",{className:"clearfix"})))))}}]),a}(n.Component),zt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleUpload=function(e){var t=e.fileList;n.setState({fileList:t}),function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}(t[0].originFileObj,(function(e){n.setState({avatar:e,loading:!1,upload:"iya"})}))},n.componentDidMount=function(){y().then((function(e){var t="";t=null===e.business.avatar?"":e.business.avatar.url,n.setState({inputValue:e.business.tokenPercent,username:e.username,email:e.email,name:e.business.name,bizName:e.business.businessName,description:e.business.description,address:e.business.address,phone:e.business.phone,summary:e.business.summary,avatar:t,refId:e.business.id,website:e.business.website})})).catch((function(e){console.log(e)}))},n.onChange=function(e){n.setState({inputValue:e})},n.state={inputValue:0,username:"",email:"",name:"",bizName:"",description:"",address:"",phone:"",summary:"",loading:!1,refId:0,avatar:"",upload:null,fileList:[],website:""},n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields((function(e,a){if(!e){var n=Object.assign({},a);t.setState({loading:!0}),function(e){return b({url:f+"/businesses/me",method:"PUT",body:JSON.stringify(e)})}(n).then((function(e){var a=t.state,n=a.upload,l=a.fileList,r=a.refId;if(n){var o=new FormData;o.append("files",l[0].originFileObj),o.append("ref","business"),o.append("refId",r),o.append("field","avatar"),console.log({formData:o}),_(o).then((function(e){t.setState({loading:!1}),L.a.success({message:"Business",description:"Update Success"})})).catch((function(e){console.log(e)}))}else L.a.success({message:"Business",description:"Update Success"})})).catch((function(e){L.a.error({message:"Business",description:"Sorry! Something went wrong. Please try again!"})}))}}))}},{key:"render",value:function(){var e=this.state,t=e.inputValue,a=e.username,n=e.email,r=e.bizName,o=e.description,i=e.address,c=e.phone,s=e.loading,u=e.website;var m=this.props.form.getFieldDecorator,d={wrapperCol:{xs:{span:16,offset:0},sm:{span:16,offset:8}}},p=l.a.createElement("div",null,l.a.createElement(W.a,{type:this.state.loading?"loading":"plus"}),l.a.createElement("div",{className:"ant-upload-text"},"Upload")),h=this.state.avatar;return l.a.createElement(R.a,Object.assign({},{labelCol:{xs:{span:16},sm:{span:8}},wrapperCol:{xs:{span:16},sm:{span:8}}},{onSubmit:this.handleSubmit}),l.a.createElement(R.a.Item,{label:"Avatar"},m("upfile",{rules:[{required:!1,message:"Please input your avatar!"}]})(l.a.createElement(Ot.a,{listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"",beforeUpload:Pt,onChange:this.handleUpload},h?l.a.createElement("img",{src:h,alt:"avatar",style:{width:"100%"}}):p))),l.a.createElement(R.a.Item,{label:"Username"},m("username",{rules:[{required:!0,message:"Please input your username!"}],initialValue:a})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:"E-mail"},m("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],initialValue:n})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:l.a.createElement("span",null,"Business Name\xa0",l.a.createElement(St.a,{title:"What do you want others to call your business?"},l.a.createElement(W.a,{type:"question-circle-o"})))},m("businessName",{rules:[{required:!0,message:"Please input your business name!",whitespace:!0}],initialValue:r})(l.a.createElement(Y.a,null))),l.a.createElement(R.a.Item,{label:"Description"},m("description",{rules:[{required:!0,message:"Please input your description!"}],initialValue:o})(l.a.createElement(Y.a,null))),l.a.createElement(R.a.Item,{label:"Website"},m("website",{rules:[{required:!0,message:"Please input your website!"}],initialValue:u})(l.a.createElement(Y.a,null))),l.a.createElement(R.a.Item,{label:"Address"},m("address",{rules:[{required:!0,message:"Please input your address!"}],initialValue:i})(l.a.createElement(Y.a,null))),l.a.createElement(R.a.Item,{label:"Phone Number"},m("phone",{rules:[{required:!0,message:"Please input your phone number!"}],initialValue:c})(l.a.createElement(Y.a,null))),l.a.createElement(R.a.Item,{label:"Token % Accepted"},m("tokenPercent",{rules:[{required:!0,message:"Please choose your token!"}],initialValue:t})(l.a.createElement(kt.a,{tipFormatter:function(e){return"".concat(e,"%")},disabled:!0}))),l.a.createElement(R.a.Item,d,l.a.createElement(U.a,{type:"primary",htmlType:"submit",loading:s},"Update Profile")))}}]),a}(n.Component),At=R.a.Item,It=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleOk=function(e){console.log(e),n.setState({visible:!1})},n.handleCancel=function(e){console.log(e),n.setState({visible:!1})},n.state={visible:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.image,n=e.doing,r=e.goal,o=e.email,i=e.phone,c=e.address,s=e.detail,u=e.id,m=e.summary,d=R.a.create()(_t);return l.a.createElement("div",null,l.a.createElement("div",{className:"center img-pledge"},l.a.createElement("img",{className:"rounded w-img",src:a,alt:""})),l.a.createElement("span",{className:"text-center section",style:{color:"#313380"}},l.a.createElement("b",null,t)),l.a.createElement("p",{className:"text-center section"},m),l.a.createElement("p",{className:"text-center section"},n),l.a.createElement("p",{className:"text-center section"},"Amount we are raising: ",r),l.a.createElement("div",{className:"desc-center"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("label",null,l.a.createElement(W.a,{type:"mail",style:{fontSize:"16px",color:"#313380"}})," Email :"," ",l.a.createElement("span",null,o)),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement(W.a,{type:"phone",style:{fontSize:"16px",color:"#313380"}})," Phone :"," ",l.a.createElement("span",null,i)),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement(W.a,{type:"environment",style:{fontSize:"16px",color:"#313380"}})," Address : ",l.a.createElement("span",null,c)),l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement(W.a,{type:"info-circle",style:{fontSize:"16px",color:"#313380"}})," Details : ",l.a.createElement("span",null,s)),l.a.createElement("br",null),l.a.createElement("div",{className:"text-center mt-2"},l.a.createElement("button",{type:"submit",className:"btn btn-primary ",onClick:this.props.onShowPledgeInfo},"Pledge"))))),l.a.createElement("div",{className:"form-group text-center mt-4"}),l.a.createElement(ct.a,{title:"Pledge",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,footer:[l.a.createElement(U.a,{key:"back",onClick:this.handleCancel},"Cancel")]},l.a.createElement(d,{currid:u,handleOk:this.handleOk})))}}]),a}(n.Component),_t=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n.state={currid:n.props.currid,loading:!1},n}return Object(c.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields((function(e,a){e||(t.setState({loading:!0}),function(e){return b({url:f+"/organizations/pledge",method:"POST",body:JSON.stringify(e)})}(Object.assign({},a)).then((function(e){L.a.success({message:"Business",description:"Congratulation, you just pledge on Organization!"}),t.props.handleOk(),t.setState({loading:!1})})).catch((function(e){400===e.statusCode?L.a.error({message:"Business",description:"Sorry! Something went wrong."}):L.a.error({message:"Business",description:"Sorry! Something went wrong. Please try again!"})})))}))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,a=t.currid,n=t.loading;return l.a.createElement(R.a,{onSubmit:this.handleSubmit,className:"login-form"},l.a.createElement(At,null,e("organization_id",{rules:[{required:!1,message:"Please input your amount to pledge this organization"}],initialValue:a})(l.a.createElement(Y.a,{type:"hidden",name:"organization_id"}))),l.a.createElement(At,null,e("amount",{rules:[{required:!0,message:"Please input your amount to pledge this organization"}]})(l.a.createElement(Y.a,{prefix:l.a.createElement(W.a,{type:"wallet"}),size:"large",name:"amount",placeholder:"Amount Pledge"}))),l.a.createElement(At,null,l.a.createElement(U.a,{type:"primary",htmlType:"submit",size:"large",className:"login-form-button",loading:n},"Pledge")))}}]),a}(n.Component),Ft=a(1171),Bt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("p",null,"Thanks for supporting this worthy cause!"),l.a.createElement("p",null,"To support this cause, please visit us at the Crowdcycle Kiosk at Jl. Raya Sanggingan 88x, Indomaret Sanggingan in Ubud or at a Crowdcycle Exchange Point near you."),l.a.createElement("p",null,"You may also contact us at ",l.a.createElement("a",{href:"mailto:contact@crowdcycle.io"},"contact@crowdcycle.io")," or WhatsApp ",l.a.createElement("a",{href:"https://wa.me/62817345516"},"+62817345516"),"."),l.a.createElement("br",null),l.a.createElement("iframe",{title:"map",width:"100%",height:"450",frameBorder:"0",style:{border:0},src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3946.0249992470203!2d115.2506517755082!3d-8.49694989154463!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd23d3a170eaac7%3A0x15bcde261368514e!2sJl.%20Raya%20Sanggingan%20No.88X%2C%20Kedewatan%2C%20Kecamatan%20Ubud%2C%20Kabupaten%20Gianyar%2C%20Bali%2080571!5e0!3m2!1sid!2sid!4v1698656440789!5m2!1sid!2sid",allowFullScreen:!0}),l.a.createElement("br",null),l.a.createElement("button",{type:"submit",className:"btn btn-primary ",onClick:this.props.onShowPledgeInfo},"Back")))}}]),a}(n.Component),Rt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=[];I().then((function(t){console.log(t),t.map((function(t,a){var n="";return n=null===t.organization.avatar?"":t.organization.avatar.url,e.push({id:t.id,name:t.organization.organizationName,whatwedo:t.organization.whatwedo,goal:t.organization.goal,email:t.email,phone:t.organization.phone,address:t.organization.address,details:t.organization.description,image:n,summary:t.organization.summary}),null})),n.setState({data:{datas:e}})})).catch((function(e){console.log(e)}))},n.next=function(){n.carousel.next()},n.previous=function(){n.carousel.prev()},n.state={data:{datas:[]},step:0,amount:0,showPledgeInfo:!1},n.carousel=l.a.createRef(),n}return Object(c.a)(a,[{key:"renderSlideData",value:function(){var e=this;return this.state.data.datas.map((function(t,a){var n=t.id,r=t.name,o=t.whatwedo,i=t.goal,c=t.email,s=t.phone,u=t.address,m=t.details,d=t.image,p=t.summary;return l.a.createElement(It,{id:n,name:r,image:d,doing:o,goal:i,email:c,phone:s,address:u,detail:m,summary:p,key:n,onShowPledgeInfo:function(){return e.setState({showPledgeInfo:!e.state.showPledgeInfo})}})}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"right_col",role:"main"},l.a.createElement(Ve.a,null,l.a.createElement("title",null,"Business")),l.a.createElement(Ge,null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},l.a.createElement("div",{className:"dashboard_graph"},l.a.createElement("div",{className:"row x_title"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("h3",null," Pledge "))),l.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12"}),l.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},this.state.showPledgeInfo?l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"x_content"},l.a.createElement(Bt,{onShowPledgeInfo:function(){return e.setState({showPledgeInfo:!e.state.showPledgeInfo})}}))):l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"x_title"},l.a.createElement("span",{className:"prev available",onClick:this.previous},l.a.createElement("i",{className:"fa fa-chevron-left glyphicon glyphicon-chevron-left"})," ","Previous"),l.a.createElement("span",{className:"month"},"-"),l.a.createElement("span",{className:"next available",onClick:this.next},"Next"," ",l.a.createElement("i",{className:"fa fa-chevron-right glyphicon glyphicon-chevron-right"})),l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content"},l.a.createElement(Ft.a,{autoplay:!0,ref:function(t){return e.carousel=t}},this.renderSlideData())))),l.a.createElement("div",{className:"clearfix"})))))}}]),a}(n.Component),Mt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=R.a.create()(Lt);return l.a.createElement("div",{className:"right_col",role:"main"},l.a.createElement(Ve.a,null,l.a.createElement("title",null,"Organization")),l.a.createElement(lt,null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 col-sm-12 "},l.a.createElement("div",{className:"dashboard_graph"},l.a.createElement("div",{className:"row x_title"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",null,"Profile"))),l.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12"}),l.a.createElement("div",{className:"col-md-12 col-sm-12"},l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"x_title"},l.a.createElement(d.b,{to:"/edit-profile",className:"btn btn-primary"},"Edit"),l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content"},l.a.createElement(e,null)))),l.a.createElement("div",{className:"clearfix"})))))}}]),a}(n.Component),Lt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){y().then((function(e){var t="";t=null===e.organization.avatar?"":e.organization.avatar.url,console.log(e),n.setState({username:e.username,email:e.email,name:e.organization.name,orgName:e.organization.organizationName,description:e.organization.description,goal:e.organization.goal,phone:e.organization.phone,address:e.organization.address,bankName:e.organization.bankName,bankAccountHolder:e.organization.bankAccountHolder,bankNumber:e.organization.bankNumber,whatwedo:e.organization.whatwedo,summary:e.organization.summary,website:e.organization.website,avatar:t})})).catch((function(e){console.log(e)}))},n.onChange=function(e){n.setState({inputValue:e})},n.state={username:"",email:"",name:"",orgName:"",description:"",goal:"",phone:"",address:"",bankName:"",bankAccountHolder:"",bankNumber:"",whatwedo:"",summary:"",website:"",loading:!1,avatar:""},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.orgName,r=e.description,o=e.address,i=e.bankName,c=e.bankAccountHolder,s=e.bankNumber,u=e.phone,m=e.goal,d=e.website,p=this.props.form.getFieldDecorator,h={labelCol:{xs:{span:16},sm:{span:8}},wrapperCol:{xs:{span:16},sm:{span:8}}},g=l.a.createElement("div",null,l.a.createElement(W.a,{type:this.state.loading?"loading":"plus"}),l.a.createElement("div",{className:"ant-upload-text"},"Upload")),f=this.state.avatar;return l.a.createElement(R.a,h,l.a.createElement(R.a.Item,{label:"Avatar"},p("files.avatar",{rules:[{required:!0,message:"Please input your avatar!"}]})(l.a.createElement(Ot.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",disabled:!0},f?l.a.createElement("img",{src:f,alt:"avatar",style:{width:"100%"}}):g))),l.a.createElement(R.a.Item,{label:"Username"},p("username",{rules:[{required:!0,message:"Please input your username!"}],initialValue:t})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:"E-mail"},p("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],initialValue:a})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:l.a.createElement("span",null,"Organization Name\xa0",l.a.createElement(St.a,{title:"What do you want others to call your organization?"},l.a.createElement(W.a,{type:"question-circle-o"})))},p("organizationName",{rules:[{required:!0,message:"Please input your organization name!",whitespace:!0}],initialValue:n})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:"Description"},p("description",{rules:[{required:!0,message:"Please input your description!"}],initialValue:r})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:"Website"},p("website",{rules:[{required:!0,message:"Please input your website!"}],initialValue:d})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:"Fundraising Goal"},p("goal",{rules:[{required:!0,message:"Please input your fundraising goal!"}],initialValue:m})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:"Phone Number"},p("phone",{rules:[{required:!0,message:"Please input your phone number!"}],initialValue:u})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:"Address"},p("address",{rules:[{required:!0,message:"Please input your address!"}],initialValue:o})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:"Bank Name"},p("bankName",{rules:[{required:!0,message:"Please input your bank name!"}],initialValue:i})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:"Bank Account Holder"},p("bankAccount",{rules:[{required:!0,message:"Please input your bank account holder!"}],initialValue:c})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:"Account Number"},p("bankNumber",{rules:[{required:!0,message:"Please input your account number!"}],initialValue:s})(l.a.createElement(Y.a,{disabled:!0}))))}}]),a}(n.Component);function Yt(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}function Wt(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||Ct.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||Ct.a.error("Image must smaller than 2MB!"),t&&a}var Ut=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=R.a.create()(Gt);return l.a.createElement("div",{className:"right_col",role:"main"},l.a.createElement(Ve.a,null,l.a.createElement("title",null,"Organization")),l.a.createElement(lt,null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 col-sm-12 "},l.a.createElement("div",{className:"dashboard_graph"},l.a.createElement("div",{className:"row x_title"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",null,"Profile"))),l.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12"}),l.a.createElement("div",{className:"col-md-12 col-sm-12"},l.a.createElement("div",{className:"x_panel"},l.a.createElement("div",{className:"x_title"},l.a.createElement(d.b,{to:"/profile",className:"btn btn-warning"},"Back"),l.a.createElement("div",{className:"clearfix"})),l.a.createElement("div",{className:"x_content"},l.a.createElement(e,null)))),l.a.createElement("div",{className:"clearfix"})))))}}]),a}(n.Component),Gt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleUpload=function(e){var t=e.fileList;n.setState({fileList:t}),Yt(t[0].originFileObj,(function(e){n.setState({avatar:e,loading:!1,upload:"iya"})}))},n.handleChange=function(e){console.log(e),Yt(e.file.originFileObj,(function(e){n.setState({avatar:e,loading:!1,upload:"iya"})}))},n.componentDidMount=function(){y().then((function(e){var t="";t=null===e.organization.avatar?"":e.organization.avatar.url,n.setState({username:e.username,email:e.email,name:e.organization.name,orgName:e.organization.organizationName,description:e.organization.description,goal:e.organization.goal,phone:e.organization.phone,address:e.organization.address,bankName:e.organization.bankName,bankAccountHolder:e.organization.bankAccountHolder,bankNumber:e.organization.bankNumber,whatwedo:e.organization.whatwedo,summary:e.organization.summary,avatar:t,refId:e.organization.id,website:e.organization.website})})).catch((function(e){console.log(e)}))},n.onChange=function(e){n.setState({inputValue:e})},n.state={username:"",email:"",name:"",orgName:"",description:"",goal:"",phone:"",address:"",bankName:"",bankAccountHolder:"",bankNumber:"",whatwedo:"",summary:"",loading:!1,refId:0,avatar:"",upload:null,fileList:[],website:""},n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields((function(e,a){if(!e){var n=Object.assign({},a);t.setState({loading:!0}),function(e){return b({url:f+"/organizations/me",method:"PUT",body:JSON.stringify(e)})}(n).then((function(e){var a=t.state,n=a.upload,l=a.fileList,r=a.refId;if(n){var o=new FormData;o.append("files",l[0].originFileObj),o.append("ref","organization"),o.append("refId",r),o.append("field","avatar"),console.log({formData:o}),_(o).then((function(e){t.setState({loading:!1}),L.a.success({message:"Organization",description:"Update Success"})})).catch((function(e){console.log(e)}))}else L.a.success({message:"Organization",description:"Update Success"})})).catch((function(e){L.a.error({message:"Organization",description:"Sorry! Something went wrong. Please try again!"})}))}}))}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.orgName,r=e.description,o=e.address,i=e.bankName,c=e.bankAccountHolder,s=e.bankNumber,u=e.phone,m=e.goal,d=e.loading,p=e.website,h=this.props.form.getFieldDecorator,g={wrapperCol:{xs:{span:16,offset:0},sm:{span:16,offset:8}}},f=l.a.createElement("div",null,l.a.createElement(W.a,{type:this.state.loading?"loading":"plus"}),l.a.createElement("div",{className:"ant-upload-text"},"Upload")),v=this.state.avatar;return l.a.createElement(R.a,Object.assign({},{labelCol:{xs:{span:16},sm:{span:8}},wrapperCol:{xs:{span:16},sm:{span:8}}},{onSubmit:this.handleSubmit}),l.a.createElement(R.a.Item,{label:"Avatar"},h("upfile",{rules:[{required:!1,message:"Please input your avatar!"}]})(l.a.createElement(Ot.a,{listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"",beforeUpload:Wt,onChange:this.handleUpload},v?l.a.createElement("img",{src:v,alt:"avatar",style:{width:"100%"}}):f))),l.a.createElement(R.a.Item,{label:"Username"},h("username",{rules:[{required:!0,message:"Please input your username!"}],initialValue:t})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:"E-mail"},h("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],initialValue:a})(l.a.createElement(Y.a,{disabled:!0}))),l.a.createElement(R.a.Item,{label:l.a.createElement("span",null,"Organization Name\xa0",l.a.createElement(St.a,{title:"What do you want others to call your organization?"},l.a.createElement(W.a,{type:"question-circle-o"})))},h("organizationName",{rules:[{required:!0,message:"Please input your organization name!",whitespace:!0}],initialValue:n})(l.a.createElement(Y.a,null))),l.a.createElement(R.a.Item,{label:"Description"},h("description",{rules:[{required:!0,message:"Please input your description!"}],initialValue:r})(l.a.createElement(Y.a,null))),l.a.createElement(R.a.Item,{label:"Website"},h("website",{rules:[{required:!0,message:"Please input your website!"}],initialValue:p})(l.a.createElement(Y.a,null))),l.a.createElement(R.a.Item,{label:"Fundraising Goal"},h("goal",{rules:[{required:!0,message:"Please input your fundraising goal!"}],initialValue:m})(l.a.createElement(Y.a,null))),l.a.createElement(R.a.Item,{label:"Phone Number"},h("phone",{rules:[{required:!0,message:"Please input your phone number!"}],initialValue:u})(l.a.createElement(Y.a,null))),l.a.createElement(R.a.Item,{label:"Address"},h("address",{rules:[{required:!0,message:"Please input your address!"}],initialValue:o})(l.a.createElement(Y.a,null))),l.a.createElement(R.a.Item,{label:"Bank Name"},h("bankName",{rules:[{required:!0,message:"Please input your bank name!"}],initialValue:i})(l.a.createElement(Y.a,null))),l.a.createElement(R.a.Item,{label:"Bank Account Holder"},h("bankAccountHolder",{rules:[{required:!0,message:"Please input your bank account holder!"}],initialValue:c})(l.a.createElement(Y.a,null))),l.a.createElement(R.a.Item,{label:"Account Number"},h("bankNumber",{rules:[{required:!0,message:"Please input your account number!"}],initialValue:s})(l.a.createElement(Y.a,null))),l.a.createElement(R.a.Item,g,l.a.createElement(U.a,{type:"primary",htmlType:"submit",loading:d},"Update Profile")))}}]),a}(n.Component),Vt=a(37),qt=a(207);function Ht(e){var t=l.a.createElement(W.a,{type:"loading-3-quarters",style:{fontSize:30},spin:!0});return l.a.createElement(Q.a,{indicator:t,style:{display:"block",textAlign:"center",marginTop:30}})}a(1165),n.Component,a(497),a(1166),n.Component;var Jt=Object(n.createContext)({sidebarType:"nav-md",onChangeSidebar:function(){}}),Kt=a(138);function Qt(){var e=window,t=e.innerWidth,a=e.innerHeight;return{width:t,height:a,act:!(a>1024||t>768)}}var Xt=function(e){var t=function(){var e=Object(n.useState)(Qt()),t=Object(Kt.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){function e(){l(Qt())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}().act,a=Object(n.useContext)(Jt).onChangeSidebar,r=e.link,o=e.isActive,i=e.icon,c=e.name;return l.a.createElement("li",{className:o?"active":""},l.a.createElement(d.b,{to:r,onClick:t?a:""},l.a.createElement("i",{className:i})," ",c))},$t=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleActive=function(e){return n.props.loc===e},n.state={isActive:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{id:"sidebar-menu",className:"main_menu_side hidden-print main_menu"},l.a.createElement("div",{className:"menu_section"},l.a.createElement("h3",null,"General"),l.a.createElement("ul",{className:"nav side-menu"},l.a.createElement(Xt,{isActive:this.handleActive("/"),icon:"fa fa-home",link:"/",name:"Home"}),l.a.createElement(Xt,{isActive:this.handleActive("/finances"),icon:"fa fa-bar-chart-o",link:"/finances",name:"Finances"}),l.a.createElement(Xt,{isActive:this.handleActive("/reports"),icon:"fa fa-table",link:"/reports",name:"Reports"}),l.a.createElement(Xt,{isActive:this.handleActive("/users"),icon:"fa fa-users",link:"/users",name:"Users List"}))))}}]),a}(n.Component),Zt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleActive=function(e){return n.props.loc===e},n.state={isActive:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{id:"sidebar-menu",className:"main_menu_side hidden-print main_menu"},l.a.createElement("div",{className:"menu_section"},l.a.createElement("h3",null,"General"),l.a.createElement("ul",{className:"nav side-menu"},l.a.createElement(Xt,{isActive:this.handleActive("/"),icon:"fa fa-home",link:"/",name:"Home"}),l.a.createElement(Xt,{isActive:this.handleActive("/profile"),icon:"fa fa-user",link:"/profile",name:"Profile"}))))}}]),a}(n.Component),ea=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleActive=function(e){return n.props.loc===e},n.state={isActive:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{id:"sidebar-menu",className:"main_menu_side hidden-print main_menu"},l.a.createElement("div",{className:"menu_section"},l.a.createElement("h3",null,"General"),l.a.createElement("ul",{className:"nav side-menu"},l.a.createElement(Xt,{isActive:this.handleActive("/"),icon:"fa fa-home",link:"/",name:"Home"}),l.a.createElement(Xt,{isActive:this.handleActive("/profile"),icon:"fa fa-user",link:"/profile",name:"Profile"}),l.a.createElement(Xt,{isActive:this.handleActive("/pledge"),icon:"fa fa-gift",link:"/pledge",name:"Pledge"}))))}}]),a}(n.Component),ta="",aa=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).renderProfile=function(){return null!==n.state.avatar?l.a.createElement("img",{src:n.state.avatar,alt:"...",className:"img-circle profile_img"}):""},n.state={role:"",titleRole:"",username:"",avatar:null},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){ta=this.props.location.location,this.setState({location:this.props.location.location,role:this.props.userStatus,username:this.props.userInfo.username}),"business"===this.props.userStatus?(this.setState({titleRole:"Business"}),null!==this.props.userInfo.business.avatar&&this.setState({avatar:this.props.userInfo.business.avatar.url,username:this.props.userInfo.business.businessName})):"organization"===this.props.userStatus?(this.setState({titleRole:"Organization"}),null!==this.props.userInfo.organization.avatar&&this.setState({avatar:this.props.userInfo.organization.avatar.url,username:this.props.userInfo.organization.organizationName})):this.setState({titleRole:"Coordinator"})}},{key:"componentWillUpdate",value:function(e,t){ta=e.location.location.pathname}},{key:"render",value:function(){var e=this.state,t=e.role,a=e.username;return l.a.createElement("div",{className:"col-md-3 left_col"},l.a.createElement("div",{className:"left_col scroll-view"},l.a.createElement("div",{className:"navbar nav_title",style:{border:"0"}},l.a.createElement(d.b,{to:"/",className:"site_title",onClick:this.context.onChangeSidebar},l.a.createElement("img",{src:"CrowdCycle-logo.jpg",alt:"Logo",style:{height:"32px",marginLeft:"8px"}})," ",l.a.createElement("span",{className:"blue"},"  ",this.state.titleRole))),l.a.createElement("div",{className:"clearfix"}),l.a.createElement("div",{className:"profile clearfix"},l.a.createElement("div",{className:"profile_pic"},this.renderProfile()),l.a.createElement("div",{className:"profile_info"},l.a.createElement("span",null,"Welcome,"),l.a.createElement("h2",null,a))),l.a.createElement("br",null),"cordinator"===t?l.a.createElement($t,{loc:ta}):"business"===t?l.a.createElement(ea,{loc:ta}):"organization"===t?l.a.createElement(Zt,{loc:ta}):""))}}]),a}(n.Component);aa.contextType=Jt;var na=function(e){return l.a.createElement("ul",{className:"dropdown-menu dropdown-usermenu pull-right"},l.a.createElement("li",null,l.a.createElement(d.b,{onClick:function(){return e.handleLogout("/login","error","You have been logged out. Please login to vote")}},l.a.createElement("i",{className:"fa fa-sign-out pull-right"})," Log Out")))};var la=function(e){var t=Object(n.useContext)(Jt).onChangeSidebar,a=Object(n.useState)(""),r=Object(Kt.a)(a,2),o=r[0],i=r[1],c=Object(n.useState)(null),s=Object(Kt.a)(c,2),u=s[0],m=s[1],p=Object(n.useState)("Coordinator"),h=Object(Kt.a)(p,2),g=h[0],f=h[1];return Object(n.useEffect)((function(){i(e.userInfo.username),"organization"===e.userInfo.role.type?null!==e.userInfo.organization.avatar&&(m(e.userInfo.organization.avatar.url),i(e.userInfo.organization.organizationName),f("Organization")):"business"===e.userInfo.role.type&&null!==e.userInfo.business.avatar&&(m(e.userInfo.business.avatar.url),i(e.userInfo.business.businessName),f("Business"))}),[e.userInfo]),l.a.createElement("div",{className:"top_nav"},l.a.createElement("div",{className:"nav_menu"},l.a.createElement("nav",null,l.a.createElement("div",{className:"nav toggle"},l.a.createElement(d.b,{onClick:t},l.a.createElement("i",{className:"fa fa-bars"}))),l.a.createElement("ul",{className:"nav navbar-nav navbar-right"},l.a.createElement("li",{className:""},l.a.createElement(d.b,{className:"user-profile dropdown-toggle","data-toggle":"dropdown","aria-expanded":"false"},null!==u?l.a.createElement("img",{src:u,alt:"..."}):"",o,l.a.createElement("span",{className:" fa fa-angle-down"})),l.a.createElement(na,{handleLogout:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"You're successfully logged out.";localStorage.removeItem("accessToken"),L.a[e]({message:g,description:t}),setTimeout((function(e){window.location.reload()}),3e3)}()}}))))))},ra=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("footer",null,l.a.createElement("div",{className:"pull-right"},"Gentelella - Bootstrap Admin Template by",l.a.createElement("a",{href:"https://colorlib.com"},"Colorlib")),l.a.createElement("div",{className:"clearfix"}))}}]),a}(n.Component),oa=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).loadCurrentUser=function(){y().then((function(e){n.setState({userStatus:e.role.type,userInfo:e})})).catch((function(e){n.setState({isLoading:!1})}))},n.handleLogin=function(e){var t=e.user.role.type;"cordinator"===t?L.a.success({message:"Platform Coordinator",description:"you're successfully logged in."}):"business"===t?L.a.success({message:"Business",description:"you're successfully logged in."}):"organization"===t&&L.a.success({message:"Organization",description:"you're successfully logged in."}),setTimeout((function(e){window.location.reload(),n.loadCurrentUser()}),3e3)},n.onChangeSidebar=function(){n.setState((function(e){return{sidebarType:"nav-md"===e.sidebarType?"nav-sm":"nav-md"}}))},n.state={sidebarType:"nav-md",onChangeSidebar:n.onChangeSidebar,userStatus:"",userInfo:"",isAuthenticated:!1,isLoading:!1},L.a.config({placement:"topRight",top:70,duration:3}),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;y().then((function(t){e.setState({userStatus:t.role.type,userInfo:t}),e.props.setUser(t),e.props.history.push("/")})).catch((function(t){e.props.history.push("/login"),e.props.clearUser()}))}},{key:"render",value:function(){var e=this;return this.props.isLoading?l.a.createElement(Ht,null):"business"===this.state.userStatus?l.a.createElement(Jt.Provider,{value:this.state},l.a.createElement("div",{className:this.state.sidebarType},l.a.createElement("div",{className:"container body"},l.a.createElement("div",{className:"main_container"},l.a.createElement(aa,{location:this.props.history,userStatus:this.state.userStatus,userInfo:this.state.userInfo}),l.a.createElement(la,{userInfo:this.state.userInfo}),l.a.createElement(Vt.d,null,l.a.createElement(Vt.b,{exact:!0,path:"/",render:function(t){return l.a.createElement(Je,{userInfo:e.state.userInfo})}}),l.a.createElement(Vt.b,{path:"/profile",component:Tt}),l.a.createElement(Vt.b,{path:"/edit-profile",component:Dt}),l.a.createElement(Vt.b,{path:"/pledge",component:Rt}),l.a.createElement(ra,null)))))):"cordinator"===this.state.userStatus?l.a.createElement(Jt.Provider,{value:this.state},l.a.createElement("div",{className:this.state.sidebarType},l.a.createElement("div",{className:"container body"},l.a.createElement("div",{className:"main_container"},l.a.createElement(aa,{location:this.props.history,userStatus:this.state.userStatus,userInfo:this.state.userInfo}),l.a.createElement(la,{userInfo:this.state.userInfo}),l.a.createElement(Vt.d,null,l.a.createElement(Vt.b,{exact:!0,path:"/",component:Ie}),l.a.createElement(Vt.b,{path:"/finances",component:gt}),l.a.createElement(Vt.b,{path:"/reports",component:ft}),l.a.createElement(Vt.b,{path:"/users",component:xt}),l.a.createElement(ra,null)))))):"organization"===this.state.userStatus?l.a.createElement(Jt.Provider,{value:this.state},l.a.createElement("div",{className:this.state.sidebarType},l.a.createElement("div",{className:"container body"},l.a.createElement("div",{className:"main_container"},l.a.createElement(aa,{location:this.props.history,userStatus:this.state.userStatus,userInfo:this.state.userInfo}),l.a.createElement(la,{userInfo:this.state.userInfo}),l.a.createElement(Vt.d,null,l.a.createElement(Vt.b,{exact:!0,path:"/",render:function(t){return l.a.createElement(it,{userInfo:e.state.userInfo})}}),l.a.createElement(Vt.b,{path:"/profile",component:Mt}),l.a.createElement(Vt.b,{path:"/edit-profile",component:Ut}),l.a.createElement(ra,null)))))):l.a.createElement(Vt.d,null,l.a.createElement(Vt.b,{path:"/login",render:function(t){return l.a.createElement(H,Object.assign({onLogin:e.handleLogin},t))}}),l.a.createElement(Vt.b,{path:"/forgot",render:function(t){return l.a.createElement(te,Object.assign({onLogin:e.handleLogin},t))}}))}}]),a}(n.Component),ia=Object(Vt.g)(Object(qt.b)((function(e){return{isLoading:e.user.isLoading}}),{setUser:function(e){return{type:"SET_USER",payload:{currentUser:e}}},clearUser:function(){return{type:"CLEAR_USER"}}})(oa));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ca=a(112),sa={currentUser:null,isLoading:!0},ua=Object(ca.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return{currentUser:t.payload.currentUser,isLoading:!1};case"CLEAR_USER":return Object(K.a)({},sa,{isLoading:!1});default:return e}}}),ma=a(494),da=Object(ca.createStore)(ua,Object(ma.composeWithDevTools)());o.a.render(l.a.createElement(qt.a,{store:da},l.a.createElement(d.a,null,l.a.createElement(ia,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},318:function(e,t,a){},502:function(e,t,a){e.exports=a(1167)},508:function(e,t,a){},661:function(e,t,a){},711:function(e,t){},713:function(e,t){},743:function(e,t){},744:function(e,t){},789:function(e,t){},791:function(e,t){}},[[502,1,2]]]);
//# sourceMappingURL=main.fab5793d.chunk.js.map